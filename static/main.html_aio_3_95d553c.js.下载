/*!common/widgets/policy-update/main.js*/
;define("common/widgets/policy-update/main",["require","exports","module","common/components/modal/modal","dep/jquery.cookie/jquery.cookie"],function(require){function c(c){$.cookie(v,c,{domain:".lagou.com",expires:7})}function a(){$(".policy-update").modal("show")}function y(c,a){$.lgAjax({type:"get",headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:k+"/v1/entry/privacyPolicy/query",dataType:"json",needNoToken:!0}).done(function(y){1==y.state&&(y.content.popUp?c&&c():a&&a())})}function h(){window.location.href.indexOf("privacy.html")>-1||window.location.href.indexOf("policy.html")>-1||("undefined"==typeof $.cookie(v)||""===$.trim($.cookie(v))?y(function(){c(!0),a()},function(){c(!1)}):"true"===$.cookie(v)&&a(),$(".policy-update .comfirm-btn").bind("click",function(){$.lgAjax({type:"post",headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:k+"/v1/entry/privacyPolicy/userConfirm",dataType:"json",needNoToken:!0}).done(function(){c(!1),$(".policy-update").modal("hide")}).fail(function(){c(!1),$(".policy-update").modal("hide")})}))}require("common/components/modal/modal"),require("dep/jquery.cookie/jquery.cookie");var k="https://gate.lagou.com",v="privacyPolicyPopup";h()});
/*!common/widgets/country-code/main.js*/
;define("common/widgets/country-code/main",["require","exports","module"],function(){function a(a,c){for(var $=a;$[0];){if($.hasClass(c))return!0;$=$.parent()}return!1}$.lgAjax({url:"https://passport.lagou.com/register/getPhoneCountryCode.json",dataType:"jsonp",jsonp:"jsoncallback",success:function(a){var c="",_=a.content.rows;if(1===a.state&&_){$(".area_code").text(_[0].countryList[0].code);for(var v=0,h=_.length;h>v;v++){c+="<dt>"+_[v].name+"</dt>";for(var i=0,g=_[v].countryList.length;g>i;i++)c+="<dd>"+_[v].countryList[i].name+"<span>"+_[v].countryList[i].code+"</span></dd>"}}else c="请求出错";$(".code_list_main").append(c)}}),$(document).off("click",".area_code"),$(document).on("click",".area_code",function(){var a=$(this).next();return a.is(":visible")?($(this).removeClass("active"),a.hide()):($(this).addClass("active"),a.show().scrollTop(0)),!1}),$(document).off("click",".area_code_list dd"),$(document).on("click",".area_code_list dd",function(){var a=$(this).parents(".area_code_list"),c=a.prev();return c.text($(this).children("span").text()),c.trigger("click"),!1}),$(document).on("click",function(c){var _=$(c.target);return a(_,"area_code_list")?!1:($(".area_code").removeClass("active"),void $(".area_code_list").hide())})});
/*!mycenter/modules/myresume_new/common/modal.js*/
;define("mycenter/modules/myresume_new/common/modal",["require","exports","module"],function(){+function(a){"use strict";function h(h,b){return this.each(function(){var g=a(this),$=g.data("bs.modal"),y=a.extend({},c.DEFAULTS,g.data(),"object"==typeof h&&h);$||g.data("bs.modal",$=new c(this,y)),"string"==typeof h?$[h](b):y.show&&$.show(b)})}var c=function(h,c){this.options=c,this.$body=a(document.body),this.$element=a(h),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(h){var b=this,e=a.Event("show.bs.modal",{relatedTarget:h});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){b.$element.one("mouseup.dismiss.bs.modal",function(e){a(e.target).is(b.$element)&&(b.ignoreBackdropClick=!0)})}),this.backdrop(function(){var g=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(b.$body),b.$element.show().scrollTop(0),b.adjustDialog(),g&&b.$element[0].offsetWidth,b.$element.addClass("in"),b.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:h});g?b.$dialog.one("bsTransitionEnd",function(){b.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(c.TRANSITION_DURATION):b.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(e){e&&e.preventDefault(),e=a.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(h){var b=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var $=a.support.transition&&g;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+g).appendTo(this.$element),this.$backdrop.on("click.dismiss.bs.modal",a.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),$&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!h)return;$?this.$backdrop.one("bsTransitionEnd",h).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):h()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var y=function(){b.removeBackdrop(),h&&h()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",y).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):y()}else h&&h()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var h=document.documentElement.getBoundingClientRect();a=h.right-Math.abs(h.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var h=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),h};var b=a.fn.modal;a.fn.modal=h,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=b,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var c=a(this),b=c.attr("href"),g=a(c.attr("data-target")||b&&b.replace(/.*(?=#[^\s]+$)/,"")),$=g.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(b)&&b},g.data(),c.data());c.is("a")&&e.preventDefault(),g.one("show.bs.modal",function(a){a.isDefaultPrevented()||g.one("hidden.bs.modal",function(){c.is(":visible")&&c.trigger("focus")})}),h.call(g,$,this)})}(jQuery)});
/*!mycenter/modules/common/js/common.js*/
;define("mycenter/modules/common/js/common",["require","exports","module"],function(){function a(a,c){$.colorbox({html:'<div id="uploadFile" class="popup"><table width="100%"><tr><td align="center"><h4 class="error_msg">'+a+'</h4></td></tr><tr><td align="center"><a href="javascript:;" class="btn_s">确&nbsp;定</a></td></tr></table></div>',title:c?c:"错误提示"})}window.location.protocol+"//www.lagou.com";window.myresumeCommon=window.myresumeCommon||{requestTargets:{photoUpload:"/resume/uploadPhoto.json"},config:{userPhotoSelector:{width:250,height:250},companyLogoSelector:{width:250,height:250},perImagSelector:{width:120,height:120},productImgSelector:{width:300,height:180},workShowSelector:{width:280,height:210},cutLogoImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:170,h:170,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:250,h:250,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutPerImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:120,h:120,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutProductImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:300,h:180,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}}},errorTips:function(a,c,g){g=g||2e3,1!=a.data("errortipspending")&&(a.text(c),a.show(),a.data("errortipspending",1),window.setTimeout(function(){a.hide(),a.data("errortipspending",0)},g))},utils:{imageUpload:function(c,g,h,w,b){c=$(c);var v=c.attr("id"),y=c.attr("title"),C="text",I={};b&&(I=b),this.AllowExt=".jpg,.gif,.jpeg,.png,.pjpeg",this.FileExt=c.val().substr(c.val().lastIndexOf(".")).toLowerCase(),0!=this.AllowExt&&-1==this.AllowExt.indexOf(this.FileExt)?(a(y),$("input[type = 'file']").val("")):$.ajaxFileUpload({url:g,secureuri:!1,fileElementId:v,data:I,dataType:C,success:function(c){"text"==C&&(c=$.parseJSON(c)),c.success?h&&h(c.content,v):(w&&w(1),a(y,"错误提示"))},error:function(c){w&&w(c),a("支持jpg、jpeg、gif、png格式，文件小于10M","错误提示")}})},unset:function(a){$.each(a,function(c){a[c]=null})},strFormat:function(a,c){a=String(a);var g=Array.prototype.slice.call(arguments,1),h=Object.prototype.toString;return g.length?(g=1==g.length&&null!==c&&/\[object Array\]|\[object Object\]/.test(h.call(c))?c:g,a.replace(/#\{(.+?)\}/g,function(a,c){var w=g[c];return"[object Function]"==h.call(w)&&(w=w(c)),"undefined"==typeof w?"":w})):a},requester:function(a,c){a.dataType=a.dataType||"json",a.type=a.type||"POST",a.data=a.data||{},a.data.resubmitToken=globals.token,$.lgAjax(a).done(function(a){null!=a.resubmitToken&&""!=a.resubmitToken&&(globals.token=a.resubmitToken),c&&c(a)})},addHttpPrefix:function(a,c,g){a=a.split("|");for(var h=a[0],i=0,w=a.length;w>i;i++)if(a[i]===c.substring(0,a[i].length))return;g(h+c)},errorTips:function(a,c,g){g=g||2e3,1!=a.data("errortipspending")&&(a.text(c),a.show(),a.data("errortipspending",1),window.setTimeout(function(){a.hide(),a.data("errortipspending",0)},g))},throttle:function(a,c,g,h){g=void 0==g?null:g,a.tId&&clearTimeout(a.tId),a.tId=setTimeout(function(){a.apply(g,c)},h?h:140)},inputerListener:function(a,c){var g=0;if("onpropertychange"in a[0]&&$.browser.ie&&parseInt($.browser.version<=8))a.bind("propertychange",function(e){"value"==e.originalEvent.propertyName&&myresumeCommon.utils.throttle(c,[a.val()],g)});else if($.browser.ie&&9==$.browser.version){var h,w=a.val();a.bind("focus",function(){h=window.setInterval(function(){var h=a.val();h!=w&&(w=h,myresumeCommon.utils.throttle(c,[w],g))},50)}),a.bind("blur",function(){window.clearInterval(h),h=void 0})}else a.bind("input",function(){myresumeCommon.utils.throttle(c,[a.val()],g)})},lightHighthtml:function(a){var c=$.extend(!0,{className:"",color:"#00B38A",keywordList:[],targetString:""},a),g=[],h=c.targetString,w=c.keywordList,b=c.className,v=c.color;if(!w||!w.length)return h?c.targetString:"";var y=w.some(function(a){return"◐◑卍卐".indexOf(a)>-1});if(y)return c.targetString;for(var C=0;C<w.length;C++)for(var I=C+1;I<w.length;I++)w[C]===w[I]&&(w.splice(I,1),I--);for(var i=0;i<w.length;i++)for(var j=i+1;j<w.length;j++)if(w[j].indexOf(w[i])>-1){var O=w[i];w[i]=w[j],w[j]=O}try{for(var T=new RegExp("<.*?>","i"),t=0;!0;t++){var S=T.exec(h);if(!S)break;g.push(S),h=h.replace(S,t%2?"◐":"◑")}return w.forEach(function(a){var c=a.replace(/(\*|\.|\?|\+|\$|\^|\[|\]|\(|\)|\{|\}|\||\\|\/)/g,"\\$1"),g=new RegExp(c,"img");h=h.replace(g,"卍$&卐")}),g.forEach(function(a,i){var c=i%2?"◐":"◑",g=new RegExp(c);h=h.replace(g,a)}),b?h.replace(/卍/gi,"<span class="+b+">").replace(/卐/gi,"</span>"):h.replace(/卍/gi,'<span style="color:'+v+';">').replace(/卐/gi,"</span>")}catch(e){return c.targetString}}}},$("body").on("click","a.btn_s",function(){$.colorbox.close(),parent.jQuery.colorbox.close()}),$(".inline").colorbox({inline:!0}),$(".errorTips").click(function(){a("上传附件格式错误!")})});
/*!mycenter/modules/common/js/components.js*/
;define("mycenter/modules/common/js/components",["require","exports","module"],function(){!function(){var a={CityWrapper:function(){var a={active:"mr_on"},c={hotCitys:"<li>北京</li><li>上海</li><li>广州</li><li>深圳</li><li>杭州</li><li>成都</li><li>西安</li><li>南京</li><li>厦门</li><li>武汉</li>"},h=function(a){var c={};this._get=function(a){return c[a]},this._set=function(a,h){var g=this;return c[a]=h,g},g.call(this,a)},g=function(a){var h=this;if(!a.container)throw"Need options.container!";var g={};a.container.find(".mr_province li:first ul").html(c.hotCitys);var v=a.container.find(".mr_province li");v.each(function(){var a=$(this);g[a.find("span")]=a.find("ul")}),h._set("container",a.container)._set("onchange",a.onchange)._set("targetShown",a.container.find('input[type="text"]'))._set("basicCity",a.container.find('input[name="workCity"]'))._set("targetInput",a.container.find('input[type="hidden"]'))._set("beforeShown",a.beforeShown)._set("afterHide",a.afterHide)._set("targetPanel",a.container.find(".xl_list"))._set("value",void 0)._set("targetProvinceWrap",a.container.find(".mr_province"))._set("targetProvinces",a.container.find(".mr_province span"))._set("targetCityWrap",a.container.find(".mr_province ul"))._set("targetCityObjs",a.container.find(".mr_province ul li"))._set("targetHotCitys",a.container.find(".mr_province li:first  ul li"))._set("targetHotCityUl",a.container.find(".mr_province li:first  ul"))._set("targetHotCityLeft",a.container.find(".mr_province li:first  span"))._set("oProvinceCity",g)._set("targetCityUl",a.container.find(".mr_province li ul")),_.call(h)},_=function(){var a=this;b.call(a)},v={hide:function(a){if(a._get("stateShown")){a._get("targetPanel").hide();var c=a._get("afterHide");c&&c(a._get("container"),a),a._set("stateShown",!1)}},show:function(a){if(!a._get("stateShown")){C.call(a);var c=a._get("beforeShown");c&&c(a._get("container"),a),a._get("targetPanel").show(),a._set("stateShown",!0)}},change:function(a,c){var h=a._get("targetInput"),g=a._get("value");a._get("targetShown").val(g),a._get("basicCity").val(g),h.val(g);var _=a._get("onchange");g!=c&&_&&_(g,a._get("container")),v.hide(a),a.allCityWrapperChange&&a.allCityWrapperChange(h)}},C=function(){var c=this;c._get("targetProvinces").removeClass(a.active),c._get("targetCityObjs").removeClass(a.active),c._set("value",c._get("targetShown").val());var h=!0,g=c._get("value");return c._get("targetCityUl").hide(),""==g||"所在城市"==g||"请选择期望城市"==g||"请选择所在城市"==g?(c._get("targetHotCityLeft").addClass(a.active),c._get("targetHotCityLeft").next().show(),c._get("targetProvinceWrap").animate({scrollTop:"0px"},1),h=!1,!1):void(h&&(c._get("targetHotCitys").each(function(){var _=$(this),v=$.trim(_.text());return g==v?(c._get("targetHotCityUl").show(),_.addClass(a.active),c._get("targetHotCityLeft").addClass(a.active),c._get("targetProvinceWrap").animate({scrollTop:"0px"},1),h=!1,!1):void 0}),h&&c._get("targetCityWrap").each(function(){var _=$(this);_.find("li").each(function(){var _=$(this);if(g==$.trim(_.text())){var v=_.parent();v.show(),_.addClass(a.active),v.prev().addClass(a.active);var C=v.parent().index();return c._get("targetProvinceWrap").animate({scrollTop:33*C+"px"},1),h=!1,!1}})})))},y={containerClick:function(a,c){c._get("stateShown")?v.hide(c):v.show(c)},documentClick:function(a,c){c._get("stateShown")&&v.hide(c)},provinceClick:function(c,h){{var g=$(this);$.trim(g.text())}h._get("targetProvinces").removeClass(a.active),g.addClass(a.active),h._get("targetCityWrap").hide(),g.next().show(),h._get("targetCityObjs").removeClass(a.active),g.next().find("li").each(function(){var c=$(this);h._get("value")==$.trim(c.text())&&c.addClass(a.active)})},cityClick:function(c,h){var g=$(this),_=g.parent();_.find("li").removeClass(a.active),g.addClass(a.active);var C=h._get("value");h._set("value",g.text()),v.change(h,C)}},b=function(){var a=this;a._get("container").bind("click",function(c){y.containerClick.call(this,c,a),c.stopPropagation()}),$(document).bind("click",function(c){y.documentClick.call(this,c,a)}),a._get("targetPanel").bind("click",function(a){a.stopPropagation()}),a._get("targetProvinceWrap").delegate("span","click",function(c){y.provinceClick.call(this,c,a),c.stopPropagation()}),a._get("targetCityWrap").delegate("li","click",function(c){y.cityClick.call(this,c,a),c.stopPropagation()})};return h.prototype={constructor:h,show:function(){var a=this;return v.show(a),a},hide:function(){var a=this;return v.hide(a),a},set:function(a,c){var h=this,g=h._get("value");if(h._set("value",a),h._get("targetShown").val(a),c){var _=h._get("onchange");(a!=g||0==a.length)&&_&&_(a,h._get("container"))}return h},get:function(){var a=this;return a._get("value")},reset:function(){var a=this;return a.set(""),a}},h}(),CalendarWrapper:function(){var a={active:"active",today:"today",hover:"active",disable:"disable"},c={toToday:"<li>至今</li>",toTodayText:"至今",none:"<li>暂无工作经历</li>",noneText:"暂无工作经历"},h=function(a){var c={};this._get=function(a){return c[a]},this._set=function(a,h){var g=this;return c[a]=h,g},g.call(this,a)},g=function(a){var c=this;if(!a.container)throw"Need options.container!";c._set("container",a.container)._set("onchange",a.onchange)._set("beforeShown",a.beforeShown)._set("afterShown",a.afterShown)._set("afterHide",a.afterHide)._set("has2Today",a.has2Today||!1)._set("hasNone",a.hasNone||!1)._set("targetHidden",a.container.find('input[type="hidden"]'))._set("targetShown",a.container.find('input[type="text"]'))._set("targetPanel",a.container.find(".mr_calendar_ym"))._set("targetYearsCon",a.container.find(".mr_year"))._set("targetMonthsCon",a.container.find(".mr_month"))._set("targetYearsLis",a.container.find(".mr_year li"))._set("targetMonthsLis",a.container.find(".mr_month li"))._set("targetMonthsSpans",a.container.find(".mr_month span"))._set("value",void 0)._set("valueYear",void 0)._set("valueMonth",void 0)._set("stateShown",!1)._set("leftBr",void 0)._set("rightBr",void 0)._set("targetYearWrap",a.container.find(".mr_year"))._set("disable",!1),b.call(c)},_=function(a){return a+"月"},v=function(a){return a.replace("月","")},C=function(a,c){return 10>+c&&(c="0"+c),a+"."+c},y=function(a){a+="";var c=a.split(".");return{year:c[0],month:parseInt(c[1])+""}},b=function(){var a=this;a._get("has2Today")&&"至今"!=a._get("targetYearsCon").find("li:first").text()&&a._get("targetYearsCon").prepend(c.toToday)&&a._set("targetYearsLis",a._get("container").find(".mr_year li")),a._get("hasNone")&&a._get("targetYearsCon").find("li:first").text()!=c.noneText&&a._get("targetYearsCon").prepend(c.none)&&a._set("targetYearsLis",a._get("container").find(".mr_year li")),W.call(a),H.call(a),T.call(a)},w={hide:function(a){if(a._get("stateShown")){a._get("targetPanel").hide();var c=a._get("afterHide");c&&c(a._get("container"),a),a._set("stateShown",!1),a._set("valueYear",void 0)._set("valueMonth",void 0)}},show:function(a){if(!a._get("disable")&&!a._get("stateShown")){S.call(a);var c=a._get("beforeShown"),h=a._get("afterShown");c&&c(a._get("container"),a),a._get("targetPanel").show(),a._set("stateShown",!0),h&&h(a._get("container"),a)}},change:function(a,c){var h=a._get("value");a._get("targetHidden").val(h),a._get("targetShown").val(h);var g=a._get("onchange");h!=c&&g&&g(h,a._get("container")),w.hide(a),a.allCalendarChange&&a.allCalendarChange(a._get("targetHidden"))}},S=function(){var h=this;h._get("targetYearsLis").removeClass(a.active),h._get("targetMonthsSpans").removeClass(a.active).removeClass(a.disable),M.call(h);var g=h._get("value"),v=h._get("targetYearsCon").find("li:first");if(""==$.trim(g)){var C;if("至今"==$.trim(v.text())){var b=v.nextAll().not(".disable").first();b.trigger("click"),h._set("valueYear",b.text()),C=b}else if($.trim(v.text())==c.noneText)h._get("targetMonthsSpans").addClass(a.disable);else{var w=h._get("targetYearsCon").find("li").not(".disable").first();w.trigger("click"),h._set("valueYear",w.text()),C=w}return void h._get("targetYearWrap").animate({scrollTop:32*$(w).index()+"px"},1)}if(g==c.toTodayText){h._get("targetYearsCon").find("li:first").addClass(a.active);var S=h._get("todayMonth");return h._get("targetMonthsSpans").each(function(){var c=$(this);$.trim(c.text())==_(S)&&c.addClass(a.today)}),void h._get("targetYearWrap").animate({scrollTop:0},1)}if(g==c.noneText)return void h._get("targetYearsCon").find("li:first").addClass(a.active);var L=y(g);h._set("valueYear",L.year),h._set("valueMonth",L.month),h._get("targetYearsLis").each(function(){var c=$(this);return $.trim(c.text())==L.year?(c.addClass(a.active),window.setTimeout(function(){c.trigger("click")},0),h._get("targetYearWrap").animate({scrollTop:32*c.index()+"px"},1),!1):void 0}),h._get("targetMonthsSpans").each(function(){var c=$(this);return $.trim(c.text())==_(L.month)?(c.addClass(a.active),!1):void 0})},L={containerClick:function(a,c){c._get("stateShown")?w.hide(c):w.show(c)},documentClick:function(a,c){c._get("stateShown")&&w.hide(c)},yearsClick:function(h,g){var v=$(this);if(!v.hasClass(a.disable)){var C=$.trim(v.text());if(C==c.toTodayText){var b=g._get("value");return g._set("value",C),void w.change(g,b)}if(C==c.noneText){var b=g._get("value");return g._set("value",C),void w.change(g,b)}if(g._set("valueYear",C),g._get("targetYearsLis").removeClass(a.active),v.addClass(a.active),g._get("targetMonthsSpans").removeClass(a.active).removeClass(a.today).removeClass(a.disable),C==g._get("todayYear")){var S=g._get("todayMonth");g._get("targetMonthsSpans").each(function(){var c=$(this);$.trim(c.text())==_(S)&&c.addClass(a.today)})}M.call(g);var L=g._get("value");L&&(L=y(L),C==L.year&&g._get("targetMonthsSpans").each(function(){var c=$(this);$.trim(c.text())==_(L.month)&&c.addClass(a.active)}))}},monthsClick:function(c,h){var g;if(g=h._get("valueYear")){var _=$(this);if(!_.hasClass(a.disable)){var y=v($.trim(_.text()));h._set("valueMonth",y),h._get("targetMonthsSpans").removeClass(a.active),_.addClass(a.active);var b=h._get("value");h._set("value",C(g,y)),w.change(h,b)}}}},T=function(){var a=this;a._get("container").bind("click",function(c){L.containerClick.call(this,c,a),c.stopPropagation()}),$(document).bind("click",function(c){L.documentClick.call(this,c,a)}),a._get("targetPanel").bind("click",function(a){a.stopPropagation()}),a._get("targetYearsCon").delegate("li","click",function(c){L.yearsClick.call(this,c,a),c.stopPropagation()}),a._get("targetMonthsCon").delegate("span","click",function(c){L.monthsClick.call(this,c,a),c.stopPropagation()})},k=function(c){var h=this;h._get("targetMonthsSpans").each(function(){var h=$(this);c(v($.trim(h.text())))&&h.addClass(a.disable)})},Y=function(c){var h=this;h._get("targetYearsLis").each(function(){var h=$(this);c($.trim(h.text()))&&h.addClass(a.disable)})},M=function(){var h=this;h._get("targetMonthsSpans").removeClass(a.disable),h._get("targetYearsLis").removeClass(a.disable);var g,_=h._get("leftBr"),v=h._get("rightBr"),$=h._get("value");return v!=c.toTodayText&&v||(v=C(h._get("todayYear"),h._get("todayMonth"))),$||h._get("valueYear")?(g=$&&!h._get("valueYear")?$==c.toTodayText?h._get("todayYear"):y($).year:h._get("valueYear"),void P.call(h,_,v,g)):(g=h._get("todayYear"),void P.call(h,_,v,g))},P=function(a,c,h){var g=this;if(a){var _=y(a);h==_.year&&k.call(g,function(a){return+a<+_.month}),Y.call(g,function(a){return+a<_.year})}if(c){var v=y(c);h==v.year&&k.call(g,function(a){return+a>+v.month}),h>v.year&&k.call(g,function(){return!0}),Y.call(g,function(a){return+a>v.year})}},H=function(){var c=this,h=c._get("todayYear"),g=c._get("todayMonth");c._get("targetYearsLis").each(function(){var c=$(this);return $.trim(c.text())==h?(c.addClass(a.today),!1):void 0}),c._get("targetMonthsSpans").each(function(){var c=$(this);return $.trim(c.text())==_(g)?(c.addClass(a.today),!1):void 0})},W=function(){var a=this,c=new Date,h=c.getFullYear(),g=c.getMonth()+1;a._set("todayYear",h),a._set("todayMonth",g);var _=C(h,g);a._set("todayDate",_),a._set("rightBr",_)};return h.prototype={constructor:h,show:function(){var a=this;return w.show(a),a},hide:function(){var a=this;return w.hide(a),a},disable:function(){var a=this;return a._set("disable",!0),a},enable:function(){var a=this;return a._set("disable",!1),a},set:function(a,c){var h=this,g=h._get("value");if(h._set("value",a),h._get("targetHidden").val(a),h._get("targetShown").val(a),c){var _=h._get("onchange");(a!=g||0==a.length)&&_&&_(a,h._get("container"))}return h},get:function(){var a=this;return a._get("value")},reset:function(){var a=this;return a.set(""),a._set("leftBr",void 0),a._set("rightBr",void 0),a},setLeftBoundary:function(a){var c=this;return c._set("leftBr",a),M.call(c),c},setRightBoundary:function(a){var c=this;return c._set("rightBr",a),M.call(c),c}},h}(),CalendarDouble:function(){var c=function(a){this.init(a)};return c.prototype={constructor:c,init:function(c){var h=this;if(!c.wrap)throw"Need wrap!";h.wrap=c.wrap;var g=h.wrap.children("div:first"),_=h.wrap.children("div:last");h.calendarStart=new a.CalendarWrapper({container:g,onchange:function(a){h.calendarEnd.setLeftBoundary(a)},beforeShown:function(a){$(document).trigger("click");var c=a.find('input[type="button"]');"起始时间"!=c.val()&&"结束时间"!=c.val()&&a.find("span.error").hide(),h.calendarEnd.hide(),a.siblings().find('input[type="button"]').removeClass("select_color"),a.parents(".practice").find(".practiceDate").find('input[type="button"]').removeClass("select_color"),a.parents(".work").find(".workDate").find('input[type="button"]').removeClass("select_color"),a.find('input[type="button"]').addClass("select_color")},afterHide:function(a){a.find('input[type="button"]').removeClass("select_color"),$(".mr_workexpFormTop").css("paddingBottom","15px").siblings(".adddel").css("marginTop","0px"),$(".mr_practiceConFormTop").css("paddingBottom","15px").siblings(".adddel").css("marginTop","0px");var c=a.find('input[type="button"]');"起始时间"!=c.val()&&"结束时间"!=c.val()&&(a.find('input[type="button"]').css("color","#333"),a.find("span.error").hide())}}),h.calendarEnd=new a.CalendarWrapper({container:_,onchange:function(a){h.calendarStart.setRightBoundary(a)},beforeShown:function(a){$(document).trigger("click");var c=a.find('input[type="button"]');"起始时间"!=c.val()&&"结束时间"!=c.val()&&a.find("span.error").hide(),h.calendarStart.hide(),a.siblings().find('input[type="button"]').removeClass("select_color"),a.parents(".practice").find(".practiceDate").find('input[type="button"]').removeClass("select_color"),a.parents(".work").find(".workDate").find('input[type="button"]').removeClass("select_color"),a.find('input[type="button"]').addClass("select_color")},afterHide:function(a){a.find('input[type="button"]').removeClass("select_color"),$(".mr_workexpFormTop").css("paddingBottom","15px").siblings(".adddel").css("marginTop","0px"),$(".mr_practiceConFormTop").css("paddingBottom","15px").siblings(".adddel").css("marginTop","0px");var c=a.find('input[type="button"]');"起始时间"!=c.val()&&"结束时间"!=c.val()&&(a.find('input[type="button"]').css("color","#333"),a.find("span.error").hide())},has2Today:!0})},setCalendarStart:function(a){var c=this;c.calendarStart.set(a,!0)},setCalendarEnd:function(a){var c=this;c.calendarEnd.set(a,!0)},getCalendarStart:function(){var a=this;return a.calendarStart.get()},getCalendarEnd:function(){var a=this;return a.calendarEnd.get()},disable:function(){var a=this;a.calendarStart.disable(),a.calendarEnd.disable()},enable:function(){var a=this;a.calendarStart.enable(),a.calendarEnd.enable()},show:function(){var a=this;a.calendarStart.show(),a.calendarEnd.show()},hide:function(){var a=this;a.calendarStart.hide(),a.calendarEnd.hide()}},c}(),SelectWrapper:function(){var a={active:"select-wrapper__list_show",disabled:"select-wrapper__disabled"},c=function(a){var c={};this._set=function(a,h){var g=this;return c[a]=h,g},this._get=function(a){return c[a]},h.call(this,a)},h=function(a){var c=this;if(!a.container)throw"Need options.container!";c._set("container",a.container)._set("onchange",a.onchange)._set("$input",a.container.find("input"))._set("$list",a.container.find(".select-wrapper__list"))._set("$li",a.container.find(".select-wrapper__list li"))._set("isDisabled",!1),g.call(c)},g=function(){var c=this,h=c._get("container"),g=c._get("$list");h.bind("click",function(){$(this).hasClass(a.disabled)||(g.hasClass(a.active)?_.hide.call(c):_.show.call(c))}),c._get("$list").delegate("li","click",function(e){e.stopPropagation();var a=$(this),h=$.trim(a.text());_.change.call(c,h,a)}),$(document).on("click",function(e){e=window.event||e;var a=$(e.srcElement||e.target);!$(a).closest(h).length>0&&_.hide.call(c)})},_={hide:function(){var c=this._get("$list");c&&c.removeClass(a.active)},show:function(){var c=this._get("$list");c&&c.addClass(a.active)},change:function(a,c){var h=this._get("$input"),g=this._get("onchange");h&&(h.val(a),_.hide.call(this),g&&g(a,this._get("container"),c),this.allSelectChange&&this.allSelectChange(h))},disabled:function(){var c=this,h=this._get("$input"),g=c._get("container");g.addClass(a.disabled),h.val("--"),c._set("isDisabled",!0)},unDisabled:function(){var c=this,h=(this._get("$input"),c._get("container"));h.removeClass(a.disabled),c._set("isDisabled",!1)}};return c.prototype.setDisabled=function(a){return a?void _.disabled.call(this,!0):void _.unDisabled.call(this,!1)},c.prototype.setList=function(a){var c=this,h=c._get("$list");h.html(a)},c.prototype.hide=function(){var a=this;_.hide.call(a)},c.prototype.getValue=function(){var a=this._get("$input");return a.val()},c.prototype.setValue=function(a){var c=this,h=c._get("$input");return h.val(a)},c}(),MaxInput:function(){var a={beyond:"max-input__tips_beyond"},c=function(a){var c={};this._set=function(a,h){var g=this;return c[a]=h,g},this._get=function(a){return c[a]},h.call(this,a)},h=function(a){var c=this;if(!a.container)throw"Need options.container!";c._set("container",a.container)._set("lengthValidate",a.lengthValidate)._set("onBlur",a.onBlur)._set("$input",a.container.find("input"))._set("$lengthSpan",a.container.find(".max-input__tips span:nth-child(1)"))._set("$tips",a.container.find(".max-input__tips")),g.call(c)},g=function(){var a=this,c=a._get("$input"),h=c[0];c.bind("input propertychange",function(e){e.target.composing||_.call(a,this)});var g=function(e){e.target.composing=!0},v=function(e){var c=e.target;c.composing=!1,_.call(a,c)};h.addEventListener("compositionstart",g),h.addEventListener("compositionend",v),c.bind("blur",function(){var c=$(this).val(),h=a._get("onBlur");h&&h(c,a._get("container"))})},_=function(c){var h=this,g=$(c),_=h._get("$tips"),v=(h._get("$lengthSpan"),$.trim(g.val())),C=b.call(h,v);return C.success?(w.updateTips.call(h,C.length),void _.removeClass(a.beyond)):void w.beyond.call(h,C.maxLength,C.validVal)},v=function(a){for(var i,c,h=0,i=0;i<a.length;i++)c=a.charCodeAt(i),h+=C(c)?1:2;return h},C=function(a){return a>=32&&127>=a?!0:a>=65377&&65439>=a?!0:!1},y=function(a,c){var h=v(a);return h>c?y(a.slice(0,a.length-1),c):a},b=function(a){var c=this,h=c._get("lengthValidate"),g=h.isCharacter,_=h.maxLength,C=_;g||(C=2*_);var $=v(a);return $>C?{success:!1,length:g?$:Math.ceil($/2),maxLength:_,validVal:y(a,C)}:{success:!0,length:g?$:Math.ceil($/2)}},w={updateTips:function(a){var c=this,h=c._get("$lengthSpan");h.text(a)},beyond:function(c,h){var g=this,_=g._get("$input"),v=g._get("$lengthSpan"),C=g._get("$tips");_.val(h),v.text(c),C.addClass(a.beyond)}};return c.prototype.validateLength=function(){var a=this;_.call(a,a._get("$input"))},c.prototype.setValue=function(a){var c=this,h=c._get("$input");h.val(a),_.call(c,h)},c}(),ThreeLevelSelect:function(){var a={acitve:"three-select__li_active",show:"three-select__board_show",listArea:"three-select__list-area",noSelect:"three-select__no-select",firstList:"three-select__first-list",secondList:"three-select__second-list",thirdList:"three-select__third-list"},c=function(a){var c={};this._set=function(a,h){var g=this;return c[a]=h,g},this._get=function(a){return c[a]},h.call(this,a)},h=function(a){var c=this;if(!a.container)throw"Need options.container!";c._set("container",a.container)._set("onChange",a.onChange)._set("$firstInput",a.container.find(".three-select__first-value"))._set("$secondInput",a.container.find(".three-select__second-value"))._set("$thirdInput",a.container.find(".three-select__third-value"))._set("$board",a.container.find(".three-select__board"))._set("$li",a.container.find(".three-select__li"))._set("$firstlist",a.container.find(".three-select__second-list"))._set("$secondlist",a.container.find(".three-select__second-list"))._set("$thirdlist",a.container.find(".three-select__third-list"))._set("$firstlistLi",a.container.find(".three-select__first-list > li"))._set("$secondlistLi",a.container.find(".three-select__second-list > li"))._set("$thirdlistLi",a.container.find(".three-select__third-list > li"))._set("handle",null),b.call(c),C.call(c),g.call(c)},g=function(){var c=this,h=null,g=c._get("container"),v=c._get("$board"),C=(c._get("$li"),c._get("$firstlistLi"),c._get("$firstlistLi"),c._get("$firstInput")),y=c._get("$secondInput"),b=c._get("$thirdInput"),S=c._get("onChange");g.bind("click",function(){var h=v.hasClass(a.show);h?w.hide.call(c):(_.call(c),w.show.call(c))}),v.delegate("."+a.firstList+" > li, ."+a.secondList+"> li","mouseenter",function(e){e.stopPropagation();var g=$(this);h&&clearTimeout(h),h=setTimeout(function(){$(e.target).is("ul")||g.hasClass(a.acitve)||(g.parent().find("li").removeClass(a.acitve),w.acitveLi.call(c,g),g.find("> ."+a.listArea+" > ul").scrollTop(0))},80)}),v.delegate("."+a.thirdList+" > li","mouseenter",function(){var h=$(this);h.parent().find("li").removeClass(a.acitve),w.acitveLi.call(c,h)}),v.delegate("."+a.firstList+" > li, ."+a.secondList+"> li","click",function(e){e.stopPropagation()}),v.delegate("."+a.thirdList+" > li","click",function(e){e.stopPropagation();var h=$(this),_=$.trim(h.find("span").attr("title")),v=$.trim($("."+a.firstList+" > li."+a.acitve).find("> span").attr("title")),L=$.trim($("."+a.secondList+" > li."+a.acitve).find("> span").attr("title"));C.val(v),y.val(L),b.val(_),w.hide.call(c),S&&S(_,g),c.allThreeLevelSelectChange&&c.allThreeLevelSelectChange(b)}),$(document).on("click",function(e){e=window.event||e;var a=$(e.srcElement||e.target);!$(a).closest(g).length>0&&w.hide.call(c)})},_=function(){var a=this,c=a._get("$firstlistLi"),h=a._get("$firstInput"),g=a._get("$secondInput"),_=a._get("$thirdInput"),C=$.trim(h.val()),b=$.trim(g.val()),S=$.trim(_.val());if(w.resetLi.call(a),""!==S&&"undefined"!=typeof S){var L=y(c,C);if(L){var T=y(L.find(".three-select__second-list > li"),b);if(T){var k=y(T.find(".three-select__third-list > li"),S);L&&(w.acitveLi.call(a,L),v(L)),T&&(w.acitveLi.call(a,T),v(T)),k&&(w.acitveLi.call(a,k),v(k))}}}},v=function(a){var c=a.parent(),h=a.index()*a.height();c.scrollTop(h)},C=function(){var a=this,c=a._get("$li").find("> span");c.each(function(a,c){var h=c.innerHTML;c.title=h,h.length<=28||(c.innerHTML=h.substring(0,26)+"...")})},y=function(a,c){var h;return a.each(function(a,g){var _=$(g);$.trim(_.find("> span").attr("title"))===c&&(h=_)}),h},b=function(){var c=this,h=c._get("$firstlistLi"),g=h.length,_=g>5?5:g,v=c._get("container");w.show.call(c);var C=c._get("$li").height()*_;w.hide.call(c),v.find("."+a.listArea+" ul, ."+a.noSelect+",."+a.listArea).css({height:C+"px"})},w={show:function(){var c=this,h=c._get("$board");h.addClass(a.show)},hide:function(){var c=this,h=c._get("$board");h.removeClass(a.show)},resetLi:function(){var c=this,h=c._get("$li");h.removeClass(a.acitve)},acitveLi:function(c){c.addClass(a.acitve)}};return c.prototype.hide=function(){w.hide.call(this)},c.prototype.set=function(a,c,h){var g=this,_=g._get("container"),v=g._get("onChange"),C=g._get("$firstInput"),$=g._get("$secondInput"),y=g._get("$thirdInput");C.val(a),$.val(c),y.val(h),w.hide.call(g),v&&v(h,_),g.allThreeLevelSelectChange&&g.allThreeLevelSelectChange(y)},c}(),RadioSelectWrapper:function(){var a={active:"radio-wrapper__option_active",li:"radio-wrapper__option"},c=function(a){var c={};this._set=function(a,h){var g=this;return c[a]=h,g},this._get=function(a){return c[a]},h.call(this,a)},h=function(a){var c=this;if(!a.container)throw"Need options.container!";c._set("container",a.container)._set("onchange",a.onchange)._set("$input",a.container.find("input"))._set("$option",a.container.find(".radio-wrapper__option"))._set("$ul",a.container.find(".ul")),_.call(c),g.call(c)},g=function(){var c=this,h=c._get("container"),g=c._get("$input"),_=c._get("$option");h.delegate("."+a.li,"click",function(e){e.stopPropagation();var h=$(this);if(!h.hasClass(a.active)){_.removeClass(a.active),h.addClass(a.active);var C=h.data("value");g.val(C),v.change.call(c,C),c.allRadioSelectChange&&c.allRadioSelectChange(g)}})},_=function(){var c=this,h=c._get("$option"),g=c._get("$input"),_=$.trim(g.val());h.each(function(c,h){var g=$(h),v=$.trim(g.data("value"));v===_&&g.addClass(a.active)})},v={change:function(a){var c=this._get("onchange");c&&c(a,this._get("container"))}};return c.prototype.setValue=function(c){var h=this,g=h._get("container");g.find("."+a.li+'[data-value="'+c+'"]').trigger("click")},c}()};window.components=a}()});
/*!mycenter/modules/common/js/libs/jquery.lib.js*/
;!function(a,c,h){function e(a){return a}function f(a){return g(decodeURIComponent(a.replace(d," ")))}function g(a){return 0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a}function v(a){return i.json?JSON.parse(a):a}var d=/\+/g,i=a.cookie=function(d,g,b){var w,l,m,n,o,p,q,r,s,t;if(g!==h)return b=a.extend({},i.defaults,b),null===g&&(b.expires=-1),"number"==typeof b.expires&&(w=b.expires,l=b.expires=new Date,l.setDate(l.getDate()+w)),g=i.json?JSON.stringify(g):String(g),c.cookie=[encodeURIComponent(d),"=",i.raw?g:encodeURIComponent(g),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("");for(m=i.raw?e:f,n=c.cookie.split("; "),o=d?null:{},p=0,q=n.length;q>p;p++){if(r=n[p].split("="),s=m(r.shift()),t=m(r.join("=")),d&&d===s){o=v(t);break}d||(o[s]=v(t))}return o};i.defaults={},a.removeCookie=function(c,h){return null!==a.cookie(c)?(a.cookie(c,null,h),!0):!1}}(jQuery,document),function(e,t){function i(t,i){var a,n,r,o=t.nodeName.toLowerCase();return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,a,n=e(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),a=isNaN(s);return(a||s>=0)&&i(t,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function a(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(r,a(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(r,a(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i){var s,a=e.plugins[t];if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;a.length>s;s++)e.options[a[s][0]]&&a[s][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)}})}(jQuery),function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(i,s,n){var a,r,o,c,l={},u=i.split(".")[0];i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),c=new s,c.options=e.widget.extend({},c.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),t):(l[i]=n,t)}),o.prototype=e.widget.extend(c,{widgetEventPrefix:r?c.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,c=r.length;c>o;o++)for(n in r[o])a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,c=s.call(arguments,1),l=this;return r=!o&&c.length?e.widget.extend.apply(null,[r].concat(c)):r,this.each(o?function(){var s,n=e.data(this,a);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,c),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var t=e.data(this,a);t?t.option(r||{})._init():e.data(this,a,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function c(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(c.guid=o.guid=o.guid||c.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,h=l[2];h?a.delegate(h,u,c):s.bind(u,c)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,c=Math.round,l=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,m,g,v,b,w=t(e.of),y=t.position.getWithinInfo(e.within),F=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),C={};return b=n(w),w[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):h.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=h.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),a=i(C.at,p,m),v.left+=a[0],v.top+=a[1],this.each(function(){var n,l,h=t(this),u=h.outerWidth(),d=h.outerHeight(),f=s(this,"marginLeft"),b=s(this,"marginTop"),j=u+f+s(this,"marginRight")+F.width,k=d+b+s(this,"marginBottom")+F.height,_=t.extend({},v),D=i(C.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?_.left-=u:"center"===e.my[0]&&(_.left-=u/2),"bottom"===e.my[1]?_.top-=d:"center"===e.my[1]&&(_.top-=d/2),_.left+=D[0],_.top+=D[1],t.support.offsetFractions||(_.left=c(_.left),_.top=c(_.top)),n={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,s){t.ui.position[x[i]]&&t.ui.position[x[i]][s](_,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:j,collisionHeight:k,offset:[a[0]+D[0],a[1]+D[1]],my:e.my,at:e.at,within:y,elem:h})}),e.using&&(l=function(t){var i=g.left-_.left,s=i+p-u,n=g.top-_.top,a=n+m-d,c={target:{element:w,left:g.left,top:g.top,width:p,height:m},element:{element:h,left:_.left,top:_.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(c.horizontal="center"),d>m&&m>r(n+a)&&(c.vertical="middle"),c.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,c)}),h.offset(t.extend(_,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,c=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?c>0&&0>=l?(i=t.left+c+e.collisionWidth-a-n,t.left+=c-i):t.left=l>0&&0>=c?n:c>l?n+a-e.collisionWidth:n:c>0?t.left+=c:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,c=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?c>0&&0>=l?(i=t.top+c+e.collisionHeight-a-n,t.top+=c-i):t.top=l>0&&0>=c?n:c>l?n+a-e.collisionHeight:n:c>0?t.top+=c:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,c=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-c,u=l+e.collisionWidth-o-c,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(h)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-c,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,c=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-c,u=l+e.collisionHeight-o-c,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>h?(s=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>h&&(0>s||r(h)>s)&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-c,t.top+p+f+m>u&&(i>0||u>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case a.UP:e=!0,this._keyEvent("previous",n);break;case a.DOWN:e=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(s){i===e&&t.__response(s),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,c=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:c=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}c&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)
},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(e,t,i){function o(i,o,n){var r=t.createElement(i);return o&&(r.id=et+o),n&&(r.style.cssText=n),e(r)}function n(){return i.innerHeight?i.innerHeight:e(i).height()}function r(e){var t=k.length,i=($+e)%t;return 0>i?t+i:i}function l(e,t){return Math.round((/%/.test(e)?("x"===t?_.width():n())/100:1)*parseInt(e,10))}function a(e,t){return e.photo||e.photoRegex.test(t)}function c(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function s(e){"contains"in b[0]&&!b[0].contains(e.target)&&(e.stopPropagation(),b.focus())}function d(){var t,i=e.data(O,Z);null==i?(H=e.extend({},J),console&&console.log&&console.log("Error: cboxElement missing settings object")):H=e.extend({},i);for(t in H)e.isFunction(H[t])&&"on"!==t.slice(0,2)&&(H[t]=H[t].call(O));H.rel=H.rel||O.rel||e(O).data("rel")||"nofollow",H.href=H.href||e(O).attr("href"),H.title=H.title||O.title,"string"==typeof H.href&&(H.href=e.trim(H.href))}function h(i,o){e(t).trigger(i),lt.trigger(i),e.isFunction(o)&&o.call(O)}function u(){var e,t,i,o,n,r=et+"Slideshow_",l="click."+et;H.slideshow&&k[1]?(t=function(){clearTimeout(e)},i=function(){(H.loop||k[$+1])&&(e=setTimeout(G.next,H.slideshowSpeed))},o=function(){S.html(H.slideshowStop).unbind(l).one(l,n),lt.bind(st,i).bind(nt,t).bind(rt,n),b.removeClass(r+"off").addClass(r+"on")},n=function(){t(),lt.unbind(st,i).unbind(nt,t).unbind(rt,n),S.html(H.slideshowStart).unbind(l).one(l,function(){G.next(),o()}),b.removeClass(r+"on").addClass(r+"off")},H.slideshowAuto?o():n()):b.removeClass(r+"off "+r+"on")}function p(i){Y||(O=i,d(),k=e(O),$=0,"nofollow"!==H.rel&&(k=e("."+tt).filter(function(){var t,i=e.data(this,Z);return i&&(t=e(this).data("rel")||i.rel||this.rel),t===H.rel}),$=k.index(O),-1===$&&(k=k.add(O),$=k.length-1)),v.css({opacity:parseFloat(H.opacity),cursor:H.overlayClose?"pointer":"auto",visibility:"visible"}).show(),K&&b.add(v).removeClass(K),H.className&&b.add(v).addClass(H.className),K=H.className,H.closeButton?N.html(H.close).appendTo(x):N.appendTo("<div/>"),U||(U=q=!0,b.css({visibility:"hidden",display:"block"}),D=o(ut,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(x),I=y.height()+j.height()+x.outerHeight(!0)-x.height(),R=F.width()+C.width()+x.outerWidth(!0)-x.width(),B=D.outerHeight(!0),z=D.outerWidth(!0),H.w=l(H.initialWidth,"x"),H.h=l(H.initialHeight,"y"),G.position(),u(),h(it,H.onOpen),W.add(E).hide(),b.focus(),H.trapFocus&&t.addEventListener&&(t.addEventListener("focus",s,!0),lt.one(ot,function(){t.removeEventListener("focus",s,!0)})),H.returnFocus&&lt.one(ot,function(){e(O).focus()})),g())}function f(){!b&&t.body&&(Q=!1,_=e(i),b=o(ut).attr({id:Z,"class":e.support.opacity===!1?et+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=o(ut,"Overlay").hide(),T=e([o(ut,"LoadingOverlay")[0],o(ut,"LoadingGraphic")[0]]),w=o(ut,"Wrapper"),x=o(ut,"Content").append(E=o(ut,"Title"),A=o(ut,"Current"),M=e('<button type="button"/>').attr({id:et+"Previous"}),L=e('<button type="button"/>').attr({id:et+"Next"}),S=o("button","Slideshow"),T),N=e('<button type="button"/>').attr({id:et+"Close"}),w.append(o(ut).append(o(ut,"TopLeft"),y=o(ut,"TopCenter"),o(ut,"TopRight")),o(ut,!1,"clear:left").append(F=o(ut,"MiddleLeft"),x,C=o(ut,"MiddleRight")),o(ut,!1,"clear:left").append(o(ut,"BottomLeft"),j=o(ut,"BottomCenter"),o(ut,"BottomRight"))).find("div div").css({"float":"left"}),P=o(ut,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),W=L.add(M).add(A).add(S),e(t.body).append(v,b.append(w,P)))}function m(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return b?(Q||(Q=!0,L.click(function(){G.next()}),M.click(function(){G.prev()}),N.click(function(){G.close()}),v.click(function(){H.overlayClose&&G.close()}),e(t).bind("keydown."+et,function(e){var t=e.keyCode;U&&H.escKey&&27===t&&(e.preventDefault(),G.close()),U&&H.arrowKey&&k[1]&&!e.altKey&&(37===t?(e.preventDefault(),M.click()):39===t&&(e.preventDefault(),L.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+et,"."+tt,i):e("."+tt).live("click."+et,i)),!0):!1}function g(){var n,r,s,u=G.prep,p=++ct;q=!0,V=!1,O=k[$],d(),h(at),h(nt,H.onLoad),H.h=H.height?l(H.height,"y")-B-I:H.innerHeight&&l(H.innerHeight,"y"),H.w=H.width?l(H.width,"x")-z-R:H.innerWidth&&l(H.innerWidth,"x"),H.mw=H.w,H.mh=H.h,H.maxWidth&&(H.mw=l(H.maxWidth,"x")-z-R,H.mw=H.w&&H.w<H.mw?H.w:H.mw),H.maxHeight&&(H.mh=l(H.maxHeight,"y")-B-I,H.mh=H.h&&H.h<H.mh?H.h:H.mh),n=H.href,X=setTimeout(function(){T.show()},100),H.inline?(s=o(ut).hide().insertBefore(e(n)[0]),lt.one(at,function(){s.replaceWith(D.children())}),u(e(n))):H.iframe?u(" "):H.html?u(H.html):a(H,n)?(n=c(H,n),V=t.createElement("img"),e(V).addClass(et+"Photo").bind("error",function(){H.title=!1,u(o(ut,"Error").html(H.imgError))}).one("load",function(){var t;p===ct&&(V.alt=e(O).attr("alt")||e(O).attr("data-alt")||"",H.retinaImage&&i.devicePixelRatio>1&&(V.height=V.height/i.devicePixelRatio,V.width=V.width/i.devicePixelRatio),H.scalePhotos&&(r=function(){V.height-=V.height*t,V.width-=V.width*t},H.mw&&V.width>H.mw&&(t=(V.width-H.mw)/V.width,r()),H.mh&&V.height>H.mh&&(t=(V.height-H.mh)/V.height,r())),H.h&&(V.style.marginTop=Math.max(H.mh-V.height,0)/2+"px"),k[1]&&(H.loop||k[$+1])&&(V.style.cursor="pointer",V.onclick=function(){G.next()}),V.style.width=V.width+"px",V.style.height=V.height+"px",setTimeout(function(){u(V)},1))}),setTimeout(function(){V.src=n},1)):n&&P.load(n,H.data,function(t,i){p===ct&&u("error"===i?o(ut,"Error").html(H.xhrError):e(this).contents())})}var v,b,w,x,y,F,C,j,k,_,D,P,T,E,A,S,L,M,N,W,H,I,R,B,z,O,$,V,U,q,Y,X,G,K,Q,J={transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,trapFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0},Z="colorbox",et="cbox",tt=et+"Element",it=et+"_open",nt=et+"_load",st=et+"_complete",rt=et+"_cleanup",ot=et+"_closed",at=et+"_purge",lt=e("<a/>"),ut="div",ct=0,ht={};e.colorbox||(e(f),G=e.fn[Z]=e[Z]=function(t,i){var o=this;if(t=t||{},f(),m()){if(e.isFunction(o))o=e("<a/>"),t.open=!0;else if(!o[0])return o;i&&(t.onComplete=i),o.each(function(){e.data(this,Z,e.extend({},e.data(this,Z)||J,t))}).addClass(tt),(e.isFunction(t.open)&&t.open.call(o)||t.open)&&p(o[0])}return o},G.position=function(t,i){function o(){y[0].style.width=j[0].style.width=x[0].style.width=parseInt(b[0].style.width,10)-R+"px",x[0].style.height=F[0].style.height=C[0].style.height=parseInt(b[0].style.height,10)-I+"px"}var r,a,c,s=0,d=0,h=b.offset();if(_.unbind("resize."+et),b.css({top:-9e4,left:-9e4}),a=_.scrollTop(),c=_.scrollLeft(),H.fixed?(h.top-=a,h.left-=c,b.css({position:"fixed"})):(s=a,d=c,b.css({position:"absolute"})),d+=H.right!==!1?Math.max(_.width()-H.w-z-R-l(H.right,"x"),0):H.left!==!1?l(H.left,"x"):Math.round(Math.max(_.width()-H.w-z-R,0)/2),s+=H.bottom!==!1?Math.max(n()-H.h-B-I-l(H.bottom,"y"),0):H.top!==!1?l(H.top,"y"):Math.round(Math.max(n()-H.h-B-I,0)/2),b.css({top:h.top,left:h.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",r={width:H.w+z+R,height:H.h+B+I,top:s,left:d},t){var u=0;e.each(r,function(e){return r[e]!==ht[e]?void(u=t):void 0}),t=u}ht=r,t||b.css(r),b.dequeue().animate(r,{duration:t||0,complete:function(){o(),q=!1,w[0].style.width=H.w+z+R+"px",w[0].style.height=H.h+B+I+"px",H.reposition&&setTimeout(function(){_.bind("resize."+et,G.position)},1),i&&i()},step:o})},G.resize=function(e){var t;U&&(e=e||{},e.width&&(H.w=l(e.width,"x")-z-R),e.innerWidth&&(H.w=l(e.innerWidth,"x")),D.css({width:H.w}),e.height&&(H.h=l(e.height,"y")-B-I),e.innerHeight&&(H.h=l(e.innerHeight,"y")),e.innerHeight||e.height||(t=D.scrollTop(),D.css({height:"auto"}),H.h=D.height()),D.css({height:H.h}),t&&D.scrollTop(t),G.position("none"===H.transition?0:H.speed))},G.prep=function(i){function n(){return H.w=H.w||D.width(),H.w=H.mw&&H.mw<H.w?H.mw:H.w,H.w}function l(){return H.h=H.h||D.height(),H.h=H.mh&&H.mh<H.h?H.mh:H.h,H.h}if(U){var s,d="none"===H.transition?0:H.speed;D.empty().remove(),D=o(ut,"LoadedContent").append(i),D.hide().appendTo(P.show()).css({width:n(),overflow:H.scrolling?"auto":"hidden"}).css({height:l()}).prependTo(x),P.hide(),e(V).css({"float":"none"}),s=function(){function i(){e.support.opacity===!1&&b[0].style.removeAttribute("filter")}var n,l,s=k.length,u="frameBorder",p="allowTransparency";U&&(l=function(){clearTimeout(X),T.hide(),h(st,H.onComplete)},E.html(H.title).add(D).show(),s>1?("string"==typeof H.current&&A.html(H.current.replace("{current}",$+1).replace("{total}",s)).show(),L[H.loop||s-1>$?"show":"hide"]().html(H.next),M[H.loop||$?"show":"hide"]().html(H.previous),H.slideshow&&S.show(),H.preloading&&e.each([r(-1),r(1)],function(){var i,o,n=k[this],r=e.data(n,Z);r&&r.href?(i=r.href,e.isFunction(i)&&(i=i.call(n))):i=e(n).attr("href"),i&&a(r,i)&&(i=c(r,i),o=t.createElement("img"),o.src=i)})):W.hide(),H.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),p in n&&(n[p]="true"),H.scrolling||(n.scrolling="no"),e(n).attr({src:H.href,name:(new Date).getTime(),"class":et+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).appendTo(D),lt.one(at,function(){n.src="//about:blank"}),H.fastIframe&&e(n).trigger("load")):l(),"fade"===H.transition?b.fadeTo(d,1,i):i())},"fade"===H.transition?b.fadeTo(d,0,function(){G.position(0,s)}):G.position(d,s)}},G.next=function(){!q&&k[1]&&(H.loop||k[$+1])&&($=r(1),p(k[$]))},G.prev=function(){!q&&k[1]&&(H.loop||$)&&($=r(-1),p(k[$]))},G.close=function(){U&&!Y&&(Y=!0,U=!1,h(rt,H.onCleanup),_.unbind("."+et),v.fadeTo(H.fadeOut||0,0),b.stop().fadeTo(H.fadeOut||0,0,function(){b.add(v).css({opacity:1,cursor:"auto"}).hide(),h(at),D.empty().remove(),setTimeout(function(){Y=!1,h(ot,H.onClosed)},1)}))},G.remove=function(){b&&(b.stop(),e.colorbox.close(),b.stop().remove(),v.remove(),Y=!1,b=null,e("."+tt).removeData(Z).removeClass(tt),e(t).unbind("click."+et))},G.element=function(){return e(O)},G.settings=J)}(jQuery,document,window),!function($){function init(param,obj){function getCurrPage(){if(options.info&&options.info.cookie_currPageKey&&options.info.cookie_currPage){var a=$.cookie(options.info.cookie_currPageKey+"_currPage");if(""!=a&&null!=a)return a}return options.currPage?options.currPage:defaults.currPage}function getPageNOName(){return options.pageNOName?options.pageNOName:defaults.pageNOName}function getForm(){return options.form?options.form:defaults.form}function getPageCount(){return options.pageCount?options.pageCount:0==options.pageCount?1:defaults.pageCount}function getPageSize(){return options.pageSize?options.pageSize:defaults.pageSize}function getCssStyle(){return options.cssStyle?options.cssStyle:defaults.cssStyle}function getAjax(){return options.ajax&&options.ajax.on?options.ajax:defaults.ajax}function getParam(){return options.ajax.param&&options.ajax.param.on?(options.ajax.param.page=currPage,options.ajax.param):(defaults.ajax.param.page=currPage,defaults.ajax.param)}function getFirst(){var a;return options.info&&0==options.info.first_on?"":a=options.info&&options.info.first_on&&options.info.first?"<a href='"+getLink()+"' title='1'>"+options.info.first+"</a>":"<a href='"+getLink()+"' title='1'>"+defaults.info.first+"</a>"}function getLast(a){var c;return options.info&&0==options.info.last_on?"":c=options.info&&options.info.last_on&&options.info.last?"<a href='"+getLink()+"' title='"+a+"'>"+options.info.last+"</a>":"<a href='"+getLink()+"' title='"+a+"'>"+defaults.info.last+"</a>"}function getPrev(){return options.info&&0==options.info.prev_on?"":options.info&&options.info.prev?options.info.prev:defaults.info.prev}function getNext(){return options.info&&0==options.info.next_on?"":options.info&&options.info.next?options.info.next:defaults.info.next}function getLink(){return options.info&&options.info.link?options.info.link:defaults.info.link}function getMsg(){var a,c="<input type='text' value='"+currPage+"' >";return options.info&&0==options.info.msg_on?!1:options.info&&options.info.msg?(a=options.info.msg,a=a.replace("{currText}",c),a=a.replace("{currPage}",currPage),a=a.replace("{sumPage}",pageCount)):(a=defaults.info.msg,a=a.replace("{currText}",c),a=a.replace("{currPage}",currPage),a=a.replace("{sumPage}",pageCount))}function getText(){var input,css,val,msg=getMsg();if(!msg)return"";if(msg=$(msg),input=msg.children(":text"),options.info&&options.info.text){css=options.info.text;for(temp in css)val=eval("css."+temp),input.css(temp,val);return msg.html()}css=defaults.info.text;for(temp in css)val=eval("css."+temp),input.css(temp,val);return msg.html()}function getPageCountId(){return options.ajax&&options.ajax.pageCountId?options.ajax.pageCountId:defaults.ajax.pageCountId}function getAjaxStart(){options.ajax&&options.ajax.ajaxStart?options.ajax.ajaxStart():defaults.ajax.ajaxStart}function saveCurrPage(a){if(options.info&&options.info.cookie_currPageKey&&options.info.cookie_currPage){var c=options.info.cookie_currPageKey+"_currPage";$.cookie(c,a)}}function getInt(a){return parseInt(a)}function isCode(a){if(1>a)return alert("输入值不能小于1。"),!1;var c=/^[0-9]{1,8}$/;return c.exec(a)?a>pageCount?(alert("输入值不能大于总页数。"),!1):!0:(alert("请输入正确的数字。"),!1)}function updateView(){var a,c,h;for(currPage=getInt(currPage),pageCount=getInt(pageCount),a=getLink(),c=lastPage=1,c=currPage-tempPage>0?currPage-tempPage:1,c+pageSize>pageCount?(lastPage=pageCount+1,c=lastPage-pageSize):lastPage=c+pageSize,h="",h+=getFirst(),h+=1==currPage?'<span class="disabled" title="'+getPrev()+'">'+getPrev()+" </span>":"<a href='"+a+"' title='"+(currPage-1)+"'>"+getPrev()+" </a>",0>=c&&(c=1),c;lastPage>c;c++)h+=c==currPage?'<span class="current" title="'+c+'">'+c+"</span>":"<a href='"+a+"' title='"+c+"'>"+c+"</a>";h+=currPage==pageCount?'<span class="disabled" title="'+getNext()+'">'+getNext()+" </span>":"<a href='"+a+"' title='"+(currPage+1)+"'>"+getNext()+" </a>",h+=getLast(pageCount),h+=getText(),obj.html(h),obj.children(":text").keypress(function(a){var c,d,h=a.which;if(13==h)if(c=$(this).val(),c>pageCount&&(c=pageCount),getAjax().on)isCode(c)&&(obj.children("a").unbind("click"),obj.children("a").each(function(){$(this).click(function(){return!1})}),createView(c));else{if(!isCode(c))return!1;d=$("#"+getForm()),d.append("<input type='hidden' name='"+getPageNOName()+"' value='"+c+"'>"),d.submit()}}),obj.children("a").each(function(){var a=this.title;$(this).click(function(){if(obj.children("a").unbind("click"),obj.children("a").each(function(){$(this).click(function(){return!1})}),getAjax().on)createView(a),$(this).focus();else{var c=$("#"+getForm());c.append("<input type='hidden' name='"+getPageNOName()+"' value='"+a+"'>"),c.submit()}return!1})})}function createView(a){var c,h,d;currPage=a,saveCurrPage(a),c=getAjax(),c.on?(getAjaxStart(),h=c.url,d=getParam(),$.lgAjax({url:h,type:"GET",data:d,contentType:"application/x-www-form-urlencoded;utf-8",async:!0,cache:!1,timeout:6e4,error:function(){alert("访问服务器超时，请重试，谢谢！")},success:function(a){loadPageCount({dataType:c.dataType,callback:c.callback,data:a}),updateView()}})):updateView()}function checkParam(){return 1>currPage?(alert("配置参数错误\n错误代码:-1"),!1):currPage>pageCount?(alert("配置参数错误\n错误代码:-2"),!1):2>pageSize?(alert("配置参数错误\n错误代码:-3"),!1):!0}function loadPageCount(options){var data,resultPageCount,isB,pageCountId,callback;if(options.dataType){switch(data=options.data,resultPageCount=!1,isB=!0,pageCountId=getPageCountId(),options.dataType){case"json":data=eval("("+data+")"),resultPageCount=eval("data."+pageCountId);break;case"xml":resultPageCount=$(data).find(pageCountId).text();break;default:isB=!1,callback=options.callback+"(data)",eval(callback),resultPageCount=$("#"+pageCountId).val()}resultPageCount&&(pageCount=resultPageCount),isB&&(callback=options.callback+"(data)",eval(callback))}}var options,currPage,form,pageCount,pageSize,tempPage,defaults,cssStyle;param&&param instanceof Object&&(defaults=new Object({currPage:1,pageCount:10,pageSize:5,pageNOName:"pageNo",form:"searchForm",cssStyle:"myself",ajax:{on:!1,pageCountId:"pageCount",param:{on:!1,page:1},ajaxStart:function(){return!1}},info:{first:"首页",last:"尾页",next:"下一页",prev:"上一页",first_on:!0,last_on:!0,next_on:!0,prev_on:!0,msg_on:!0,link:"#",msg:"",text:{width:"22px"}}}),options=param,currPage=getCurrPage(),pageCount=getPageCount(),pageSize=getPageSize(),tempPage=getInt(pageSize/2),cssStyle=getCssStyle(),obj.addClass(cssStyle),checkParam()&&(updateView(),createView(currPage)))}$.fn.pager=function(a){return init(a,$(this)),$(this)}}(jQuery),function(a,c,h){a.fn.jScrollPane=function(e){function d(g,v){function b(c){var v,F,j,k,_,P,T=!1,E=!1;if(K=c,Q===h)_=g.scrollTop(),P=g.scrollLeft(),g.css({overflow:"hidden",padding:0}),J=g.innerWidth()+f,Z=g.innerHeight(),g.width(J),Q=a('<div class="jspPane" />').css("padding",Ct).append(g.children()),et=a('<div class="jspContainer" />').css({width:J+"px",height:Z+"px"}).append(Q).appendTo(g);else{if(g.css("width",""),T=K.stickToBottom&&I(),E=K.stickToRight&&R(),k=g.innerWidth()+f!=J||g.outerHeight()!=Z,k&&(J=g.innerWidth()+f,Z=g.innerHeight(),et.css({width:J+"px",height:Z+"px"})),!k&&jt==tt&&Q.outerHeight()==it)return void g.width(J);jt=tt,Q.css("width",""),g.width(J),et.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Q.css("overflow","auto"),tt=c.contentWidth?c.contentWidth:Q[0].scrollWidth,it=Q[0].scrollHeight,Q.css("overflow",""),nt=tt/J,q=it/Z,st=q>1,ot=nt>1,ot||st?(g.addClass("jspScrollable"),v=K.maintainPosition&&(lt||ht),v&&(F=W(),j=H()),w(),y(),C(),v&&(M(E?tt-J:F,!1),L(T?it-Z:j,!1)),O(),B(),X(),K.enableKeyboardNavigation&&V(),K.clickOnTrack&&p(),Y(),K.hijackInternalLinks&&m()):(g.removeClass("jspScrollable"),Q.css({top:0,width:et.width()-f}),n(),$(),U(),D()),K.autoReinitialise&&!Ft?Ft=setInterval(function(){b(K)},K.autoReinitialiseDelay):!K.autoReinitialise&&Ft&&clearInterval(Ft),_&&g.scrollTop(0)&&L(_,!1),P&&g.scrollLeft(0)&&M(P,!1),g.trigger("jsp-initialised",[ot||st])}function w(){st&&(et.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),dt=et.find(">.jspVerticalBar"),pt=dt.find(">.jspTrack"),at=pt.find(">.jspDrag"),K.showArrows&&(gt=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",k(0,-1)).bind("click.jsp",z),vt=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",k(0,1)).bind("click.jsp",z),K.arrowScrollOnHover&&(gt.bind("mouseover.jsp",k(0,-1,gt)),vt.bind("mouseover.jsp",k(0,1,vt))),j(pt,K.verticalArrowPositions,gt,vt)),t=Z,et.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){t-=a(this).outerHeight()}),at.hover(function(){at.addClass("jspHover")},function(){at.removeClass("jspHover")}).bind("mousedown.jsp",function(c){a("html").bind("dragstart.jsp selectstart.jsp",z),at.addClass("jspActive");var s=c.pageY-at.position().top;return a("html").bind("mousemove.jsp",function(a){T(a.pageY-s,!1)}).bind("mouseup.jsp mouseleave.jsp",P),!1}),o())}function o(){pt.height(t+"px"),lt=0,ft=K.verticalGutter+pt.outerWidth(),Q.width(J-ft-f);try{0===dt.position().left&&Q.css("margin-left",ft+"px")}catch(s){}}function y(){ot&&(et.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),bt=et.find(">.jspHorizontalBar"),wt=bt.find(">.jspTrack"),ut=wt.find(">.jspDrag"),K.showArrows&&(xt=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",k(-1,0)).bind("click.jsp",z),x=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",k(1,0)).bind("click.jsp",z),K.arrowScrollOnHover&&(xt.bind("mouseover.jsp",k(-1,0,xt)),x.bind("mouseover.jsp",k(1,0,x))),j(wt,K.horizontalArrowPositions,xt,x)),ut.hover(function(){ut.addClass("jspHover")},function(){ut.removeClass("jspHover")}).bind("mousedown.jsp",function(c){a("html").bind("dragstart.jsp selectstart.jsp",z),ut.addClass("jspActive");var s=c.pageX-ut.position().left;return a("html").bind("mousemove.jsp",function(a){A(a.pageX-s,!1)}).bind("mouseup.jsp mouseleave.jsp",P),!1}),l=et.innerWidth(),F())}function F(){et.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){l-=a(this).outerWidth()}),wt.width(l+"px"),ht=0}function C(){if(ot&&st){var c=wt.outerHeight(),s=pt.outerWidth();t-=c,a(bt).find(">.jspCap:visible,>.jspArrow").each(function(){l+=a(this).outerWidth()}),l-=s,Z-=s,J-=c,wt.parent().append(a('<div class="jspCorner" />').css("width",c+"px")),o(),F()}ot&&Q.width(et.outerWidth()-f+"px"),it=Q.outerHeight(),q=it/Z,ot&&(yt=Math.ceil(1/nt*l),yt>K.horizontalDragMaxWidth?yt=K.horizontalDragMaxWidth:yt<K.horizontalDragMinWidth&&(yt=K.horizontalDragMinWidth),ut.width(yt+"px"),ct=l-yt,S(ht)),st&&(mt=Math.ceil(1/q*t),mt>K.verticalDragMaxHeight?mt=K.verticalDragMaxHeight:mt<K.verticalDragMinHeight&&(mt=K.verticalDragMinHeight),at.height(mt+"px"),i=t-mt,E(lt))}function j(a,c,h,s){var g,v="before",b="after";"os"==c&&(c=/Mac/.test(navigator.platform)?"after":"split"),c==v?b=c:c==b&&(v=c,g=h,h=s,s=g),a[v](h)[b](s)}function k(a,s,c){return function(){return _(a,s,this,c),this.blur(),!1}}function _(c,h,g,v){g=a(g).addClass("jspActive");var b,w,y=!0,s=function(){0!==c&&kt.scrollByX(c*K.arrowButtonSpeed),0!==h&&kt.scrollByY(h*K.arrowButtonSpeed),w=setTimeout(s,y?K.initialDelay:K.arrowRepeatFreq),y=!1};s(),b=v?"mouseout.jsp":"mouseup.jsp",v=v||a("html"),v.bind(b,function(){g.removeClass("jspActive"),w&&clearTimeout(w),w=null,v.unbind(b)})}function p(){D(),st&&pt.bind("mousedown.jsp",function(c){if(c.originalTarget===h||c.originalTarget==c.currentTarget){var g,v=a(this),b=v.offset(),w=c.pageY-b.top-lt,y=!0,s=function(){var a=v.offset(),h=c.pageY-a.top-mt/2,b=Z*K.scrollPagePercent,C=i*b/(it-Z);if(0>w)lt-C>h?kt.scrollByY(-b):T(h);else{if(!(w>0))return void F();h>lt+C?kt.scrollByY(b):T(h)}g=setTimeout(s,y?K.initialDelay:K.trackClickRepeatFreq),y=!1},F=function(){g&&clearTimeout(g),g=null,a(document).unbind("mouseup.jsp",F)};return s(),a(document).bind("mouseup.jsp",F),!1}}),ot&&wt.bind("mousedown.jsp",function(c){if(c.originalTarget===h||c.originalTarget==c.currentTarget){var g,v=a(this),b=v.offset(),w=c.pageX-b.left-ht,y=!0,s=function(){var a=v.offset(),h=c.pageX-a.left-yt/2,b=J*K.scrollPagePercent,C=ct*b/(tt-J);if(0>w)ht-C>h?kt.scrollByX(-b):A(h);else{if(!(w>0))return void F();h>ht+C?kt.scrollByX(b):A(h)}g=setTimeout(s,y?K.initialDelay:K.trackClickRepeatFreq),y=!1},F=function(){g&&clearTimeout(g),g=null,a(document).unbind("mouseup.jsp",F)};return s(),a(document).bind("mouseup.jsp",F),!1}})}function D(){wt&&wt.unbind("mousedown.jsp"),pt&&pt.unbind("mousedown.jsp")}function P(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),at&&at.removeClass("jspActive"),ut&&ut.removeClass("jspActive")}function T(s,a){st&&(0>s?s=0:s>i&&(s=i),a===h&&(a=K.animateScroll),a?kt.animate(at,"top",s,E):(at.css("top",s),E(s)))}function E(a){a===h&&(a=at.position().top),et.scrollTop(0),lt=a;var c=0===lt,v=lt==i,b=a/i,s=-b*(it-Z);(_t!=c||Pt!=v)&&(_t=c,Pt=v,g.trigger("jsp-arrow-change",[_t,Pt,Dt,Tt])),u(c,v),Q.css("top",s),g.trigger("jsp-scroll-y",[-s,c,v]).trigger("scroll")}function A(a,s){ot&&(0>a?a=0:a>ct&&(a=ct),s===h&&(s=K.animateScroll),s?kt.animate(ut,"left",a,S):(ut.css("left",a),S(a)))}function S(a){a===h&&(a=ut.position().left),et.scrollTop(0),ht=a;var c=0===ht,v=ht==ct,b=a/ct,s=-b*(tt-J);(Dt!=c||Tt!=v)&&(Dt=c,Tt=v,g.trigger("jsp-arrow-change",[_t,Pt,Dt,Tt])),r(c,v),Q.css("left",s),g.trigger("jsp-scroll-x",[-s,c,v]).trigger("scroll")}function u(a,s){K.showArrows&&(gt[a?"addClass":"removeClass"]("jspDisabled"),vt[s?"addClass":"removeClass"]("jspDisabled"))}function r(a,s){K.showArrows&&(xt[a?"addClass":"removeClass"]("jspDisabled"),x[s?"addClass":"removeClass"]("jspDisabled"))}function L(s,a){var c=s/(it-Z);T(c*i,a)}function M(a,s){var c=a/(tt-J);A(c*ct,s)}function N(c,h,g){var v,b,w,y,F,C,j,k,_,s=0,D=0;try{v=a(c)}catch(P){return}for(b=v.outerHeight(),w=v.outerWidth(),et.scrollTop(0),et.scrollLeft(0);!v.is(".jspPane");)if(s+=v.position().top,D+=v.position().left,v=v.offsetParent(),/^body|html$/i.test(v[0].nodeName))return;y=H(),C=y+Z,y>s||h?k=s-K.verticalGutter:s+b>C&&(k=s-Z+b+K.verticalGutter),k&&L(k,g),F=W(),j=F+J,F>D||h?_=D-K.horizontalGutter:D+w>j&&(_=D-J+w+K.horizontalGutter),_&&M(_,g)}function W(){return-Q.position().left}function H(){return-Q.position().top}function I(){var s=it-Z;return s>20&&s-H()<10}function R(){var s=tt-J;return s>20&&s-W()<10}function B(){et.unbind(At).bind(At,function(a,c,h,g){var v=ht,s=lt;return kt.scrollBy(h*K.mouseWheelSpeed,-g*K.mouseWheelSpeed,!1),v==ht&&s==lt})}function n(){et.unbind(At)}function z(){return!1}function O(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){N(s.target,!1)})}function $(){Q.find(":input,a").unbind("focus.jsp")}function V(){function c(){var a=ht,c=lt;switch(s){case 40:kt.scrollByY(K.keyboardSpeed,!1);break;case 38:kt.scrollByY(-K.keyboardSpeed,!1);break;case 34:case 32:kt.scrollByY(Z*K.scrollPagePercent,!1);break;case 33:kt.scrollByY(-Z*K.scrollPagePercent,!1);break;case 39:kt.scrollByX(K.keyboardSpeed,!1);break;case 37:kt.scrollByX(-K.keyboardSpeed,!1)}return h=a!=ht||c!=lt}var s,h,v=[];ot&&v.push(bt[0]),st&&v.push(dt[0]),Q.focus(function(){g.focus()}),g.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(g){if(g.target===this||v.length&&a(g.target).closest(v).length){var b=ht,w=lt;switch(g.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=g.keyCode,c();break;case 35:L(it-Z),s=null;break;case 36:L(0),s=null}return h=g.keyCode==s&&b!=ht||w!=lt,!h}}).bind("keypress.jsp",function(a){return a.keyCode==s&&c(),!h}),K.hideFocus?(g.css("outline","none"),"hideFocus"in et[0]&&g.attr("hideFocus",!0)):(g.css("outline",""),"hideFocus"in et[0]&&g.attr("hideFocus",!1))}function U(){g.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function Y(){if(location.hash&&location.hash.length>1){var c,h,g=escape(location.hash.substr(1));try{c=a("#"+g+', a[name="'+g+'"]')}catch(s){return}c.length&&Q.find(g)&&(0===et.scrollTop()?h=setInterval(function(){et.scrollTop()>0&&(N(c,!0),a(document).scrollTop(et.position().top),clearInterval(h))},50):(N(c,!0),a(document).scrollTop(et.position().top)))}}function m(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(s){var h,g,v,b,w,y,F=this.href.substr(0,this.href.indexOf("#")),C=location.href;if(-1!==location.href.indexOf("#")&&(C=location.href.substr(0,location.href.indexOf("#"))),F===C){h=escape(this.href.substr(this.href.indexOf("#")+1));try{g=a("#"+h+', a[name="'+h+'"]')}catch(j){return}g.length&&(v=g.closest(".jspScrollable"),b=v.data("jsp"),b.scrollToElement(g,!0),v[0].scrollIntoView&&(w=a(c).scrollTop(),y=g.offset().top,(w>y||y>w+a(c).height())&&v[0].scrollIntoView()),s.preventDefault())}}))}function X(){var a,c,h,g,v,s=!1;et.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(b){var w=b.originalEvent.touches[0];a=W(),c=H(),h=w.pageX,g=w.pageY,v=!1,s=!0}).bind("touchmove.jsp",function(b){if(s){var w=b.originalEvent.touches[0],y=ht,F=lt;return kt.scrollTo(a+h-w.pageX,c+g-w.pageY),v=v||Math.abs(h-w.pageX)>5||Math.abs(g-w.pageY)>5,y==ht&&F==lt}}).bind("touchend.jsp",function(){s=!1}).bind("click.jsp-touchclick",function(){return v?(v=!1,!1):void 0})}function G(){var s=H(),a=W();g.removeClass("jspScrollable").unbind(".jsp"),g.replaceWith(Et.append(Q.children())),Et.scrollTop(s),Et.scrollLeft(a),Ft&&clearInterval(Ft)}var K,Q,J,Z,et,tt,it,nt,q,st,ot,at,i,lt,ut,ct,ht,dt,pt,ft,t,mt,gt,vt,bt,wt,l,yt,xt,x,Ft,Ct,f,jt,kt=this,_t=!0,Dt=!0,Pt=!1,Tt=!1,Et=g.clone(!1,!1).empty(),At=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";Ct=g.css("paddingTop")+" "+g.css("paddingRight")+" "+g.css("paddingBottom")+" "+g.css("paddingLeft"),f=(parseInt(g.css("paddingLeft"),10)||0)+(parseInt(g.css("paddingRight"),10)||0),a.extend(kt,{reinitialise:function(c){c=a.extend({},K,c),b(c)},scrollToElement:function(a,c,s){N(a,c,s)},scrollTo:function(a,s,c){M(a,c),L(s,c)},scrollToX:function(a,s){M(a,s)},scrollToY:function(s,a){L(s,a)},scrollToPercentX:function(a,s){M(a*(tt-J),s)},scrollToPercentY:function(a,s){L(a*(it-Z),s)},scrollBy:function(a,s,c){kt.scrollByX(a,c),kt.scrollByY(s,c)},scrollByX:function(s,a){var c=W()+Math[0>s?"floor":"ceil"](s),h=c/(tt-J);A(h*ct,a)},scrollByY:function(s,a){var c=H()+Math[0>s?"floor":"ceil"](s),h=c/(it-Z);T(h*i,a)},positionDragX:function(s,a){A(s,a)},positionDragY:function(a,s){T(a,s)},animate:function(a,c,s,h){var g={};g[c]=s,a.animate(g,{duration:K.animateDuration,easing:K.animateEase,queue:!1,step:h})},getContentPositionX:function(){return W()
},getContentPositionY:function(){return H()},getContentWidth:function(){return tt},getContentHeight:function(){return it},getPercentScrolledX:function(){return W()/(tt-J)},getPercentScrolledY:function(){return H()/(it-Z)},getIsScrollableH:function(){return ot},getIsScrollableV:function(){return st},getContentPane:function(){return Q},scrollToBottom:function(s){T(i,s)},hijackInternalLinks:a.noop,destroy:function(){G()}}),b(v)}return e=a.extend({},a.fn.jScrollPane.defaults,e),a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed}),this.each(function(){var f=a(this),c=f.data("jsp");c?c.reinitialise(e):(a("script",f).filter('[type="text/javascript"],:not([type])').remove(),c=new d(f,e),f.data("jsp",c))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:h,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),!function(a){"function"==typeof define&&define.amd?define("mycenter/modules/common/js/libs/jquery.lib",["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function c(c){var l,h=c||window.event,f=[].slice.call(arguments,1),g=0,v=0,i=0,b=0,w=0;return c=a.event.fix(h),c.type="mousewheel",h.wheelDelta&&(g=h.wheelDelta),h.detail&&(g=-1*h.detail),h.deltaY&&(i=-1*h.deltaY,g=i),h.deltaX&&(v=h.deltaX,g=-1*v),void 0!==h.wheelDeltaY&&(i=h.wheelDeltaY),void 0!==h.wheelDeltaX&&(v=-1*h.wheelDeltaX),b=Math.abs(g),(!d||d>b)&&(d=b),w=Math.max(Math.abs(i),Math.abs(v)),(!e||e>w)&&(e=w),l=g>0?"floor":"ceil",g=Math[l](g/d),v=Math[l](v/e),i=Math[l](i/e),f.unshift(c,g,v,i),(a.event.dispatch||a.event.handle).apply(this,f)}var d,e,f,h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(a.event.fixHooks)for(f=h.length;f;)a.event.fixHooks[h[--f]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=g.length;a;)this.addEventListener(g[--a],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var a=g.length;a;)this.removeEventListener(g[--a],c,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function(a){a.extend(a.fn,{validate:function(c){if(!this.length)return void(c&&c.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var h=a.data(this[0],"validator");return h?h:(h=new a.validator(c,this[0]),a.data(this[0],"validator",h),h.settings.onsubmit&&(this.validateDelegate(":submit","click",function(c){h.settings.submitHandler&&(h.submitButton=c.target),a(c.target).hasClass("cancel")&&(h.cancelSubmit=!0)}),this.submit(function(c){function d(){var d;return h.settings.submitHandler?(h.submitButton&&(d=a("<input type='hidden'/>").attr("name",h.submitButton.name).val(h.submitButton.value).appendTo(h.currentForm)),h.settings.submitHandler.call(h,h.currentForm,c),h.submitButton&&d.remove(),!1):!0}return void 0!=window.tinyMCE&&tinyMCE.triggerSave(),h.settings.debug&&c.preventDefault(),h.cancelSubmit?(h.cancelSubmit=!1,d()):h.form()?h.pendingRequest?(h.formSubmitted=!0,!1):d():(h.focusInvalid(),!1)})),h)},valid:function(){var c,h;return a(this[0]).is("form")?this.validate().form():(c=!0,h=a(this[0].form).validate(),this.each(function(){c&=h.element(this)}),c)},removeAttrs:function(c){var h={},d=this;return a.each(c.split(/\s/),function(a,c){h[c]=d.attr(c),d.removeAttr(c)}),h},rules:function(c,h){var e,f,g,v,i,b,d=this[0];if(c)switch(e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d),c){case"add":a.extend(g,a.validator.normalizeRule(h)),f[d.name]=g,h.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],h.messages));break;case"remove":return h?(v={},a.each(h.split(/\s/),function(a,c){v[c]=g[c],delete g[c]}),v):(delete f[d.name],g)}return i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d),i.required&&(b=i.required,delete i.required,i=a.extend({required:b},i)),i}}),a.extend(a.expr[":"],{blank:function(c){return!a.trim(""+c.value)},filled:function(c){return!!a.trim(""+c.value)},unchecked:function(a){return!a.checked}}),a.validator=function(c,h){this.settings=a.extend(!0,{},a.validator.defaults,c),this.currentForm=h,this.init()},a.validator.format=function(c,h){return 1===arguments.length?function(){var h=a.makeArray(arguments);return h.unshift(c),a.validator.format.apply(this,h)}:(arguments.length>2&&h.constructor!==Array&&(h=a.makeArray(arguments).slice(1)),h.constructor!==Array&&(h=[h]),a.each(h,function(a,h){c=c.replace(new RegExp("\\{"+a+"\\}","g"),h)}),c)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"span",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:"",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,c){(9!=c.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(c,h,d){"radio"===c.type?this.findByName(c.name).addClass(h).removeClass(d):a(c).addClass(h).removeClass(d)},unhighlight:function(c,h,d){"radio"===c.type?this.findByName(c.name).removeClass(h).addClass(d):a(c).removeClass(h).addClass(d)}},setDefaults:function(c){a.extend(a.validator.defaults,c)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(c){var h=a.data(this[0].form,"validator"),d="on"+c.type.replace(/^validate/,"");h.settings[d]&&h.settings[d].call(h,this[0],c)}var c,h;this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),c=this.groups={},a.each(this.settings.groups,function(h,d){a.each(d.split(/\s/),function(a,d){c[d]=h})}),h=this.settings.rules,a.each(h,function(c,d){h[c]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){var a,c,h;for(this.prepareForm(),a=0,c=this.currentElements=this.elements();c[a];a++)if(void 0!=this.findByName(c[a].name).length&&this.findByName(c[a].name).length>1)for(h=0;h<this.findByName(c[a].name).length;h++)this.check(this.findByName(c[a].name)[h]);else this.check(c[a]);return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c)),this.lastElement=c,this.prepareElement(c),this.currentElements=a(c);var h=this.check(c)!==!1;return h?delete this.invalid[c.name]:this.invalid[c.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),h},showErrors:function(c){if(c){a.extend(this.errorMap,c),this.errorList=[];for(var h in c)this.errorList.push({message:c[h],element:this.findByName(h)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var h=0;for(c in a)h++;return h},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&1===a.grep(this.errorList,function(a){return a.element.name===c.name}).length&&c},elements:function(){var c=this,h={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in h||!c.objectLength(a(this).rules())?!1:(h[this.name]=!0,!0)})},clean:function(c){return a(c)[0]},errors:function(){var c=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+c,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(c){var h=a(c).attr("type"),d=a(c).val();return"radio"===h||"checkbox"===h?a('input[name="'+a(c).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(c){var h,d,e,f,g,v;c=this.validationTargetFor(this.clean(c)),h=a(c).rules(),d=!1,e=this.elementValue(c);for(g in h){v={method:g,parameters:h[g]};try{if(f=a.validator.methods[g].call(this,e,c,v.parameters),"dependency-mismatch"===f){d=!0;continue}if(d=!1,"pending"===f)return void(this.toHide=this.toHide.not(this.errorsFor(c)));if(!f)return this.formatAndAdd(c,v),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+v.method+"' method",i),i}}return d?void 0:(this.objectLength(h)&&this.successList.push(c),!0)},customMetaMessage:function(c,h){if(a.metadata){var d=this.settings.meta?a(c).metadata()[this.settings.meta]:a(c).metadata();return d&&d.messages&&d.messages[h]}},customDataMessage:function(c,h){return a(c).data("msg-"+h.toLowerCase())||c.attributes&&a(c).attr("data-msg-"+h.toLowerCase())},customMessage:function(a,c){var h=this.settings.messages[a];return h&&(h.constructor===String?h:h[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(c,h){return this.findDefined(this.customMessage(c.name,h),this.customDataMessage(c,h),this.customMetaMessage(c,h),!this.settings.ignoreTitle&&c.title||void 0,a.validator.messages[h],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(c,h){var d=this.defaultMessage(c,h.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,h.parameters,c):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),h.parameters)),this.errorList.push({message:d,element:c}),this.errorMap[c.name]=d,this.submitted[c.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,c,h;for(a=0;this.errorList[a];a++)h=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,h.element,this.settings.errorClass,this.settings.validClass),this.showLabel(h.element,h.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,h){var d=this.errorsFor(c);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(h)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:!0}).addClass(this.settings.errorClass).html(h||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(c)):d.insertAfter(a(c)))),!h&&this.settings.success&&(d.text("").append('<em class="error_arrow"></em>'),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,c)),this.toShow=this.toShow.add(d)},errorsFor:function(c){var h=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===h})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(c){return a(this.currentForm).find('[name="'+c+'"]')},getLength:function(c,h){switch(h.nodeName.toLowerCase()){case"select":return a("option:selected",h).length;case"input":if(this.checkable(h))return this.findByName(h.name).filter(":checked").length}return c.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):!0},dependTypes:{"boolean":function(a){return a},string:function(c,h){return!!a(c,h.form).length},"function":function(a,c){return a(c)}},optional:function(c){var h=this.elementValue(c);return!a.validator.methods.required.call(this,h,c)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(c,h){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[c.name],h&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!h&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(c){return a.data(c,"previousValue")||a.data(c,"previousValue",{old:null,valid:!0,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(c,h){c.constructor===String?this.classRuleSettings[c]=h:a.extend(this.classRuleSettings,c)},classRules:function(c){var h={},d=a(c).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(h,a.validator.classRuleSettings[this])}),h},attributeRules:function(c){var e,f,h={},d=a(c);for(e in a.validator.methods)"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?h[e]=f:d[0].getAttribute("type")===e&&(h[e]=!0);return h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)&&delete h.maxlength,h},metadataRules:function(c){if(!a.metadata)return{};var h=a.data(c.form,"validator").settings.meta;return h?a(c).metadata()[h]:a(c).metadata()},staticRules:function(c){var h={},d=a.data(c.form,"validator");return d.settings.rules&&(h=a.validator.normalizeRule(d.settings.rules[c.name])||{}),h},normalizeRules:function(c,h){return a.each(c,function(d,e){if(e===!1)return void delete c[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,h.form).length;break;case"function":f=e.depends.call(h,h)}f?c[d]=void 0!==e.param?e.param:!0:delete c[d]}}),a.each(c,function(d,e){c[d]=a.isFunction(e)?e(h):e}),a.each(["minlength","maxlength","min","max"],function(){c[this]&&(c[this]=Number(c[this]))}),a.each(["rangelength","range"],function(){c[this]&&(c[this]=[Number(c[this][0]),Number(c[this][1])])}),a.validator.autoCreateRanges&&(c.min&&c.max&&(c.range=[c.min,c.max],delete c.min,delete c.max),c.minlength&&c.maxlength&&(c.rangelength=[c.minlength,c.maxlength],delete c.minlength,delete c.maxlength)),c.messages&&delete c.messages,c},normalizeRule:function(c){if("string"==typeof c){var h={};a.each(c.split(/\s/),function(){h[this]=!0}),c=h}return c},addMethod:function(c,h,d){a.validator.methods[c]=h,a.validator.messages[c]=void 0!==d?d:a.validator.messages[c],h.length<3&&a.validator.addClassRules(c,a.validator.normalizeRule(c))},methods:{required:function(c,h,d){if(!this.depend(d,h))return"dependency-mismatch";if("select"===h.nodeName.toLowerCase()){var e=a(h).val();return e&&e.length>0}return this.checkable(h)?this.getLength(c,h)>0:(c==a(h).attr("placeholder")&&(c=""),a.trim(c).length>0)},remote:function(c,h,d){var e,f,g;return this.optional(h)?"dependency-mismatch":(e=this.previousValue(h),this.settings.messages[h.name]||(this.settings.messages[h.name]={}),e.originalMessage=this.settings.messages[h.name].remote,this.settings.messages[h.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[h.name]?"pending":e.old===c?e.valid:(e.old=c,f=this,this.startRequest(h),g={},g[h.name]=c,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+h.name,dataType:"json",data:g,success:function(d){var g,v,i,b;f.settings.messages[h.name].remote=e.originalMessage,g=d===!0||"true"===d,g?(v=f.formSubmitted,f.prepareElement(h),f.formSubmitted=v,f.successList.push(h),delete f.invalid[h.name],f.showErrors()):(i={},b=d||f.defaultMessage(h,"remote"),i[h.name]=e.message=a.isFunction(b)?b(c):b,f.invalid[h.name]=!0,f.showErrors(i)),e.valid=g,f.stopRequest(h,g)}},d)),"pending"))},minlength:function(c,h,d){var e=a.isArray(c)?c.length:this.getLength(a.trim(c),h);return this.optional(h)||e>=d},maxlength:function(c,h,d){var e=a.isArray(c)?c.length:this.getLength(a.trim(c),h);return this.optional(h)||d>=e},rangelength:function(c,h,d){var e=a.isArray(c)?c.length:this.getLength(a.trim(c),h);return this.optional(h)||e>=d[0]&&e<=d[1]},min:function(a,c,h){return this.optional(c)||a>=h},max:function(a,c,h){return this.optional(c)||h>=a},range:function(a,c,h){return this.optional(c)||a>=h[0]&&a<=h[1]},email:function(c,h){return c=a.trim(c),this.optional(h)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(a,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,c){return this.optional(c)||/^\d+$/.test(a)},creditcard:function(a,c){var h,d,e,f,g;if(this.optional(c))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;for(h=0,d=0,e=!1,a=a.replace(/\D/g,""),f=a.length-1;f>=0;f--)g=a.charAt(f),d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),h+=d,e=!e;return 0===h%10},equalTo:function(c,h,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(h).valid()}),c===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var c,h={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(h[e]&&h[e].abort(),h[e]=d)}):(c=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(h[f]&&h[f].abort(),h[f]=c.apply(this,arguments)):c.apply(this,arguments)})}(jQuery),function(a){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||a.each({focus:"focusin",blur:"focusout"},function(c,h){function d(c){return c=a.event.fix(c),c.type=h,a.event.handle.call(this,c)}a.event.special[h]={setup:function(){this.addEventListener(c,d,!0)},teardown:function(){this.removeEventListener(c,d,!0)},handler:function(c){var d=arguments;return d[0]=a.event.fix(c),d[0].type=h,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(c,h,d){return this.bind(h,function(h){var e=a(h.target);return e.is(c)?d.apply(e,arguments):void 0})}})}(jQuery);
/*!common/components/jquery-ajaxfileupload/ajaxfileupload.js*/
;define("common/components/jquery-ajaxfileupload/ajaxfileupload",["require","exports","module"],function(){jQuery.extend({handleError:function(s,a,c,e){s.error&&s.error.call(s.context||s,a,c,e),s.global&&(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[a,s,e])},createUploadIframe:function(a,c){var y="jUploadFrame"+a,j='<iframe id="'+y+'" name="'+y+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof c?j+=' src="javascript:false"':"string"==typeof c&&(j+=' src="'+c+'"')),j+=" />",jQuery(j).appendTo(document.body),jQuery("#"+y).get(0)},createUploadForm:function(a,c,y){var j="jUploadForm"+a,Q="jUploadFile"+a,g=jQuery('<form  action="" method="POST" name="'+j+'" id="'+j+'" enctype="multipart/form-data"></form>');if(y)for(var i in y)jQuery('<input type="hidden" name="'+i+'" value="'+y[i]+'" />').appendTo(g);var v=jQuery("#"+c),T=jQuery(v).clone();return jQuery(v).attr("id",Q),jQuery(v).before(T),jQuery(v).appendTo(g),jQuery(g).css("position","absolute"),jQuery(g).css("top","-1200px"),jQuery(g).css("left","-1200px"),jQuery(g).appendTo("body"),g},ajaxFileUpload:function(s){s=jQuery.extend({},jQuery.ajaxSettings,s);var a=(new Date).getTime(),c=jQuery.createUploadForm(a,s.fileElementId,"undefined"==typeof s.data?!1:s.data),y=(jQuery.createUploadIframe(a,s.secureuri),"jUploadFrame"+a),j="jUploadForm"+a;s.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var Q=!1,g={};s.global&&jQuery.event.trigger("ajaxSend",[g,s]);var v=function(a){var j,v,T,b=document.getElementById(y),h=s.dataType;try{b.contentWindow?j=b.contentWindow.document:b.contentDocument&&(j=b.contentDocument.document),j&&(T=j.getElementsByTagName("pre")[0],v=j.getElementsByTagName("body")[0],"html"===h||"script"===h?g.responseText=j.body.innerHTML||null:T?g.responseText=T.textContent||T.innerText:v&&(g.responseText=v.textContent||v.innerText),g.responseXML=j.XMLDocument||j)}catch(e){jQuery.handleError(s,g,null,e)}if(g||"timeout"==a){Q=!0;var E;try{if(E="timeout"!=a?"success":"error","error"!=E){var U=jQuery.uploadHttpData(g,s.dataType);s.success&&s.success(U,E),s.global&&jQuery.event.trigger("ajaxSuccess",[g,s])}else jQuery.handleError(s,g,E)}catch(e){E="error",jQuery.handleError(s,g,E,e)}s.global&&jQuery.event.trigger("ajaxComplete",[g,s]),s.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),s.complete&&s.complete(g,E),jQuery(b).unbind(),setTimeout(function(){try{jQuery(b).remove(),jQuery(c).remove()}catch(e){jQuery.handleError(s,g,null,e)}},100),g=null}};s.timeout>0&&setTimeout(function(){Q||v("timeout")},s.timeout);try{var c=jQuery("#"+j);jQuery(c).attr("action",s.url),jQuery(c).attr("method","POST"),jQuery(c).attr("target",y),c.encoding?jQuery(c).attr("encoding","multipart/form-data"):jQuery(c).attr("enctype","multipart/form-data"),jQuery(c).submit()}catch(e){jQuery.handleError(s,g,null,e)}return jQuery("#"+y).load(v),{abort:function(){}}},uploadHttpData:function(r,a){var c=!a;return c="xml"==a||c?r.responseXML:r.responseText,"script"==a&&jQuery.globalEval(c),"json"==a&&(c=jQuery.parseJSON(jQuery(c).text())),"html"==a&&jQuery("<div>").html(c).evalScripts(),c}})});
/*!mycenter/modules/common/js/jquery.cropzoom.js*/
;define("mycenter/modules/common/js/jquery.cropzoom",["require","exports","module"],function(){!function(a){function c(){var a=N.image.source.split(".");return a[a.length-1]}function h(){Y("image").scaleX=parseFloat(Y("selector").w/Y("image").w),Y("image").scaleY=parseFloat(Y("selector").h/Y("image").h)}function g(){var a=Y("image").scaleX,c=Y("image").scaleY;c>a?(Y("image").h=Y("selector").h+2,Y("image").w=Math.round(Y("image").w*c),N.image.minZoom=Y("selector").h/N.image.height*100):(Y("image").h=Math.round(Y("image").h*a),Y("image").w=Y("selector").w+2,N.image.minZoom=Y("selector").w/N.image.width*100),N.image.maxZoom=3*N.image.minZoom}function w(){var c="",h="";R()?(c="rotate("+Y("image").rotation+","+(Y("image").posX+Y("image").w/2)+","+(Y("image").posY+Y("image").h/2)+")",h=" translate("+Y("image").posX+","+Y("image").posY+")",c+=h,a("#img_to_crop").attr2("transform",c)):(c=Y("image").rotation,a("#img_to_crop").css({rotation:c,top:Y("image").posY,left:Y("image").posX}))}function v(){var c=a("<div />").css({position:"absolute","background-color":"#FFF","z-index":3,opacity:.6,width:31,height:F.height()/2,top:5,left:5}).mouseover(function(){a(this).css("opacity",1)}).mouseout(function(){a(this).css("opacity",.6)}),h=a("<div />").css({color:"#000",font:"700 11px Arial",margin:"auto",width:10}),g=a("<div />").css({color:"#000",font:"700 11px Arial",margin:"auto",width:21});h.html("0"),g.html("360");var v=a("<div />");v.slider({orientation:"horizontal",value:360,min:0,max:360,step:N.rotationSteps>360||N.rotationSteps<0?1:N.rotationSteps,slide:function(c,ui){Y("image").rotation=Math.abs(360-ui.value),w(),null!=N.onRotate&&N.onRotate(a("#img_to_crop"),Y("image").rotation)}}),c.append(h),c.append(v),c.append(g),v.css({margin:" 7px auto",height:F.height()/2-60,position:"relative",width:7}),F.append(c)}function b(){var c=F.next("div.isExist");c.length>0&&c.remove();var g=a("<div class='isExist' />").css({"background-color":"#fff",opacity:1,height:F.height()/2-168,width:"285px",margin:"20px auto 0 auto"}),v=a("<div />").css({color:"#000",font:"700 14px Arial","margin-left":"10px","text-align":"left","float":"left"}).html("<img class='right' src='../../images/myresume/mr_headright.png' />"),b=a("<div />").css({color:"#000",font:"700 14px Arial","float":"left","margin-right":"10px","text-align":"right"}).html("<img class='left' src='../../images/myresume/mr_headleft.png' />"),A=a("<div />");A.slider({orientation:"horizontal ",value:y(),min:N.image.minZoom,max:N.image.maxZoom,step:N.zoomSteps>N.image.maxZoom||N.zoomSteps<0?1:N.zoomSteps,slide:function(c,ui){var g=N.image.width*Math.abs(ui.value)/100,v=N.image.height*Math.abs(ui.value)/100,b=Y("selector").w+2,y=Y("selector").h+2;b>g&&(g=b),y>v&&(v=y),R()?(a("#img_to_crop").attr2("width",g+"px"),a("#img_to_crop").attr2("height",v+"px")):a("#img_to_crop").css({width:g+"px",height:v+"px"}),Y("image").w=g,Y("image").h=v,h(),Y("image").posX=N.width/2-Y("image").w/2+1,Y("image").posY=N.height/2-Y("image").h/2+1,w(),null!=N.onZoom&&N.onZoom(a("#img_to_crop"),Y("image"))}}),g.append(b),g.append(A),g.append(v),A.css({margin:" 7px","float":"left",height:"5px",width:200,position:"relative"}),F.after(g)}function y(){var a=0;return a=Y("image").w>Y("image").h?100*Y("image").w/N.image.width:100*Y("image").h/N.image.height}function A(){N.selector.centered&&(Y("selector").y=N.height/2-Y("selector").h/2,Y("selector").x=N.width/2-Y("selector").w/2);var c=a("<div />").attr2("id","selector").css({width:Y("selector").w,height:Y("selector").h,top:Y("selector").y+"px",left:Y("selector").x+"px",border:"1px solid "+N.selector.borderColor,position:"absolute",cursor:"move","user-select":"none","z-index":"1"}).mouseover(function(){a(this).css({border:"1px solid "+N.selector.borderColorHover})}).mouseout(function(){a(this).css({border:"1px solid "+N.selector.borderColor})});S(c),F.append(c)}function S(c){var h=null,g=!1;h=c.find("#infoSelector").length>0?c.find("#infoSelector"):a("<div />").attr2("id","infoSelector").css({position:"absolute",top:0,left:0,"font-size":N.selector.infoFontSize+"px","font-family":"Arial",color:N.selector.infoFontColor,width:"100%"}),N.selector.showDimetionsOnDrag&&(h.html("X:"+Y("selector").x+"px - Y:"+Y("selector").y+"px"),g=!0),N.selector.showPositionsOnDrag&&h.html(g?h.html()+" | W:"+Y("selector").w+"px - H:"+Y("selector").h+"px":""),c.append(h)}function z(){function c(a){a.offsetX=void 0!=a.offsetX?a.offsetX:a.originalEvent.layerX,a.offsetY=void 0!=a.offsetY?a.offsetY:a.originalEvent.layerY}function h(a){c(a);var h=a.offsetX-y,b=a.offsetY-A,S=g+b,z=v+h,_=(N.width-Y("selector").w)/2,k=(N.height-Y("selector").h)/2;S=k>S?S:k,z=_>z?z:_;var X=Y("image").w+_-N.width;z=-X+2>z?-X+2:z;var C=Y("image").h+k-N.height;S=-C+2>S?-C+2:S,Y("image").posY=S,Y("image").posX=z,w()}var g,v,b=a("<div />").attr2("id","fakelayer").css({position:"absolute","z-index":1e3,visibility:"invisible",width:"360px",height:"360px",top:"74px",left:"30px",cursor:"move",background:"transparent",zoom:"1"}),y=0,A=0;b.bind("mousedown",function(a){c(a),y=a.offsetX,A=a.offsetY,v=Y("image").posX,g=Y("image").posY,b.bind("mousemove",h)}),b.bind("mouseup mouseleave",function(){b.unbind("mousemove",h)}),F.parent().append(b)}function _(){var c=["t","b","l","r"];a.each(c,function(){var c=a("<div />").attr2("id",this).css({overflow:"hidden",background:N.overlayColor,opacity:.6,position:"absolute","z-index":2,visibility:"visible"});F.append(c)});var h=(N.height-Y("selector").h)/2,g=(N.width-Y("selector").w)/2;F.find("#t").css({display:"block",width:"100%",height:h,left:0,top:0}),F.find("#b").css({display:"block",width:"100%",height:h,left:0,top:N.height/2+Y("selector").h/2+2}),F.find("#l").css({display:"block",width:g,height:Y("selector").h+2,left:0,top:h}),F.find("#r").css({display:"block",width:g-2,height:Y("selector").h+2,right:0,top:h})}function k(a,c){F.data(a,c)}function Y(a){return F.data(a)}function X(a){return 1==a.nodeType&&"http://www.w3.org/2000/svg"==a.namespaceURI}function C(c){var h=Y("image"),g=Y("selector"),w={viewPortW:F.width(),viewPortH:F.height(),imageX:h.posX,imageY:h.posY,imageRotate:h.rotation,imageW:h.w,imageH:h.h,imageSource:h.source,selectorX:g.x,selectorY:g.y,selectorW:g.w,selectorH:g.h};return a.extend(w,c)}var F=null,N=null,R=function(){return a.browser.msie&&a.browser.version>=9||!a.browser.msie};a.fn.cropzoom=function(y){return N=a.extend(!0,a.fn.cropzoom.defaults,y),this.each(function(){if(!a.isFunction(a.fn.draggable)||!a.isFunction(a.fn.resizable)||!a.isFunction(a.fn.slider))return void alert("You must include ui.draggable, ui.resizable and ui.slider to use cropZoom");if(""==N.image.source||0==N.image.width||0==N.image.height)return void alert("You must set the source, witdth and height of the image element");a("#img_to_crop").remove(),F=a(this),F.empty(),F.css({width:N.width,height:N.height,position:"relative"}),k("image",{h:N.image.height,w:N.image.width,posY:0,posX:0,scaleX:0,scaleY:0,rotation:0,source:N.image.source}),k("selector",{x:N.selector.x,y:N.selector.y,w:null!=N.selector.maxWidth&&N.selector.w>N.selector.maxWidth?N.selector.maxWidth:N.selector.w,h:null!=N.selector.maxHeight&&N.selector.h>N.selector.maxHeight?N.selector.maxHeight:N.selector.h}),h(),g(),Y("image").posX=N.width/2-Y("image").w/2+1,Y("image").posY=N.height/2-Y("image").h/2+1;var y=null,S=null;if(R())y=F[0].ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),y.setAttribute("id","k"),y.setAttribute("width",N.width),y.setAttribute("height",N.height),y.setAttribute("preserveAspectRatio","none"),S=F[0].ownerDocument.createElementNS("http://www.w3.org/2000/svg","image"),S.setAttributeNS("http://www.w3.org/1999/xlink","href",N.image.source),S.setAttribute("width",Y("image").w),S.setAttribute("height",Y("image").h),S.setAttribute("id","img_to_crop"),S.setAttribute("preserveAspectRatio","none"),a(S).attr2("x",0),a(S).attr2("y",0),a(S).css("cursor","move"),y.appendChild(S),a.browser.msie&&a.browser.version>=10&&window.setTimeout(function(){S.setAttributeNS("http://www.w3.org/1999/xlink","href",""),S.setAttributeNS("http://www.w3.org/1999/xlink","href",N.image.source)},0);else{F[0].ownerDocument.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");var X=document.createStyleSheet();X.addRule("v\\:image","behavior: url(#default#VML);display:inline-block"),X.addRule("v\\:image","antiAlias: false;"),y=a("<div />").attr2("id","k").css({width:N.width,height:N.height,position:"absolute"}),S=document.createElement("v:image"),S.setAttribute("id","img_to_crop"),S.setAttribute("src",N.image.source),S.setAttribute("gamma","0"),a(S).css({position:"absolute",left:0,top:0,width:Y("image").w,height:Y("image").h,cursor:"move"}),S.setAttribute("coordsize","21600,21600"),S.outerHTML=S.outerHTML;var C=c();("png"==C||"gif"==C)&&(S.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+N.image.source+"',sizingMethod='scale');"),y.append(S)}return F.append(y),w(),A(),F.find(".ui-icon-gripsmall-diagonal-se").css({width:8,height:8}),_(),z(),N.enableZoom&&b(),N.enableRotation&&v(),this})};var Z=a.fn.addClass;a.fn.addClass=function(c){return c=c||"",this.each(function(){if(X(this)){var h=this;a.each(c.split(/\s+/),function(i,c){var g=h.className?h.className.baseVal:h.getAttribute("class");-1==a.inArray(c,g.split(/\s+/))&&(g+=(g?" ":"")+c,h.className?h.className.baseVal=g:h.setAttribute("class",g))})}else Z.apply(a(this),[c])})};var D=a.fn.removeClass;a.fn.removeClass=function(c){return c=c||"",this.each(function(){if(X(this)){var h=this;a.each(c.split(/\s+/),function(i,c){var g=h.className?h.className.baseVal:h.getAttribute("class");g=a.grep(g.split(/\s+/),function(n){return n!=c}).join(" "),h.className?h.className.baseVal=g:h.setAttribute("class",g)})}else D.apply(a(this),[c])})};var H=a.fn.toggleClass;a.fn.toggleClass=function(c,h){return this.each(function(){X(this)?("boolean"!=typeof h&&(h=!a(this).hasClass(c)),a(this)[(h?"add":"remove")+"Class"](c)):H.apply(a(this),[c,h])})};var M=a.fn.hasClass;a.fn.hasClass=function(c){c=c||"";var h=!1;return this.each(function(){if(X(this)){var g=(this.className?this.className.baseVal:this.getAttribute("class")).split(/\s+/);h=a.inArray(c,g)>-1}else h=M.apply(a(this),[c]);return!h}),h};var T=a.fn.attr;a.fn.attr2=function(c,h,g){if("string"==typeof c&&void 0===h){var w=T.apply(this,[c,h,g]);return w&&w.baseVal?w.baseVal.valueAsString:w}var v=c;return"string"==typeof c&&(v={},v[c]=h),this.each(function(){if(X(this))for(var n in v)this.setAttribute(n,"function"==typeof v[n]?v[n]():v[n]);else T.apply(a(this),[c,h,g])})};var V=a.fn.removeAttr;a.fn.removeAttr=function(c){return this.each(function(){X(this)?this[c]&&this[c].baseVal?this[c].baseVal.value="":this.setAttribute(c,""):V.apply(a(this),[c])})},a.fn.cropzoom.defaults={width:500,height:375,bgColor:"#000",overlayColor:"#fff",selector:{x:0,y:0,w:229,h:100,aspectRatio:!1,centered:!1,borderColor:"yellow",borderColorHover:"red",bgInfoLayer:"#FFF",infoFontSize:10,infoFontColor:"blue",showPositionsOnDrag:!0,showDimetionsOnDrag:!0,maxHeight:null,maxWidth:null},image:{source:"",rotation:0,width:0,height:0,minZoom:10,maxZoom:150},enableRotation:!0,enableZoom:!0,zoomSteps:1,rotationSteps:5,onSelectorDrag:null,onSelectorDragStop:null,onSelectorResize:null,onSelectorResizeStop:null,onZoom:null,onRotate:null,onImageDrag:null},a.fn.extend({setSelector:function(x,c,h,g,w){void 0!=w&&1==w?a("#selector").animate({top:c,left:x,width:h,height:g},"slow"):a("#selector").css({top:c,left:x,width:h,height:g}),k("selector",{x:x,y:c,w:h,h:g})},restore:function(){F.empty(),k("image",{}),k("selector",{}),a("#img_to_crop").remove()},send:function(c,h,g,w){a.lgAjax({url:c,type:h,data:C(g),success:function(r){k("imageResult",r),null!=r.resubmitToken&&""!=r.resubmitToken&&(globals.token=r.resubmitToken),void 0!==w&&null!=w&&w(r)},error:function(r){null!=r.resubmitToken&&""!=r.resubmitToken&&(globals.token=r.resubmitToken)}})}})}(jQuery)});
/*!mycenter/modules/common/js/jquery-migrate-1.1.1.js*/
;define("mycenter/modules/common/js/jquery-migrate-1.1.1",["require","exports","module"],function(){!function(a,c,g){function h(g){y[g]||(y[g]=!0,a.migrateWarnings.push(g),c.console&&console.warn&&!a.migrateMute&&(console.warn("JQMIGRATE: "+g),a.migrateTrace&&console.trace&&console.trace()))}function v(c,g,v,y){if(Object.defineProperty)try{return void Object.defineProperty(c,g,{configurable:!0,enumerable:!0,get:function(){return h(y),v},set:function(a){h(y),v=a}})}catch(b){}a._definePropertyBroken=!0,c[g]=v}var y={};a.migrateWarnings=[],!a.migrateMute&&c.console&&console.log&&console.log("JQMIGRATE: Logging is active"),a.migrateTrace===g&&(a.migrateTrace=!0),a.migrateReset=function(){y={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&h("jQuery is not compatible with Quirks Mode");var b=a("<input/>",{size:1}).attr("size")&&a.attrFn,w=a.attr,j=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},Q=a.attrHooks.value&&a.attrHooks.value.set||function(){return g},k=/^(?:input|button)$/i,N=/^[238]$/,C=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,S=/^(?:checked|selected)$/i;v(a,"attrFn",b||{},"jQuery.attrFn is deprecated"),a.attr=function(c,v,y,j){var Q=v.toLowerCase(),T=c&&c.nodeType;return j&&(w.length<4&&h("jQuery.fn.attr( props, pass ) is deprecated"),c&&!N.test(T)&&(b?v in b:a.isFunction(a.fn[v])))?a(c)[v](y):("type"===v&&y!==g&&k.test(c.nodeName)&&c.parentNode&&h("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[Q]&&C.test(Q)&&(a.attrHooks[Q]={get:function(c,h){var v,y=a.prop(c,h);return y===!0||"boolean"!=typeof y&&(v=c.getAttributeNode(h))&&v.nodeValue!==!1?h.toLowerCase():g},set:function(c,g,h){var v;return g===!1?a.removeAttr(c,h):(v=a.propFix[h]||h,v in c&&(c[v]=!0),c.setAttribute(h,h.toLowerCase())),h}},S.test(Q)&&h("jQuery.fn.attr('"+Q+"') may use property instead of attribute")),w.call(a,c,v,y))},a.attrHooks.value={get:function(a,c){var g=(a.nodeName||"").toLowerCase();return"button"===g?j.apply(this,arguments):("input"!==g&&"option"!==g&&h("jQuery.fn.attr('value') no longer gets properties"),c in a?a.value:null)},set:function(a,c){var g=(a.nodeName||"").toLowerCase();return"button"===g?Q.apply(this,arguments):("input"!==g&&"option"!==g&&h("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=c))}};var T,H,M=a.fn.init,A=a.parseJSON,L=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;a.fn.init=function(c,g,v){var y;return c&&"string"==typeof c&&!a.isPlainObject(g)&&(y=L.exec(c))&&y[1]&&("<"!==c.charAt(0)&&h("$(html) HTML strings must start with '<' character"),g&&g.context&&(g=g.context),a.parseHTML)?M.call(this,a.parseHTML(a.trim(c),g,!0),g,v):M.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?A.apply(this,arguments):(h("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var c=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:c[1]||"",version:c[2]||"0"}},a.browser||(T=a.uaMatch(navigator.userAgent),H={},T.browser&&(H[T.browser]=!0,H.version=T.version),H.chrome?H.webkit=!0:H.webkit&&(H.safari=!0),a.browser=H),v(a,"browser",a.browser,"jQuery.browser is deprecated"),a.sub=function(){function c(a,g){return new c.fn.init(a,g)}a.extend(!0,c,this),c.superclass=this,c.fn=c.prototype=this(),c.fn.constructor=c,c.sub=this.sub,c.fn.init=function(h,v){return v&&v instanceof a&&!(v instanceof c)&&(v=c(v)),a.fn.init.call(this,h,v,g)},c.fn.init.prototype=c.fn;var g=c(document);return h("jQuery.sub() is deprecated"),c},a.ajaxSetup({converters:{"text json":a.parseJSON}});var O=a.fn.data;a.fn.data=function(c){var v,y,b=this[0];return!b||"events"!==c||1!==arguments.length||(v=a.data(b,c),y=a._data(b,c),v!==g&&v!==y||y===g)?O.apply(this,arguments):(h("Use of jQuery.fn.data('events') is deprecated"),y)};var E=/\/(java|ecma)script/i,F=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return h("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),F.apply(this,arguments)},a.clean||(a.clean=function(c,g,v,y){g=g||document,g=!g.nodeType&&g[0]||g,g=g.ownerDocument||g,h("jQuery.clean() is deprecated");var i,b,w,j,Q=[];if(a.merge(Q,a.buildFragment(c,g).childNodes),v)for(w=function(a){return!a.type||E.test(a.type)?y?y.push(a.parentNode?a.parentNode.removeChild(a):a):v.appendChild(a):void 0},i=0;null!=(b=Q[i]);i++)a.nodeName(b,"script")&&w(b)||(v.appendChild(b),"undefined"!=typeof b.getElementsByTagName&&(j=a.grep(a.merge([],b.getElementsByTagName("script")),w),Q.splice.apply(Q,[i+1,0].concat(j)),i+=j.length));return Q});var J=a.event.add,$=a.event.remove,B=a.event.trigger,_=a.fn.toggle,P=a.fn.live,R=a.fn.die,W="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",z=new RegExp("\\b(?:"+W+")\\b"),G=/(?:^|\s)hover(\.\S+|)\b/,I=function(c){return"string"!=typeof c||a.event.special.hover?c:(G.test(c)&&h("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),c&&c.replace(G,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&v(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,c,g,v,y){a!==document&&z.test(c)&&h("AJAX events should be attached to document: "+c),J.call(this,a,I(c||""),g,v,y)},a.event.remove=function(a,c,g,h,v){$.call(this,a,I(c)||"",g,h,v)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return h("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(c,g){if(!a.isFunction(c)||!a.isFunction(g))return _.apply(this,arguments);h("jQuery.fn.toggle(handler, handler...) is deprecated");var v=arguments,y=c.guid||a.guid++,i=0,b=function(g){var h=(a._data(this,"lastToggle"+c.guid)||0)%i;return a._data(this,"lastToggle"+c.guid,h+1),g.preventDefault(),v[h].apply(this,arguments)||!1};for(b.guid=y;i<v.length;)v[i++].guid=y;return this.click(b)},a.fn.live=function(c,g,v){return h("jQuery.fn.live() is deprecated"),P?P.apply(this,arguments):(a(this.context).on(c,this.selector,g,v),this)},a.fn.die=function(c,g){return h("jQuery.fn.die() is deprecated"),R?R.apply(this,arguments):(a(this.context).off(c,this.selector||"**",g),this)},a.event.trigger=function(a,c,g,v){return g||z.test(a)||h("Global events are undocumented and deprecated"),B.call(this,a,c,g||document,v)},a.each(W.split("|"),function(c,g){a.event.special[g]={setup:function(){var c=this;return c!==document&&(a.event.add(document,g+"."+a.guid,function(){a.event.trigger(g,null,c,!0)}),a._data(this,g,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,g+"."+a._data(this,g)),!1}}})}(jQuery,window)});
/*!mycenter/modules/common/js/jquery-ui-1.8.custom.min.js*/
;!function(e){"function"==typeof define&&define.amd?define("mycenter/modules/common/js/jquery-ui-1.8.custom.min",["jquery"],e):e(jQuery)}(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?void(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(h[t]=s)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return a=!o&&r.length?e.widget.extend.apply(null,[a].concat(r)):a,this.each(o?function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))}),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.document[0],s=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}return this.helper||s.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(s.iframeFix===!0?"iframe":s.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],void(s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(n.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,i,s){var n=this;e.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left,l=h+s.snapElements[c].width,u=s.snapElements[c].top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||_>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-_),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-_),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);
this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(t,s){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):e.each(n.alsoResize,function(e,t){h(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=u-t.height,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})});
/*!mycenter/modules/myresume_new/common/galpop/jquery.galpop.js*/
;define("mycenter/modules/myresume_new/common/galpop/jquery.galpop",["require","exports","module"],function(){!function(a){"use strict";var c,h,g,v,y,w,b,k,j,A,T="galpop",I={},C={arrowKeys:!0,controls:!0,loop:!0,maxWidth:null,maxHeight:null,maxScreen:90,updateRsz:!0,callback:null,lockScroll:!0,contentType:"image",AJAXContainer:""},z={init:function(c){return this.click(function(e){a(this)[T]("openBox",c),e.preventDefault()})},openBox:function(h,g,v){h=a.extend({},C,h),c.data({controls:h.controls,loop:h.loop,maxWidth:h.maxWidth,maxHeight:h.maxHeight,maxScreen:h.maxScreen,callback:h.callback,contentType:h.contentType});var y=g,w="",b=this,k=this.data("galpop-container")?this.data("galpop-container"):h.AJAXContainer;return v||(v=0),"[object Array]"===Object.prototype.toString.call(g)&&(b=g,y=b[v]),g||(y=this.attr("href"),w=this.data("galpop-group"),b=a('[data-galpop-group="'+w+'"]'),v=b.index(this)),h.arrowKeys&&a(document).on("keydown",j),h.updateRsz&&a(window).resize(A),h.lockScroll&&a("html").addClass("lock-scroll"),c.data({rel:w,group:b,index:v,status:!0,count:b.length,AJAXContainer:k}),c.fadeIn(500,"swing"),this[T]("preload",y),this},closeBox:function(){c.removeClass("complete").fadeOut(500,"swing",function(){y.empty(),w.hide().empty(),a(this).data("status",!1),b.hide(),k.hide(),h.removeAttr("style"),c.removeClass("loaded-ajax loaded-image loaded-iframe"),a(document).off("keydown",j),a(window).off("resize",A),a("html").removeClass("lock-scroll")})},preload:function(a){var h=c.data("contentType");switch(h){case"AJAX":c.addClass("loaded-ajax"),this[T]("loadAJAX",a);break;case"iframe":c.addClass("loaded-iframe"),this[T]("loadIframe",a);break;case"image":default:c.addClass("loaded-image"),this[T]("loadImage",a)}return this},loadImage:function(a){var h=new Image;return h.src=a,I.object=h,I.resizable=!0,h.onload=function(){c[T]("display")},h.onerror=function(){console.log(a+" contains a broken image!")},this},loadIframe:function(h){var g=a('<iframe src="'+h+'" />');return I.object=g,I.resizable=!1,c[T]("display"),this},loadAJAX:function(h){var g=c.data("AJAXContainer");return I.resizable=!1,a.lgAjax({url:h,type:"GET",dataType:"html",success:function(h){var v=a(h).filter(g),y=a(h).find(g);v.length?(I.object=v,c[T]("display")):y.length?(I.object=y,c[T]("display")):console.log("Element "+g+" not found in DOM.")},error:function(a,c){console.log(0===a.status?"Not connect.\n Verify Network.":404==a.status?"Requested page not found. [404]":500==a.status?"Internal Server Error [500].":"parsererror"===c?"Requested JSON parse failed.":"timeout"===c?"Time out error.":"abort"===c?"Ajax request aborted.":"Uncaught Error.\n"+a.responseText)}}),this},resize:function(){var h=I.resizable,g=I.object.naturalHeight,v=I.object.naturalWidth,w=c.data("maxWidth"),b=c.data("maxHeight"),k=c.data("maxScreen"),j=a(window).height(),A=a(window).width(),T=0;return(!w||w>A*k/100)&&(w=A*k/100),(!b||b>j*k/100)&&(b=j*k/100),h&&(v>w&&(T=w/v,g*=T,v*=T),"auto"!=b&&g>b&&(T=b/g,v*=T,g*=T)),y.css({height:g,width:v}),this},display:function(){this[T]("resize"),setTimeout(function(){c.addClass("complete"),y.append(I.object).fadeIn(500,"swing",function(){c[T]("complete")})},500)},complete:function(){var h=c.data("controls"),g=c.data("callback"),v=c.data("index"),y=c.data("count"),w=c.data("loop");c[T]("infoParse"),!h||0===v&&!w||1>=y?b.hide():b.show(),!h||v+1>=y&&!w||1>=y?k.hide():k.show(),a.isFunction(g)&&g.call(this)},moveItem:function(h){var g=c.data("group"),v=!1,b="";return c.removeClass("complete"),w.fadeOut(500,"swing",function(){a(this).contents().remove()}),y.fadeOut(500,"swing",function(){a(this).empty(),"[object Array]"===Object.prototype.toString.call(g)?b=g[h]:(v=g.eq(h),v.attr("href")?b=v.attr("href"):v.attr("src")&&(b=v.attr("href"))),a.fn[T]("preload",b),c.data("index",h)}),this},next:function(){var a=c.data("index"),h=c.data("loop"),g=c.data("count");return g>a+1?(a++,c[T]("moveItem",a)):h&&(a=0,c[T]("moveItem",a)),this},prev:function(){var a=c.data("index"),h=c.data("loop"),g=c.data("count");return a>0?(a--,c[T]("moveItem",a)):h&&(a=g-1,c[T]("moveItem",a)),this},infoParse:function(){var h=c.data("group");if(h instanceof jQuery){var g=c.data("index"),v=h.eq(g),y=a.trim(v.attr("title")),b=a.trim(v.data("galpop-link")),k=a.trim(v.data("galpop-link-title")),j=a.trim(v.data("galpop-link-target"));w.html(""),y&&a("<p>"+y+"</p>").appendTo(w),b&&(k||(k=b),j&&(j='target="'+j+'"'),a('<p><a href="'+b+'" '+j+">"+k+"</a></p>").appendTo(w)),(y||b)&&w.fadeIn(500,"swing")}},update:function(){var a=c.data("index");return c[T]("moveItem",a),this},destroy:function(){return this.off("click")}};a.fn[T]=function(c){return z[c]?z[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery."+T):z.init.apply(this,arguments)},a[T]={},a[T].extend=function(a,c){z[a]=c},a(document).ready(function(){c=a('<div id="galpop-wrapper" />').appendTo("body"),h=a('<div id="galpop-container" />').appendTo(c),b=a('<a href="#" id="galpop-prev" />').appendTo(h),k=a('<a href="#" id="galpop-next" />').appendTo(h),g=a('<div id="galpop-ajax" />').appendTo(h),v=a('<div id="galpop-modal" />').appendTo(h),y=a('<div id="galpop-content" />').appendTo(v),w=a('<div id="galpop-info" />').appendTo(v),c.click(function(e){a(this)[T]("closeBox"),e.preventDefault()}),h.click(function(e){e.stopPropagation()}),b.hide().click(function(e){c[T]("prev"),e.preventDefault()}),k.hide().click(function(e){c[T]("next"),e.preventDefault()}),w.on("click","a",function(){c[T]("closeBox")}),j=function(e){var a=e.which,h=!1;switch(a){case 27:c[T]("closeBox"),h=!0;break;case 37:c[T]("prev"),h=!0;break;case 39:c[T]("next"),h=!0}h&&e.preventDefault()},A=function(){c[T]("resize")}})}(jQuery)});
/*!dep/jquery-qrcode/jquery.qrcode.min.js*/
;define("dep/jquery-qrcode/jquery.qrcode.min",["require","exports","module"],function(){!function(r){r.fn.qrcode=function(a){function u(a){this.mode=s,this.data=a}function o(a,h){this.typeNumber=a,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function q(a,h){if(void 0==a.length)throw Error(a.length+"/"+h);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+h);for(var g=0;g<a.length-d;g++)this.num[g]=a[g+d]}function p(a,h){this.totalCount=a,this.dataCount=h}function t(){this.buffer=[],this.length=0}var s;u.prototype={getLength:function(){return this.data.length},write:function(a){for(var h=0;h<this.data.length;h++)a.put(this.data.charCodeAt(h),8)}},o.prototype={addData:function(a){this.dataList.push(new u(a)),this.dataCache=null},isDark:function(a,h){if(0>a||this.moduleCount<=a||0>h||this.moduleCount<=h)throw Error(a+","+h);return this.modules[a][h]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var g=p.getRSBlocks(a,this.errorCorrectLevel),d=new t,c=0,e=0;e<g.length;e++)c+=g[e].dataCount;for(e=0;e<this.dataList.length;e++)g=this.dataList[e],d.put(g.mode,4),d.put(g.getLength(),h.getLengthInBits(g.mode,a)),g.write(d);if(d.getLengthInBits()<=8*c)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,h){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[d][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,h),7<=this.typeNumber&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},setupPositionProbePattern:function(a,h){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var g=-1;7>=g;g++)-1>=h+g||this.moduleCount<=h+g||(this.modules[a+d][h+g]=d>=0&&6>=d&&(0==g||6==g)||g>=0&&6>=g&&(0==d||6==d)||d>=2&&4>=d&&g>=2&&4>=g?!0:!1)},getBestMaskPattern:function(){for(var a=0,g=0,d=0;8>d;d++){this.makeImpl(!0,d);var c=h.getLostPoint(this);(0==d||a>c)&&(a=c,g=d)}return g},createMovieClip:function(a,h,d){for(a=a.createEmptyMovieClip(h,d),this.make(),h=0;h<this.modules.length;h++)for(var d=1*h,g=0;g<this.modules[h].length;g++){var e=1*g;this.modules[h][g]&&(a.beginFill(0,100),a.moveTo(e,d),a.lineTo(e+1,d),a.lineTo(e+1,d+1),a.lineTo(e,d+1),a.endFill())}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=h.getPatternPosition(this.typeNumber),g=0;g<a.length;g++)for(var d=0;d<a.length;d++){var c=a[g],e=a[d];if(null==this.modules[c][e])for(var f=-2;2>=f;f++)for(var i=-2;2>=i;i++)this.modules[c+f][e+i]=-2==f||2==f||-2==i||2==i||0==f&&0==i?!0:!1}},setupTypeNumber:function(a){for(var g=h.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var c=!a&&1==(g>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=c}for(d=0;18>d;d++)c=!a&&1==(g>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=c},setupTypeInfo:function(a,g){for(var d=h.getBCHTypeInfo(this.errorCorrectLevel<<3|g),c=0;15>c;c++){var e=!a&&1==(d>>c&1);6>c?this.modules[c][8]=e:8>c?this.modules[c+1][8]=e:this.modules[this.moduleCount-15+c][8]=e}for(c=0;15>c;c++)e=!a&&1==(d>>c&1),8>c?this.modules[8][this.moduleCount-c-1]=e:9>c?this.modules[8][15-c-1+1]=e:this.modules[8][15-c-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,g){for(var d=-1,c=this.moduleCount-1,e=7,f=0,i=this.moduleCount-1;i>0;i-=2)for(6==i&&i--;;){for(var C=0;2>C;C++)if(null==this.modules[c][i-C]){var n=!1;f<a.length&&(n=1==(a[f]>>>e&1)),h.getMask(g,c,i-C)&&(n=!n),this.modules[c][i-C]=n,e--,-1==e&&(f++,e=7)}if(c+=d,0>c||this.moduleCount<=c){c-=d,d=-d;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(a,g,d){for(var g=p.getRSBlocks(a,g),c=new t,e=0;e<d.length;e++){var f=d[e];c.put(f.mode,4),c.put(f.getLength(),h.getLengthInBits(f.mode,a)),f.write(c)}for(e=a=0;e<g.length;e++)a+=g[e].dataCount;if(c.getLengthInBits()>8*a)throw Error("code length overflow. ("+c.getLengthInBits()+">"+8*a+")");for(c.getLengthInBits()+4<=8*a&&c.put(0,4);0!=c.getLengthInBits()%8;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*a)&&(c.put(o.PAD0,8),!(c.getLengthInBits()>=8*a));)c.put(o.PAD1,8);return o.createBytes(c,g)},o.createBytes=function(a,g){for(var d=0,c=0,e=0,f=Array(g.length),i=Array(g.length),C=0;C<g.length;C++){var n=g[C].dataCount,v=g[C].totalCount-n,c=Math.max(c,n),e=Math.max(e,v);f[C]=Array(n);for(var L=0;L<f[C].length;L++)f[C][L]=255&a.buffer[L+d];for(d+=n,L=h.getErrorCorrectPolynomial(v),n=new q(f[C],L.getLength()-1).mod(L),i[C]=Array(L.getLength()-1),L=0;L<i[C].length;L++)v=L+n.getLength()-i[C].length,i[C][L]=v>=0?n.get(v):0}for(L=C=0;L<g.length;L++)C+=g[L].totalCount;for(d=Array(C),L=n=0;c>L;L++)for(C=0;C<g.length;C++)L<f[C].length&&(d[n++]=f[C][L]);for(L=0;e>L;L++)for(C=0;C<g.length;C++)L<i[C].length&&(d[n++]=i[C][L]);return d},s=4;for(var h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var g=a<<10;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G15);)g^=h.G15<<h.getBCHDigit(g)-h.getBCHDigit(h.G15);return(a<<10|g)^h.G15_MASK},getBCHTypeNumber:function(a){for(var g=a<<12;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G18);)g^=h.G18<<h.getBCHDigit(g)-h.getBCHDigit(h.G18);return a<<12|g},getBCHDigit:function(a){for(var h=0;0!=a;)h++,a>>>=1;return h},getPatternPosition:function(a){return h.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,h,d){switch(a){case 0:return 0==(h+d)%2;case 1:return 0==h%2;case 2:return 0==d%3;case 3:return 0==(h+d)%3;case 4:return 0==(Math.floor(h/2)+Math.floor(d/3))%2;case 5:return 0==h*d%2+h*d%3;case 6:return 0==(h*d%2+h*d%3)%2;case 7:return 0==(h*d%3+(h+d)%2)%2;default:throw Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var h=new q([1],0),d=0;a>d;d++)h=h.multiply(new q([1,l.gexp(d)],0));return h},getLengthInBits:function(a,h){if(h>=1&&10>h)switch(a){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error("mode:"+a)}else if(27>h)switch(a){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+a)}else{if(!(41>h))throw Error("type:"+h);switch(a){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+a)}}},getLostPoint:function(a){for(var h=a.getModuleCount(),d=0,g=0;h>g;g++)for(var e=0;h>e;e++){for(var f=0,i=a.isDark(g,e),c=-1;1>=c;c++)if(!(0>g+c||g+c>=h))for(var C=-1;1>=C;C++)0>e+C||e+C>=h||0==c&&0==C||i==a.isDark(g+c,e+C)&&f++;f>5&&(d+=3+f-5)}for(g=0;h-1>g;g++)for(e=0;h-1>e;e++)f=0,a.isDark(g,e)&&f++,a.isDark(g+1,e)&&f++,a.isDark(g,e+1)&&f++,a.isDark(g+1,e+1)&&f++,(0==f||4==f)&&(d+=3);for(g=0;h>g;g++)for(e=0;h-6>e;e++)a.isDark(g,e)&&!a.isDark(g,e+1)&&a.isDark(g,e+2)&&a.isDark(g,e+3)&&a.isDark(g,e+4)&&!a.isDark(g,e+5)&&a.isDark(g,e+6)&&(d+=40);for(e=0;h>e;e++)for(g=0;h-6>g;g++)a.isDark(g,e)&&!a.isDark(g+1,e)&&a.isDark(g+2,e)&&a.isDark(g+3,e)&&a.isDark(g+4,e)&&!a.isDark(g+5,e)&&a.isDark(g+6,e)&&(d+=40);for(e=f=0;h>e;e++)for(g=0;h>g;g++)a.isDark(g,e)&&f++;return a=Math.abs(100*f/h/h-50)/5,d+10*a}},l={glog:function(a){if(1>a)throw Error("glog("+a+")");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},m=0;8>m;m++)l.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)l.EXP_TABLE[m]=l.EXP_TABLE[m-4]^l.EXP_TABLE[m-5]^l.EXP_TABLE[m-6]^l.EXP_TABLE[m-8];for(m=0;255>m;m++)l.LOG_TABLE[l.EXP_TABLE[m]]=m;return q.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var h=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var g=0;g<a.getLength();g++)h[d+g]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(g)));return new q(h,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var h=l.glog(this.get(0))-l.glog(a.get(0)),d=Array(this.getLength()),g=0;g<this.getLength();g++)d[g]=this.get(g);for(g=0;g<a.getLength();g++)d[g]^=l.gexp(l.glog(a.get(g))+h);return new q(d,0).mod(a)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(a,h){var d=p.getRsBlockTable(a,h);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+h);for(var g=d.length/3,e=[],f=0;g>f;f++)for(var c=d[3*f+0],C=d[3*f+1],v=d[3*f+2],l=0;c>l;l++)e.push(new p(C,v));return e},p.getRsBlockTable=function(a,h){switch(h){case 1:return p.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return p.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(a-1)+3]}},t.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,h){for(var d=0;h>d;d++)this.putBit(1==(a>>>h-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),a&&(this.buffer[h]|=128>>>this.length%8),this.length++}},"string"==typeof a&&(a={text:a}),a=r.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},a),this.each(function(){var h;if("canvas"==a.render){h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make();var g=document.createElement("canvas");g.width=a.width,g.height=a.height;for(var d=g.getContext("2d"),c=a.width/h.getModuleCount(),e=a.height/h.getModuleCount(),f=0;f<h.getModuleCount();f++)for(var i=0;i<h.getModuleCount();i++){d.fillStyle=h.isDark(f,i)?a.foreground:a.background;var C=Math.ceil((i+1)*c)-Math.floor(i*c),v=Math.ceil((f+1)*c)-Math.floor(f*c);d.fillRect(Math.round(i*c),Math.round(f*e),C,v)}}else for(h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make(),g=r("<table></table>").css("width",a.width+"px").css("height",a.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",a.background),d=a.width/h.getModuleCount(),c=a.height/h.getModuleCount(),e=0;e<h.getModuleCount();e++)for(f=r("<tr></tr>").css("height",c+"px").appendTo(g),i=0;i<h.getModuleCount();i++)r("<td></td>").css("width",d+"px").css("background-color",h.isDark(e,i)?a.foreground:a.background).appendTo(f);h=g,jQuery(h).appendTo(this)})}}(jQuery)});
/*!mycenter/modules/myresume_new/modules/body-ad/main.js*/
;define("mycenter/modules/myresume_new/modules/body-ad/main",["require","exports","module","dep/jquery-qrcode/jquery.qrcode.min"],function(require){function a(){if(_.removeClass("showData"),g.push(v?v:w),window.localStorage){var a=g.join(",");localStorage.setItem("clickCloseUser",a)}window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nje"}),window.sa.track("_1niy",{address_id:"_1nje"})}function c(){var a=v;v||(a=w);for(var c=0;c<g.length;c++)if(a===g[c])return!0;return!1}require("dep/jquery-qrcode/jquery.qrcode.min"),window.PAGE_ID="1niy";var w="public",_=$(".body-container"),h=$(".body-btn"),j=$(".job-objective__name span").attr("title"),y="";j&&(y=j);var g=[],v=window.CONST_VARS("user").id;window.localStorage&&(g=localStorage.getItem("clickCloseUser"),g=g?g.split(","):[]),h.bind("click",a);var C={getQRCode:function(){$.lgAjax({headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},needNoToken:!0,url:"https://gate.lagou.com/v1/neirong/c_flow_guide/qrcode",type:"GET",dataType:"json",data:{qrcodeType:"C_FLOW_FROM_RESUME",positionName:encodeURIComponent(y)}}).done(function(a){if(1===a.state){window.LGWebTj&&window.LGWebTj({_lt:"pcshow",_address_id:"1nj4"}),window.sa.track("_1niy",{address_id:"_1nj4"});var c=a.content&&a.content.url;$("#envelope-QRcode").qrcode({width:137,height:137,text:c}),_.addClass("showData")}else _.hasClass("showData")&&_.removeClass("showData")}).fail(function(){_.hasClass("showData")&&_.removeClass("showData")})}};c()||C.getQRCode()});
/*!mycenter/modules/myresume_new/common/utils.js*/
;define("mycenter/modules/myresume_new/common/utils",["require","exports","module"],function(require,exports,module){function a(a,c){c&&""!=c?"":c=10;var h=a.find(".error:eq(0)").offset().top,_=a.find(".error:eq(0)").parents(".input-area-long").height(),F=a.offset().top,v=a.scrollTop(),g=Math.abs(F+_-h-21),C=Math.abs(v-g);C=Math.abs(2*_-c>v?v+g:v-g),a.animate({scrollTop:C},400)}function c(a){a.animate({scrollTop:0},400)}function h(a){var c=$(window).height()-231;a.css({"max-height":c})}function _(a,c,h,_){a=$(a);var F=a.attr("id"),v=a.attr("title"),g="text",C={};this.AllowExt=".jpg,.gif,.jpeg,.png,.pjpeg",this.FileExt=a.val().substr(a.val().lastIndexOf(".")).toLowerCase(),0!=this.AllowExt&&-1==this.AllowExt.indexOf(this.FileExt)?(_({msg:v}),a.val("")):$.ajaxFileUpload({url:c,secureuri:!1,fileElementId:F,data:C,dataType:g,success:function(a){$("#"+F).val(""),"text"==g&&(a=$.parseJSON(a)),a.success?h&&h(a):_&&_(a)},error:function(a){_&&_(a)}})}var F=function(a){for(var i,c,h=0,_=a.replace(/&nbsp;/gi,","),i=0;i<_.length;i++)c=_.charCodeAt(i),h+=v(c)?1:2;return h},v=function(a){return a>=32&&127>=a?!0:a>=65377&&65439>=a?!0:!1},g=function(a){var c=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return"http://"!=a.substring(0,7)&&"https://"!=a.substring(0,8)&&(a="http://"+a),c.test(a)},C=function(a){var c=/(^http[s]{0,1}:\/\/)/i;return c.test(a)||""==a||(a="http://"+a),a},D=function(a){if("string"!=typeof a)return a;a=a.replace("[","").replace("]","");var c=[],h=a.split(",");return $.each(h,function(a,h){c.push(parseInt(h))}),c},E=function(a){var c=$.trim(this.txt.text()),h=Math.ceil(F(c)/2);$("#"+a+" .edit-wang_tips span").html(h),h>1500?$("#"+a+"  .edit-wang_tips").addClass("orange"):$("#"+a+" .edit-wang_tips").removeClass("orange")},A=function(){function a(a){this.tagChosenArr=a.tagChosenArr,this.tagAllArr=a.tagAllArr,this.$popElm=a.$popElm,this.maxChosenNum=a.maxChosenNum,this.hasInput=a.hasInput,this.maxInputLength=a.maxInputLength,this.onSave=a.onSave,this.saveFunction=a.saveFunction,this.choosenNum=0,this.CLASSES={choosen:"tag_choosen"},c.call(this)}function c(){var a=this,c=a.$popElm,_=a.maxChosenNum,F=a.hasInput,v=a.maxInputLength,g=c.find(".add-tag__input"),C=g.find("input"),D=a.onSave,E=a.saveFunction;if(c.on("click",".tags__area .tag",function(){if(1==_)c.find(".tags__area .tag").removeClass("tag_choosen"),$(this).addClass("tag_choosen");else if($(this).hasClass("tag_choosen")){a.choosenNum--,$(this).removeClass("tag_choosen");var F=h.call(a)}else{a.choosenNum++;var F=h.call(a);F?$(this).addClass("tag_choosen"):a.choosenNum--}}),F){{new components.MaxInput({container:g,lengthValidate:{maxLength:v,isCharacter:!1}})}c.on("click",".add-tag__btn",function(){var _=$.trim(C.val());if(0==_.length)return void(0==c.find(".tags__area .error").length?c.find(".tags__area").append('<p class="error">内容不可以为空</p>'):c.find(".tags__area .error").html('<p class="error">内容不可以为空</p>'));a.choosenNum++;var F=h.call(a,_);if(F){var v=!1;c.find(".tags__area .tag").each(function(){if($(this).text().toUpperCase()==_.toUpperCase()){if($(this).hasClass("tag_choosen")){a.choosenNum--;{h.call(a)}}else $(this).addClass("tag_choosen");return v=!0,!1}}),v||c.find(".tags__area").prepend('<div class="tag tag_choosen">'+_+"</div>"),C.val(""),C.siblings(".max-input__tips").removeClass("max-input__tips_beyond").find("span:eq(0)").html("0")}else a.choosenNum--})}c.on("click",".close",function(){$("#isLeaveModal").data("closeModal",c.attr("id")),$("#isLeaveModal").modal("show")}),c.on("click","."+D,function(){var a=[];c.find(".tags__area .tag.tag_choosen").each(function(){a.push($(this).html())}),0==a.length?0==c.find(".tag-content .error").length?c.find(".tag-content").append('<p class="error">选项不能为空</p>'):c.find(".tag-content .error").html('<p class="error">选项不能为空</p>'):E(a)})}function h(){return this.choosenNum>this.maxChosenNum?(0==this.$popElm.find(".tag-content .error").length?this.$popElm.find(".tag-content").append('<p class="error">您已添加'+this.maxChosenNum+"个标签，取消后再进行更新"+(this.hasInput?"或者自定义添加。</p>":"。</p>")):this.$popElm.find(".tag-content .error").html('<p class="error">您已添加'+this.maxChosenNum+"个标签，取消后再进行更新"+(this.hasInput?"或者自定义添加。</p>":"。</p>")),!1):(this.$popElm.find(".tag-content .error").remove(),!0)}return a.prototype.tagModalChange=function(a,c){void 0==c?c=[]:c;var _=this.$popElm,F=_.find(".add-tag__input"),v=F.find("input");if(this.tagAllArr=c,this.tagChosenArr=a,this.choosenNum=a.length,c instanceof Array==1){var g="";if(0!=c.length){for(var C=c.filter(function(c){return-1==a.indexOf(c)}),$=0;$<a.length;$++)g+='<div class="tag tag_choosen">'+a[$]+"</div>";for(var $=0;$<C.length;$++)g+='<div class="tag">'+C[$]+"</div>"}else for(var $=0;$<a.length;$++)g+='<div class="tag tag_choosen">'+a[$]+"</div>";_.find(".tags__area").html(g)}this.hasInput&&(v.val(""),v.siblings(".max-input__tips").removeClass("max-input__tips_beyond").find("span:eq(0)").html("0")),h.call(this),_.modal("show")},a}(),S=function(){var a=function(a){var h={};this._set=function(a,c){var _=this;return h[a]=c,_},this._get=function(a){return h[a]},c.call(this,a)},c=function(a){if(!a)throw"Need options.container!";var c=this;c._set("$container",a.container),c._set("positionContain",a.positionContain),c._set("errValue",a.errValue),c._set("initScrollTop",null)};return a.prototype.show=function(){var a=this,c=a._get("$container"),h=a._get("positionContain"),_=a._get("errValue"),F=c.parents("form").height(),v=c.parents("form").scrollTop(),g=c.parents("form").offset().top,C=c.offset().top+c.find(h).height(),$=C-g;$>F&&(a._set("initScrollTop",v),c.parents("form").animate({scrollTop:$-F+v+_}))},a.prototype.hide=function(){var a=this,c=a._get("$container"),h=a._get("initScrollTop");null!==h&&(c.parents("form").animate({scrollTop:a._get("initScrollTop")}),a._set("initScrollTop",null))},a}(),I=function(){var a={active:"three-select_active"},c=function(a){var c={};this._set=function(a,h){c[a]=h},this._get=function(a){return c[a]},h.call(this,a)},h=function(a){if(!a)throw"Need options.container!";var c=this;c._set("modalContainer",a.modalContainer),c._set("btnContainer",a.btnContainer),c._set("$firstInput",a.btnContainer.find(".three-select__first-value")),c._set("$secondInput",a.btnContainer.find(".three-select__second-value")),c._set("$thirdInput",a.btnContainer.find(".three-select__third-value")),c._set("onChange",a.onChange),_.call(c)},_=function(){function c(c,h,F){_.find(".first-select_list_area .first-select_li").removeClass(a.active),_.find(".second-select_list_area .second-select_li").removeClass(a.active),_.find(".third-select_list_area .third-select_list").addClass("dn"),_.find(".third-select_list_area .third-select_li").removeClass(a.active),(""===c||"undefined"==typeof c)&&(c=$.trim(_.find(".first-select_list_area .first-select_li:eq(0) span").attr("title"))),_.find(".first-select_list_area .first-select_li").each(function(){$(this).removeClass(a.active),$.trim($(this).find("span").attr("title"))==c&&$(this).addClass(a.active)}),_.find(".second-select_list_area .second-select_list").each(function(){$(this).addClass("dn"),$.trim($(this).data("parent"))==c&&$(this).removeClass("dn")}),""!==h&&"undefined"!=typeof h&&(_.find(".second-select_list_area .second-select_list .second-select_li").each(function(){$(this).removeClass(a.active),$.trim($(this).find("span").attr("title"))==h&&$(this).addClass(a.active)}),_.find(".third-select_list_area .third-select_list").each(function(){$(this).addClass("dn"),$.trim($(this).data("parent"))==h&&$(this).removeClass("dn")}),""!==F&&"undefined"!=typeof F&&_.find(".third-select_list_area .third-select_list .third-select_li").each(function(){$(this).removeClass(a.active),$.trim($(this).find("span").attr("title"))==F&&$(this).addClass(a.active)}))}var h=this,_=h._get("modalContainer"),F=h._get("btnContainer"),v=h._get("$firstInput"),g=h._get("$secondInput"),C=h._get("$thirdInput"),D=h._get("onChange");F.on("click",function(){firstVal=$.trim(v.val()),secondVal=$.trim(g.val()),thirdVal=$.trim(C.val()),c(firstVal,secondVal,thirdVal),_.modal("show")}),_.on("click",".first-select_list_area .first-select_li",function(){_.find(".first-select_list_area .first-select_li").removeClass(a.active),_.find(".second-select_list_area .second-select_li").removeClass(a.active),_.find(".third-select_list_area .third-select_list").addClass("dn"),_.find(".third-select_list_area .third-select_li").removeClass(a.active);var c=$(this);c.addClass(a.active),_.find(".second-select_list_area .second-select_list").each(function(){$(this).addClass("dn"),$.trim($(this).data("parent"))==$.trim(c.find("span").attr("title"))&&$(this).removeClass("dn")})}),_.on("click",".second-select_list_area .second-select_li",function(){_.find(".second-select_list_area .second-select_li").removeClass(a.active);var c=$(this);c.addClass(a.active),_.find(".third-select_list_area .third-select_list").each(function(){$(this).addClass("dn"),$.trim($(this).data("parent"))==$.trim(c.find("span").attr("title"))&&$(this).removeClass("dn")})}),_.on("click",".third-select_list_area .third-select_li",function(){_.find(".third-select_list_area .third-select_li").removeClass(a.active);var c=$(this);c.addClass(a.active);var h={firstSelect:_.find(".first-select_li."+a.active+" span"),secondSelect:_.find(".second-select_li."+a.active+" span"),thirdSelect:_.find(".third-select_li."+a.active+" span")};v.val(h.firstSelect.attr("title")),g.val(h.secondSelect.attr("title")),C.val(h.thirdSelect.attr("title")),_.modal("hide"),D(h)})};return c}();module.exports={getStrLen:F,isValidUrl:g,getListByString:D,checkContentLength:E,tagComponent:A,addUrlHttp:C,scrollToError:a,scrollInit:c,PositionThreeSelect:I,imageUpload:_,setScrollWrapperHeight:h,ScrollPosition:S}});
/*!mycenter/modules/common/js/validate.js*/
;define("mycenter/modules/common/js/validate",["require","exports","module"],function(require,exports,module){function a(a){this.rules=a.rules,this.messages=a.messages,this.form=a.form,this.$form=$(a.form),this.$input=[],this.errorPlacement=a.errorPlacement,this.errorRemove=a.errorRemove,this.allUnValidCb=a.allUnValidCb,this.someValidCb=a.someValidCb,this.allValidCb=a.allValidCb,this.notAllValidCb=a.notAllValidCb,this.validSate={},this.init()}a.prototype.init=function(){var a=this,h=a.rules,c=a.messages,v=a.$form,V=a.validSate;$.each(h,function(h,g){var y=v.find('input[name="'+h+'"]');V[h]=!1,y.bind("blur validate",function(){a.isValid(y,{messages:c[h]||{},rules:g},h)})})},a.prototype.checkAll=function(){var a=this,h=a.rules,c=a.$form,v=a.messages,V=!0,g=!0;return $.each(h,function(h,y){var $=c.find('input[name="'+h+'"]');a.isValid($,{messages:v[h]||{},rules:y},h)?g=!1:V=!1}),V},a.prototype.errorRemoveAll=function(){var a=this,h=a.rules,c=a.$form,v=a.messages;$.each(h,function(h){var V=c.find('input[name="'+h+'"]');a.hideError(V,h,v[h])})},a.prototype.showError=function(a,h,c){var v=this,V=v.errorPlacement,g=a.parent().find("p.error");return V?void V(c,h,a):void(0==g.length?c&&a.parent().append('<p class="error">'+c+"</p>"):g.html(c).show())},a.prototype.hideError=function(a,h,c){var v=this,V=v.errorRemove,g=a.parent().find("p.error");return V?void V(c,h,a):void(0!=g.length&&g.hide())},a.prototype.isValid=function(a,h,c){var v,V=this,g=h.rules,y=h.messages,b=V.validSate;return b[c]=!0,v=h.getValue?h.getValue():a.val(),$.each(g,function(h,g){return g?"required"!==h||"function"==typeof g||0==g||""!==v&&"undefined"!=typeof v?"function"!=typeof g||g(v)?void V.hideError(a,c,y[h]):(b[c]=!1,V.showError(a,c,y[h]||""),!1):(b[c]=!1,V.showError(a,c,y[h]||"必填"),!1):!0}),b[c]},a.prototype.isAllUnValid=function(){var a=this,h=a.validSate,c=!0;return $.each(h,function(a,h){return h?c=!1:null,!1}),c},a.prototype.isAllValid=function(){var a=this,h=a.validSate,c=!0;return $.each(h,function(a,h){return h?!0:(c=!1,!1)}),c},a.prototype.valid=function(a){var h=this,c=h.rules,v=h.$form,V=h.messages,g=v.find('input[name="'+a+'"]');h.isValid(g,{messages:V[a]||{},rules:c[a]},a)},module.exports.LgValidate=a});
/*!common/components/jquery-validate/jquery-validate.js*/
;define("common/components/jquery-validate/jquery-validate",["require","exports","module"],function(){!function(a){a.extend(a.fn,{validate:function(h){if(!this.length)return void(h&&h.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var c=a.data(this[0],"validator");return c?c:(c=new a.validator(h,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(h){c.settings.submitHandler&&(c.submitButton=h.target),a(h.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(h){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,h),c.submitButton&&d.remove(),!1):!0}return void 0!=window.tinyMCE&&tinyMCE.triggerSave(),c.settings.debug&&h.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var h,c;return a(this[0]).is("form")?this.validate().form():(h=!0,c=a(this[0].form).validate(),this.each(function(){h&=c.element(this)}),h)},removeAttrs:function(h){var c={},d=this;return a.each(h.split(/\s/),function(a,h){c[h]=d.attr(h),d.removeAttr(h)}),c},rules:function(h,c){var e,f,g,F,i,v,d=this[0];if(h)switch(e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d),h){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":return c?(F={},a.each(c.split(/\s/),function(a,h){F[h]=g[h],delete g[h]}),F):(delete f[d.name],g)}return i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d),i.required&&(v=i.required,delete i.required,i=a.extend({required:v},i)),i}}),a.extend(a.expr[":"],{blank:function(h){return!a.trim(""+h.value)},filled:function(h){return!!a.trim(""+h.value)},unchecked:function(a){return!a.checked}}),a.validator=function(h,c){this.settings=a.extend(!0,{},a.validator.defaults,h),this.currentForm=c,this.init()},a.validator.format=function(h,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(h),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){h=h.replace(new RegExp("\\{"+a+"\\}","g"),c)}),h)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"span",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:"",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,h){(9!=h.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(h,c,d){"radio"===h.type?this.findByName(h.name).addClass(c).removeClass(d):a(h).addClass(c).removeClass(d)},unhighlight:function(h,c,d){"radio"===h.type?this.findByName(h.name).removeClass(c).addClass(d):a(h).removeClass(c).addClass(d)}},setDefaults:function(h){a.extend(a.validator.defaults,h)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(h){var c=a.data(this[0].form,"validator"),d="on"+h.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],h)}var h,c;this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),h=this.groups={},a.each(this.settings.groups,function(c,d){a.each(d.split(/\s/),function(a,d){h[d]=c})}),c=this.settings.rules,a.each(c,function(h,d){c[h]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){var a,h,c;for(this.prepareForm(),a=0,h=this.currentElements=this.elements();h[a];a++)if(void 0!=this.findByName(h[a].name).length&&this.findByName(h[a].name).length>1)for(c=0;c<this.findByName(h[a].name).length;c++)this.check(this.findByName(h[a].name)[c]);else this.check(h[a]);return this.valid()},element:function(h){h=this.validationTargetFor(this.clean(h)),this.lastElement=h,this.prepareElement(h),this.currentElements=a(h);var c=this.check(h)!==!1;return c?delete this.invalid[h.name]:this.invalid[h.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(h){if(h){a.extend(this.errorMap,h),this.errorList=[];for(var c in h)this.errorList.push({message:h[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in h)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var h=0;for(c in a)h++;return h},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(h){}},findLastActive:function(){var h=this.lastActive;return h&&1===a.grep(this.errorList,function(a){return a.element.name===h.name}).length&&h},elements:function(){var h=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&h.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!h.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(h){return a(h)[0]},errors:function(){var h=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+h,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(h){var c=a(h).attr("type"),d=a(h).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(h).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(h){var c,d,e,f,g,F;h=this.validationTargetFor(this.clean(h)),c=a(h).rules(),d=!1,e=this.elementValue(h);for(g in c){F={method:g,parameters:c[g]};try{if(f=a.validator.methods[g].call(this,e,h,F.parameters),"dependency-mismatch"===f){d=!0;continue}if(d=!1,"pending"===f)return void(this.toHide=this.toHide.not(this.errorsFor(h)));if(!f)return this.formatAndAdd(h,F),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+h.id+", check the '"+F.method+"' method",i),i}}return d?void 0:(this.objectLength(c)&&this.successList.push(h),!0)},customMetaMessage:function(h,c){if(a.metadata){var d=this.settings.meta?a(h).metadata()[this.settings.meta]:a(h).metadata();return d&&d.messages&&d.messages[c]}},customDataMessage:function(h,c){return a(h).data("msg-"+c.toLowerCase())||h.attributes&&a(h).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,h){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[h])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(h,c){return this.findDefined(this.customMessage(h.name,c),this.customDataMessage(h,c),this.customMetaMessage(h,c),!this.settings.ignoreTitle&&h.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+h.name+"</strong>")},formatAndAdd:function(h,c){var d=this.defaultMessage(h,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,h):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:h}),this.errorMap[h.name]=d,this.submitted[h.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,h,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,h=this.validElements();h[a];a++)this.settings.unhighlight.call(this,h[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(h,c){var d=this.errorsFor(h);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(h),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(h)):d.insertAfter(a(h)))),!c&&this.settings.success&&(d.text("").append('<em class="error_arrow"></em>'),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,h)),this.toShow=this.toShow.add(d)},errorsFor:function(h){var c=this.idOrName(h);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(h){return a(this.currentForm).find('[name="'+h+'"]')},getLength:function(h,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return h.length},depend:function(a,h){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,h):!0},dependTypes:{"boolean":function(a){return a},string:function(h,c){return!!a(h,c.form).length},"function":function(a,h){return a(h)}},optional:function(h){var c=this.elementValue(h);return!a.validator.methods.required.call(this,c,h)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(h,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[h.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(h){return a.data(h,"previousValue")||a.data(h,"previousValue",{old:null,valid:!0,message:this.defaultMessage(h,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(h,c){h.constructor===String?this.classRuleSettings[h]=c:a.extend(this.classRuleSettings,h)},classRules:function(h){var c={},d=a(h).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(h){var e,f,c={},d=a(h);for(e in a.validator.methods)"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0);return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(h){if(!a.metadata)return{};var c=a.data(h.form,"validator").settings.meta;return c?a(h).metadata()[c]:a(h).metadata()},staticRules:function(h){var c={},d=a.data(h.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[h.name])||{}),c},normalizeRules:function(h,c){return a.each(h,function(d,e){if(e===!1)return void delete h[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?h[d]=void 0!==e.param?e.param:!0:delete h[d]}}),a.each(h,function(d,e){h[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){h[this]&&(h[this]=Number(h[this]))}),a.each(["rangelength","range"],function(){h[this]&&(h[this]=[Number(h[this][0]),Number(h[this][1])])}),a.validator.autoCreateRanges&&(h.min&&h.max&&(h.range=[h.min,h.max],delete h.min,delete h.max),h.minlength&&h.maxlength&&(h.rangelength=[h.minlength,h.maxlength],delete h.minlength,delete h.maxlength)),h.messages&&delete h.messages,h},normalizeRule:function(h){if("string"==typeof h){var c={};a.each(h.split(/\s/),function(){c[this]=!0}),h=c}return h},addMethod:function(h,c,d){a.validator.methods[h]=c,a.validator.messages[h]=void 0!==d?d:a.validator.messages[h],c.length<3&&a.validator.addClassRules(h,a.validator.normalizeRule(h))},methods:{required:function(h,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(h,c)>0:(h==a(c).attr("placeholder")&&(h=""),a.trim(h).length>0)},remote:function(h,c,d){var e,f,g;return this.optional(c)?"dependency-mismatch":(e=this.previousValue(c),this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name]?"pending":e.old===h?e.valid:(e.old=h,f=this,this.startRequest(c),g={},g[c.name]=h,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){var g,F,i,v;f.settings.messages[c.name].remote=e.originalMessage,g=d===!0||"true"===d,g?(F=f.formSubmitted,f.prepareElement(c),f.formSubmitted=F,f.successList.push(c),delete f.invalid[c.name],f.showErrors()):(i={},v=d||f.defaultMessage(c,"remote"),i[c.name]=e.message=a.isFunction(v)?v(h):v,f.invalid[c.name]=!0,f.showErrors(i)),e.valid=g,f.stopRequest(c,g)}},d)),"pending"))},minlength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||e>=d},maxlength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||d>=e},rangelength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,h,c){return this.optional(h)||a>=c},max:function(a,h,c){return this.optional(h)||c>=a},range:function(a,h,c){return this.optional(h)||a>=c[0]&&a<=c[1]},email:function(h,c){return h=a.trim(h),this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(h)},url:function(a,h){return this.optional(h)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,h){return this.optional(h)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,h){return this.optional(h)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,h){return this.optional(h)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,h){return this.optional(h)||/^\d+$/.test(a)},creditcard:function(a,h){var c,d,e,f,g;if(this.optional(h))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;for(c=0,d=0,e=!1,a=a.replace(/\D/g,""),f=a.length-1;f>=0;f--)g=a.charAt(f),d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e;return 0===c%10},equalTo:function(h,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),h===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var h,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,h,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(h=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=h.apply(this,arguments)):h.apply(this,arguments)})}(jQuery),function(a){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||a.each({focus:"focusin",blur:"focusout"},function(h,c){function d(h){return h=a.event.fix(h),h.type=c,a.event.handle.call(this,h)}a.event.special[c]={setup:function(){this.addEventListener(h,d,!0)},teardown:function(){this.removeEventListener(h,d,!0)},handler:function(h){var d=arguments;return d[0]=a.event.fix(h),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(h,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(h)?d.apply(e,arguments):void 0})}})}(jQuery)});
/*!dep/blueimp-md5/js/md5.js*/
;!function(c){"use strict";function a(x,c){var a=(65535&x)+(65535&c),h=(x>>16)+(c>>16)+(a>>16);return h<<16|65535&a}function h(c,a){return c<<a|c>>>32-a}function g(q,c,g,x,s,t){return a(h(a(a(c,q),a(x,t)),s),g)}function v(c,a,h,d,x,s,t){return g(a&h|~a&d,c,a,x,s,t)}function C(c,a,h,d,x,s,t){return g(a&d|h&~d,c,a,x,s,t)}function A(c,a,h,d,x,s,t){return g(a^h^d,c,a,x,s,t)}function b(c,a,h,d,x,s,t){return g(h^(a|~d),c,a,x,s,t)}function j(x,c){x[c>>5]|=128<<c%32,x[(c+64>>>9<<4)+14]=c;var i,h,g,j,y,I=1732584193,R=-271733879,S=-1732584194,d=271733878;for(i=0;i<x.length;i+=16)h=I,g=R,j=S,y=d,I=v(I,R,S,d,x[i],7,-680876936),d=v(d,I,R,S,x[i+1],12,-389564586),S=v(S,d,I,R,x[i+2],17,606105819),R=v(R,S,d,I,x[i+3],22,-1044525330),I=v(I,R,S,d,x[i+4],7,-176418897),d=v(d,I,R,S,x[i+5],12,1200080426),S=v(S,d,I,R,x[i+6],17,-1473231341),R=v(R,S,d,I,x[i+7],22,-45705983),I=v(I,R,S,d,x[i+8],7,1770035416),d=v(d,I,R,S,x[i+9],12,-1958414417),S=v(S,d,I,R,x[i+10],17,-42063),R=v(R,S,d,I,x[i+11],22,-1990404162),I=v(I,R,S,d,x[i+12],7,1804603682),d=v(d,I,R,S,x[i+13],12,-40341101),S=v(S,d,I,R,x[i+14],17,-1502002290),R=v(R,S,d,I,x[i+15],22,1236535329),I=C(I,R,S,d,x[i+1],5,-165796510),d=C(d,I,R,S,x[i+6],9,-1069501632),S=C(S,d,I,R,x[i+11],14,643717713),R=C(R,S,d,I,x[i],20,-373897302),I=C(I,R,S,d,x[i+5],5,-701558691),d=C(d,I,R,S,x[i+10],9,38016083),S=C(S,d,I,R,x[i+15],14,-660478335),R=C(R,S,d,I,x[i+4],20,-405537848),I=C(I,R,S,d,x[i+9],5,568446438),d=C(d,I,R,S,x[i+14],9,-1019803690),S=C(S,d,I,R,x[i+3],14,-187363961),R=C(R,S,d,I,x[i+8],20,1163531501),I=C(I,R,S,d,x[i+13],5,-1444681467),d=C(d,I,R,S,x[i+2],9,-51403784),S=C(S,d,I,R,x[i+7],14,1735328473),R=C(R,S,d,I,x[i+12],20,-1926607734),I=A(I,R,S,d,x[i+5],4,-378558),d=A(d,I,R,S,x[i+8],11,-2022574463),S=A(S,d,I,R,x[i+11],16,1839030562),R=A(R,S,d,I,x[i+14],23,-35309556),I=A(I,R,S,d,x[i+1],4,-1530992060),d=A(d,I,R,S,x[i+4],11,1272893353),S=A(S,d,I,R,x[i+7],16,-155497632),R=A(R,S,d,I,x[i+10],23,-1094730640),I=A(I,R,S,d,x[i+13],4,681279174),d=A(d,I,R,S,x[i],11,-358537222),S=A(S,d,I,R,x[i+3],16,-722521979),R=A(R,S,d,I,x[i+6],23,76029189),I=A(I,R,S,d,x[i+9],4,-640364487),d=A(d,I,R,S,x[i+12],11,-421815835),S=A(S,d,I,R,x[i+15],16,530742520),R=A(R,S,d,I,x[i+2],23,-995338651),I=b(I,R,S,d,x[i],6,-198630844),d=b(d,I,R,S,x[i+7],10,1126891415),S=b(S,d,I,R,x[i+14],15,-1416354905),R=b(R,S,d,I,x[i+5],21,-57434055),I=b(I,R,S,d,x[i+12],6,1700485571),d=b(d,I,R,S,x[i+3],10,-1894986606),S=b(S,d,I,R,x[i+10],15,-1051523),R=b(R,S,d,I,x[i+1],21,-2054922799),I=b(I,R,S,d,x[i+8],6,1873313359),d=b(d,I,R,S,x[i+15],10,-30611744),S=b(S,d,I,R,x[i+6],15,-1560198380),R=b(R,S,d,I,x[i+13],21,1309151649),I=b(I,R,S,d,x[i+4],6,-145523070),d=b(d,I,R,S,x[i+11],10,-1120210379),S=b(S,d,I,R,x[i+2],15,718787259),R=b(R,S,d,I,x[i+9],21,-343485551),I=a(I,h),R=a(R,g),S=a(S,j),d=a(d,y);return[I,R,S,d]}function y(c){var i,a="";for(i=0;i<32*c.length;i+=8)a+=String.fromCharCode(c[i>>5]>>>i%32&255);return a}function I(c){var i,a=[];for(a[(c.length>>2)-1]=void 0,i=0;i<a.length;i+=1)a[i]=0;for(i=0;i<8*c.length;i+=8)a[i>>5]|=(255&c.charCodeAt(i/8))<<i%32;return a}function R(s){return y(j(I(s),8*s.length))}function S(c,a){var i,h,g=I(c),v=[],C=[];for(v[15]=C[15]=void 0,g.length>16&&(g=j(g,8*c.length)),i=0;16>i;i+=1)v[i]=909522486^g[i],C[i]=1549556828^g[i];return h=j(v.concat(I(a)),512+8*a.length),y(j(C.concat(h),640))}function U(c){var x,i,a="0123456789abcdef",h="";for(i=0;i<c.length;i+=1)x=c.charCodeAt(i),h+=a.charAt(x>>>4&15)+a.charAt(15&x);return h}function k(c){return unescape(encodeURIComponent(c))}function w(s){return R(k(s))}function z(s){return U(w(s))}function B(c,d){return S(k(c),k(d))}function D(c,d){return U(B(c,d))}function E(c,a,h){return a?h?B(a,c):D(a,c):h?w(c):z(c)}"function"==typeof define&&define.amd?define("dep/blueimp-md5/js/md5",["require"],function(){return E}):c.md5=E}(this);
/*!common/widgets/lagou-ui/lagou.js*/
;define("common/widgets/lagou-ui/lagou",["require","exports","module"],function(require,exports,module){var lg=window.lg||{};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var g=this.length>>>0,h=Number(arguments[1])||0;for(h=0>h?Math.ceil(h):Math.floor(h),0>h&&(h+=g);g>h;h++)if(h in this&&this[h]===a)return h;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")}),lg.Event=lg.Event||{},lg.Event._events={},lg.Event.on=function(a,g,h){return this._events[a]=this._events[a]||[],this._events[a].push({data:g,func:h}),this},lg.Event.un=function(a){var g=this._events;if(0===arguments.length)return this._events={},this;var h=g[a];if(!h)return this;if(1===arguments.length)return delete g[a],this;for(var c,i=0;i<h.length;i++)if(c=h[i],c===listener||c.listener===listener){h.splice(i,1);break}return this},lg.Event.exec=function(a){var g=this._events,h=g[a],c=Array.prototype.slice.call(arguments,1);if(h){h=h.slice(0);for(var i=0,v=h.length;v>i;i++)h[i].apply(this,c)}return this},lg.Cache=lg.Cache||{},lg.Cache.Views=lg.Cache.Views||{},lg.Utils=lg.Utils||{},lg.Utils.isNullObject=function(a){if("object"==typeof a&&!(a instanceof Array)){var g=!1;for(var h in a){g=!0;break}return g}},lg.Widgets=lg.Widgets||{},lg.Widgets.BaseControl=function(a){if(this._name="",this._option={},this.Event=lg.Event,this._data={},this._value="",this._isDirty=!1,this._isValueField=!0,this._data.valid=this._data.valid||{},this._data.valid.validResult={},this._data.valid._map={require:{mode:"require",isUse:!1,status:!1,data:"",message:"必填",level:"3",trigger:[]},re_pwd:{mode:"repeat-password",isUse:!1,status:!1,data:"",message:"",level:"2",trigger:[]},min_len:{mode:"min-length",isUse:!1,status:!1,data:"",message:"最小长度",level:"1",trigger:[]},max_len:{mode:"max-length",isUse:!1,status:!1,data:"",message:"最大长度",level:"1",trigger:[]},pattern:{mode:"pattern",isUse:!1,status:!1,data:"",message:"",level:"2",trigger:[]}},$.extend(this._option,a),this._option.validRules)for(var i=0,g=this._option.validRules.length;g>i;i++){var h=this._option.validRules[i];this._data.valid._map[h.mode]?(this._data.valid._map[h.mode].isUse=!0,this._data.valid._map[h.mode].data=h.data,this._data.valid._map[h.mode].message=h.message,this._data.valid._map[h.mode].level=h.level||this._data.valid._map[h.mode].level):this._data.valid._map[h.mode]={mode:h.mode,isUse:!0,status:!1,data:h.data,message:h.message,level:0},h.trigger?this._data.valid._map[h.mode].trigger=h.trigger.split(","):this._data.valid._map[h.mode].trigger.push("blur")}this._selector='[data-view="'+this._option.parentName+'"] [data-propertyname="'+this._option.name+'"]',this._element="string"==typeof this._option.name?$(this._selector):this._option.name,"function"==typeof this.init?this.init():""},lg.Widgets.BaseControl.prototype.getIsValueField=function(){return this._isValueField},lg.Widgets.BaseControl.prototype.setIsValueField=function(a){var g=!1;a&&(g=!0),this._isValueField=g},lg.Widgets.BaseControl.prototype.getName=function(){return this._option.name},lg.Widgets.BaseControl.prototype.getElement=function(){return this._element},lg.Widgets.BaseControl.prototype.BaseInit=function(a){this.setData(a);var g=this,h=!0;this._option.isFocusShow||this.getElement().find('input[type="text"],input[type="password"],input[type="checkbox"],input.btn_outline').on("focus",function(){g.setValidMessage()}),"undefined"==typeof this._option.isVisible?h:h=!1,this.setVisible(h),this.getElement().find('input[type="text"],input[type="password"]').on("blur keydown change keyup",{control:this},function(e){var a=e.data.control;"keydown"==e.type&&(a._isDirty=!0);var g=a.getValue(),h=a.getIsValid(g,e.type);return a._isDirty&&a.getSelfIsValided()&&("keyup"==e.type||"change"==e.type)?a._option.keyup&&(a.execValid(a.getValue()),a._option.keyup.call(this,{control:a,isValidat:!0,parent:lg.Cache.Views[a._option.parentName],linkFor:lg.Cache.Views[a._option.parentName].field[a._option.linkFor]})):!a._isDirty||a.getSelfIsValided()||"keyup"!=e.type&&"change"!=e.type||a._option.keyup&&(a.execValid(a.getValue()),a._option.keyup.call(this,{control:a,isValidat:!1,parent:lg.Cache.Views[a._option.parentName],linkFor:lg.Cache.Views[a._option.parentName].field[a._option.linkFor]})),lg.Utils.isNullObject(h)?void a.setValidMessage(h):void a.setValidMessage()})},lg.Widgets.BaseControl.prototype.showMessage=function(a){this.getElement().find("[data-valid-message]").length?"":this.getElement().append('<span data-valid-message class="input_tips"></span>');{var g=this.getElement().find("[data-valid-message]");g.html()}if(lg.Utils.isNullObject(a)){g.empty();g.html(a.message),g.show(),this.getElement().find('input[type="text"]').addClass("input_warning"),this.getElement().find('input[type="password"]').addClass("input_warning")}else g.remove(),this.getElement().find('input[type="text"]').removeClass("input_warning"),this.getElement().find('input[type="password"]').removeClass("input_warning")},lg.Widgets.BaseControl.prototype.setValidMessage=function(a,g){if(this._option.forbidAddMessageBySelf)if("CollectData"==g){this.getElement().find("[data-valid-message]").length?"":this.getElement().append('<span data-valid-message class="input_tips"></span>');var h=this.getElement().find("[data-valid-message]")}else{var h=this.getElement().find("[data-valid-message]");if(!h&&h.length>0)return}else{this.getElement().find("[data-valid-message]").length?"":this.getElement().append('<span data-valid-message class="input_tips"></span>');var h=this.getElement().find("[data-valid-message]")}h.html();if(lg.Utils.isNullObject(a||{})){h.empty();var c="",v=0;for(var _ in a)"undefined"!=typeof a[_].level?v=v<a[_].level?a[_].level:v:"";for(var _ in a)"undefined"!=typeof a[_].level&&v==a[_].level&&(c=a[_].message);h.html(c),h.show(),this.getElement().find('input[type="text"]').addClass("input_warning"),this.getElement().find('input[type="password"]').addClass("input_warning")}else h.remove(),this.getElement().find('input[type="text"]').removeClass("input_warning"),this.getElement().find('input[type="password"]').removeClass("input_warning")},lg.Widgets.BaseControl.prototype.setData=function(a){for(var g in a)this["set"+g]=a[g]},lg.Widgets.BaseControl.prototype.setClear=function(){this.getElement().find("input.input_warning").removeClass("input_warning"),this.getElement().find("[data-valid-message]").remove(),this.getElement().find('input[type="text"],input[type="password"]').val(""),this._isDirty=!1,this.getElement().find('input[type="text"],input[type="password"]').blur()},lg.Widgets.BaseControl.prototype.getIsReadOnly=function(){return this.getElement().attr("readonly")?!0:!1},lg.Widgets.BaseControl.prototype.setReadOnly=function(a){var g=!1;a&&(g=!0),g?this.getElement().attr("readonly",g):this.getElement().removeAttr("readonly")},lg.Widgets.BaseControl.prototype.getIsDisabled=function(){return this.getElement().attr("disabled")?!0:!1},lg.Widgets.BaseControl.prototype.setFocus=function(a){var g=!1;a&&(g=!0,this.getElement().find('input[type ="text"]').focus())},lg.Widgets.BaseControl.prototype.setDisable=function(a){var g=!1;a&&(g=!0),g?this.getElement().attr("disabled",g):this.getElement().removeAttr("disabled"),g?(this.getElement().attr("disabled",g),this.getElement().find('input[type="button"]').attr("disabled",g)):(this.getElement().removeAttr("disabled"),this.getElement().find('input[type="button"]').removeAttr("disabled"))},lg.Widgets.BaseControl.prototype.getIsVisible=function(){return"none"!=this.getElement().css("display")?!0:!1},lg.Widgets.BaseControl.prototype.setVisible=function(a){var g="none";a&&(g="block"),this.getElement().css("display",g)},lg.Widgets.BaseControl.prototype.getIsValid=function(a,g){return this.execValid(a,g),this._data.valid.validResult},lg.Widgets.BaseControl.prototype.setValid=function(a){for(var g in a)this._data.valid._map[g].is=a[g]},lg.Widgets.BaseControl.prototype.getValue=function(){return this._value="undefined"==typeof this.getElement().find('input[type="text"]').val()?this.getElement().find('input[type="password"]').val():this.getElement().find('input[type="text"]').val(),this._value="undefined"==typeof this._value?"":this._value,this._value=this._value.trim(),this._value},lg.Widgets.BaseControl.prototype.setValue=function(a){this._value=this.getElement().find('input[type="text"]').val(a)||this.getElement().find('input[type="password"]').val(a)},lg.Widgets.BaseControl.prototype.execValid=function(val,type){var thisType=type||"blur";if("undefined"!=typeof val&&this.getIsVisible())for(var item in this._data.valid._map)if("object"==typeof this._data.valid._map[item]&&this._data.valid._map[item].isUse){if("require"==this._data.valid._map[item].mode&&this.controlValidResult(0==val.length&&this._isDirty&&this._data.valid._map[item].trigger.indexOf(thisType)>-1,item,type),"min-len"==this._data.valid._map[item].mode&&this.controlValidResult(val.length<this._data.valid._map[item].data&&this._isDirty&&this._data.valid._map[item].trigger.indexOf(thisType)>-1,item,type),"max-len"==this._data.valid._map[item].mode&&this.controlValidResult(val.length>this._data.valid._map[item].data&&this._isDirty&&this._data.valid._map[item].trigger.indexOf(thisType)>-1,item,type),"repeat-password"==this._data.valid._map[item].mode){var pwd=lg.Cache.Views[this._option.parentName].field[this._option.linkFor].getValue(),repwd=this.getValue();this.controlValidResult(pwd!=repwd&&this._isDirty&&this._data.valid._map[item].trigger.indexOf(thisType)>-1,item,type)}if("pattern"==this._data.valid._map[item].mode){if("string"==typeof this._data.valid._map[item].data)for(var data=this._data.valid._map[item].data.split("||"),temp=!1,i=0,len=data.length;len>i;i++){var reg=eval(data[i]);temp=temp||reg.test(val)}else{var data=this._data.valid._map[item].data,temp=!1;for(var i in data)"function"!=typeof data[i]&&(temp=temp||data[i].test(val))}this.controlValidResult(!temp&&this._isDirty&&this._data.valid._map[item].trigger.indexOf(thisType)>-1,item,type)}}},lg.Widgets.BaseControl.prototype.getSelfIsValided=function(){var value=!0,val=this.getValue();if("undefined"==typeof val)return!1;for(var item in this._data.valid._map)if("object"==typeof this._data.valid._map[item]&&this._data.valid._map[item].isUse){if("require"==this._data.valid._map[item].mode&&(value=value&&0!=val.length?!0:!1),"min-len"==this._data.valid._map[item].mode&&(value=value&&val.length>this._data.valid._map[item].data?!0:!1),"max-len"==this._data.valid._map[item].mode&&(value=value&&val.length<this._data.valid._map[item].data?!0:!1),"repeat-password"==this._data.valid._map[item].mode){var pwd=lg.Cache.Views[this._option.parentName].field[this._option.linkFor].getValue(),repwd=this.getValue();value=value&&pwd==repwd?!0:!1}if("pattern"==this._data.valid._map[item].mode){if("string"==typeof this._data.valid._map[item].data)for(var data=this._data.valid._map[item].data.split("||"),temp=!1,i=0,len=data.length;len>i;i++){var reg=eval(data[i]);temp=temp||reg.test(val)}else{var data=this._data.valid._map[item].data,temp=!1;for(var i in data)"function"!=typeof data[i]&&(temp=temp||data[i].test(val))}value=value&&temp?!0:!1}}return value},lg.Widgets.BaseControl.prototype.controlValidResult=function(a,g,h){a?(this._data.valid.validResult[this._data.valid._map[g].mode]=this._data.valid._map[g],this._data.valid.validResult[this._data.valid._map[g].mode].triggerType=h):delete this._data.valid.validResult[this._data.valid._map[g].mode]},lg.Widgets.Controls={},lg.Widgets.Controls.Phone=function(a,g){lg.Widgets.Controls[a]=g(a)},lg.Widgets.Controls.Extend=function(a,g){lg.Widgets.Controls[a]=g(a)},lg.Widgets.Controls.Extend("Phone",function(a){var g=function(a,g){lg.Widgets.BaseControl.call(this,a,g)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g}),lg.Widgets.Controls.Extend("PhoneVerificationCode",function(a){var g=function(a,g){lg.Widgets.BaseControl.call(this,a,g)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g.prototype.getTopTime=function(){return this._option.topTime||60},g.prototype.setTopTime=function(a){this._option.topTime=a},g.prototype.getopCount=function(){return this._option.topCount||null},g.prototype.getTotalCount=function(){return this._option.totalCount},g.prototype.setTotalTimeTemp=function(){this.totalTimeTemp=this.getTopTime()},g.prototype.setTimeLine=function(a){this._option.timeLine=a},g.prototype.getPhoneVerificationCodeUrl=function(){return this._option.url},g.prototype.getVerificationButton=function(){return this.getElement().find('input[type="button"]')},g.prototype.getVerificationInput=function(){return this.getElement().find('input[type="text"]')},g.prototype.getCodeIsDisabled=function(){return this.getElement().find('input[type="button"]').hasClass("btn_disabled")},g.prototype.setCodeIsDisabled=function(a){var g=!1;return a?(g=!0,this.getElement().find('input[type="button"]').addClass("btn_disabled"),g):(this.getElement().find('input[type="button"]').removeClass("btn_disabled"),g)},g.prototype.getLinkFor=function(){return lg.Cache.Views[this._option.parentName].field[this._option.linkFor]},g.prototype.init=function(){this.timeLine=null,this.isActive=!1,this.setCodeIsDisabled(this._option.codeIsDisabled);var a=lg.Cache.Views[this._option.parentName].field[this._option.linkFor];!a.getSelfIsValided()&&a._option.keyup?this.getVerificationButton().val("string"!=typeof this._option.postfix?"获取验证码":"获取"):a.getSelfIsValided()&&a._option.keyup&&this.getVerificationButton().removeClass("btn_disabled").val("string"!=typeof this._option.postfix?"获取验证码":"获取"),this.totalTimeTemp=this.getTopTime(),this.getElement().find('input[type="button"]').one("click",{control:this},function(e){var a=e.data.control,g=!0,h=lg.Cache.Views[a._option.parentName].field[a._option.linkFor],c=lg.Cache.Views[a._option.parentName].field[a._option.verifyCode];c&&c.getIsVisible()&&(g=c.getSelfIsValided()&&g?!0:!1),g=h.getSelfIsValided()&&g?!0:!1,g?(a.setDisable(!0),!a.getCodeIsDisabled()&&a.getIsDisabled()&&(a.isActive=!0,a._option.click.call(this,{control:a,parent:lg.Cache.Views[a._option.parentName],linkFor:h}))):(h._isDirty=!0,h.setValidMessage(h.getIsValid(h.getValue()),"CollectData"),c&&c.getIsVisible()&&(c._isDirty=!0,c.setValidMessage(c.getIsValid(c.getValue()),"CollectData")),a.init())})},g.prototype.getVerificationCode=function(){},g.prototype.setClear=function(){this.getElement().find("input.input_warning").removeClass("input_warning"),this.getElement().find("[data-valid-message]").remove(),this.getElement().find('input[type="text"],input[type="password"]').val(""),this._isDirty=!1,this.getElement().find('input[type="text"],input[type="password"]').blur(),clearInterval(this.timeLine);var a=$._data(this.getElement().find('input[type="button"]')[0],"events");a&&a.click||this.init(),this.timeLine=null,this.setDisable(!1);var g=lg.Cache.Views[this._option.parentName].field[this._option.linkFor];!g.getSelfIsValided()&&g._option.keyup?this.getVerificationButton().val("string"!=typeof this._option.postfix?"获取验证码":"获取"):this.getVerificationButton().removeClass("btn_disabled").val("string"!=typeof this._option.postfix?"获取验证码":"获取")},g.prototype.starttime=function(a,g){a.timeLine||(a.totalTimeTemp=a.getTopTime(),a.timeLine=setInterval(function(){var h=lg.Cache.Views[a._option.parentName].field[a.getName()];h.totalTimeTemp--;var c="string"!=typeof h._option.postfix?"秒后重试":h._option.postfix+"s";if(h.getVerificationButton().addClass("btn_disabled").val(h.totalTimeTemp+c),-1==h.totalTimeTemp){clearInterval(h.timeLine),h.timeLine=null,a.setDisable(!1);var v=lg.Cache.Views[a._option.parentName].field[a._option.linkFor];!v.getSelfIsValided()&&v._option.keyup?(h.init(),h.getVerificationButton().val("string"!=typeof h._option.postfix?"获取验证码":"获取")):(h.init(),h.getVerificationButton().removeClass("btn_disabled").val("string"!=typeof h._option.postfix?"获取验证码":"获取")),"function"==typeof g&&g()}},1e3))},g}),lg.Widgets.Controls.Extend("Password",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g}),lg.Widgets.Controls.Extend("RepeatPassword",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g}),lg.Widgets.Controls.Extend("Email",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g}),lg.Widgets.Controls.Extend("VerifyCode",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g.prototype.init=function(){this.getVerifyCodeReflashButton().on("click",{control:this},function(e){var a=e.data.control.getVerifyCodeUrl(),g=$('<img alt="点击重试" class="yzm" width="98" height="40" />');if("init"==e.data.type){if(e.data.control.getVerifyCodeImg().attr("src"))return;g.attr("src",a),$('[data-controltype="VerifyCode"]').find("img").remove(),$('[data-controltype="VerifyCode"]').find("input").after(g)}else g.attr("src",a),$('[data-controltype="VerifyCode"]').find("img").remove(),$('[data-controltype="VerifyCode"]').find("input").after(g)})},g.prototype.getVerifyCode=function(){this.getVerifyCodeReflashButton().trigger("click",{control:this,type:"init"})},g.prototype.getFrom=function(){return this._option.from||"register"},g.prototype.getVerifyCodeUrl=function(){var a=this._option.url+"?from="+this.getFrom()+"&refresh="+(new Date).getTime();return a},g.prototype.getVerifyCodeReflashButton=function(){return this.getElement().find("a")},g.prototype.getVerifyCodeInput=function(){return this.getElement().find("input")},g.prototype.getVerifyCodeImg=function(){return this.getElement().find("img")},g}),lg.Widgets.Controls.Extend("Switch",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g.prototype.getValue=function(){return this.getElement().find(".btn_active").attr("data-myvalue")||""},g}),lg.Widgets.Controls.Extend("CheckBox",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a)};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g.prototype.getValue=function(){var a=[];return this.getElement().find('input[type="checkbox"]:checked').each(function(){a.push($(this).attr("data-myvalue"))}),a},g}),lg.Widgets.Controls.Extend("Button",function(a){var g=function(a){lg.Widgets.BaseControl.call(this,a),this._isValueField=!1};return g.prototype=new lg.Widgets.BaseControl,g.prototype.controlType=a,g.prototype.init=function(){this.isActive=!1,this.getElement().find('[type="button"]').on("click",{control:this},function(e){var a=e.data.control;a.isActive=!0,a._option.click.call(this,{control:a,parent:lg.Cache.Views[a._option.parentName]})})},g}),lg.Views=lg.Views||{},lg.Views.BaseView=function(a){this._name="",this._children=[],this._Validation={},this._options={},this.childrenData={},this.field={},a&&(this._name=a.name),$.extend(this._options,a),this._element="string"==typeof a.name?$('[data-view="'+this._name+'"]'):this._name,lg.Cache.Views[this._name]=this,this.init()},lg.Views.BaseView.prototype.getElement=function(){return this._element},lg.Views.BaseView.prototype.setClear=function(){for(var a in this.field)this.field[a].setClear()},lg.Views.BaseView.prototype.ValidatForm=function(){for(var a in this.field){var i={};this.field[a].getIsValueField()&&(this.field[a]._isDirty=!0,i=this.field[a].getIsValid(this.field[a].getValue())),lg.Utils.isNullObject(i)?this._Validation[a]=i:delete this._Validation[a]}if(lg.Utils.isNullObject(this._Validation)){for(var a in this._Validation)this.field[a].setValidMessage(this._Validation[a],"CollectData");return!1}return!0},lg.Views.BaseView.prototype.CollectData=function(a){this.childrenData.isValidate=!0,a||(this.childrenData.isValidate=this.ValidatForm());for(var g in this.field)this.field[g].getIsValueField()&&(this.childrenData[g]=this.field[g]?this.field[g].getValue():"");return this.childrenData},lg.Views.BaseView.prototype.init=function(){this._options,this._options.fields?this.initControls(this._options.fields):""},lg.Views.BaseView.prototype.initControls=function(a){for(var i=0,g=a.length;g>i;i++)a[i].parentName=this._name,this.field[a[i].name]=new lg.Widgets.Controls[a[i].controlType](a[i]),this.field[a[i].name].BaseInit()},lg.Views.BaseView.prototype.extend=function(a,g){this[a]=g},lg.Models=lg.Models||{},lg.Models.BaseViewModel=function(a,g){a&&(this._name=a),this._name="",$.extend(this._options,g)},module.exports={lg:lg}});
/*!mycenter/modules/common/change-phone/main.js*/
;define("mycenter/modules/common/change-phone/main",["require","exports","module","common/components/util/htoc","common/components/jquery-validate/jquery-validate","dep/blueimp-md5/js/md5","common/widgets/lagou-ui/lagou","common/widgets/country-code/main","common/static/js/gt.sense"],function(require,exports,module){function a(a){$.lgAjax({type:"get",headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:I+"/account/verifycode/style",dataType:"json",needNoToken:!0}).done(function(h){a(h.content.verifyStyle),c()})}function c(){$.lgAjax({type:"get",headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:I+"/account/token",dataType:"json",needNoToken:!0}).done(function(a){1==a.state&&(H=a.submitToken,M=a.submitCode)})}function h(a){a.submitToken&&(H=a.submitToken),a.submitCode&&(M=a.submitCode)}function g(){var a=XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return a}function v(){O||alert("当前浏览器不支持，换个浏览器试试～")}function _(){}function y(e){var a=e;v();var c=a.parent.CollectData();c.countryCode=$('[data-view="phonebinding"] .area_code').text(),X&&(c.challenge=111);var g={challenge:c.challenge,countryCode:c.countryCode,imageVerifyCode:c.request_form_verifyCode,isValidate:c.isValidate,phone:c.phone,phoneVerifyCode:c.phoneVerificationCode||c.autoPhoneVerificationCode};U&&U.isParse&&(g.isParse=U.isParse),c.isValidate&&$.lgAjax({type:"post",headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},url:a.control._option.url,data:JSON.stringify(g),dataType:"json",needNoToken:!0}).done(function(v){var _={1:{message:"成功",linkFor:"phoneVerificationCode",level:"info"},202:{message:"输入号码与归属地不匹配",linkFor:"phone",level:"error"},301:{message:"用户不存在",linkFor:"phone",level:"error"},303:{message:"图形验证码不正确",linkFor:"request_form_verifyCode",level:"error"},304:{message:"手机验证码不正确",linkFor:"phoneVerificationCode",level:"error"},305:{message:"手机验证码验证异常,请稍后重试",linkFor:"phoneVerificationCode",level:"error"},306:{message:"手机号已被其他用户绑定了，不能继续绑定",linkFor:"phone",level:"error"}};if(1==v.state){var y=(86==g.countryCode?"":"+"+g.countryCode)+c.phone;$("#bindPhonePop").modal("hide"),$("#bindPhoneSuccessPop .success-phone").text(y),$("#bindPhoneSuccessPop").modal("show"),j&&j(y),Q.setClear()}else _[v.state]?a.parent.field[_[v.state].linkFor].showMessage({message:_[v.state].message}):a.parent.field.phoneVerificationCode.showMessage({message:v.message});h(v)})}function C(e,a){var c=e;(-1==c.control.totalTimeTemp||c.control.totalTimeTemp==c.control.getTopTime())&&$.lgAjax({type:"get",url:c.control._option.url,headers:{"X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},data:{challenge:a,countryCode:$('[data-view="phonebinding"] .area_code').text(),phone:c.linkFor.getValue(),type:0,imageVerifyCode:R.Cache.Views[c.control._option.parentName].field.request_form_verifyCode.getValue(),businessType:"BIND_PHONE"},dataType:"json",needNoToken:!0}).done(function(a){if(L[a.state]?c.parent.field[L[a.state].linkFor].showMessage({message:L[a.state].message}):c.parent.field.phoneVerificationCode.showMessage({message:a.message}),1==a.state){var g=$('[data-view="phonebinding"]'),v=g.find('[data-propertyname="phoneVerificationCode"]');g.find(".verify_tips_main").hide(),e.control.starttime(e.control,function(){g.find(".auto_phone").val("语音验证"),g.find(".verify_tips_main").show(),v.find(".first_child").removeClass("input_warning"),v.children(".input_tips").remove()})}else e.control.init(),c.parent.field.request_form_verifyCode.getVerifyCode();e.control.setDisable(!1),h(a)})}function T(e,a){var c=e;(-1==c.control.totalTimeTemp||c.control.totalTimeTemp==c.control.getTopTime())&&$.lgAjax({type:"get",url:c.control._option.url,headers:{"X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},data:{challenge:a,countryCode:$('[data-view="phonebinding"] .area_code').text(),phone:c.linkFor.getValue(),type:1,imageVerifyCode:R.Cache.Views[c.control._option.parentName].field.request_form_verifyCode.getValue(),businessType:"BIND_PHONE"},dataType:"json",needNoToken:!0}).done(function(a){var g,v=L[a.state],_=c.control.getTopTime(),y=$('[data-view="phonebinding"]');1===a.state?(g=y.find('[data-propertyname="phoneVerificationCode"]'),g.find(".last_child").addClass("btn_disabled").prop("disabled",!0),y.find(".auto_phone").prop("disabled",!0),clearInterval(B),B=setInterval(function(){--_<0?(clearInterval(B),g.find(".first_child").removeClass("input_warning"),g.find(".last_child").removeClass("btn_disabled").removeProp("disabled"),y.find(".auto_phone").removeProp("disabled"),y.find(".verify_tips_count_down").hide(),y.find(".verify_tips_main").show(),e.control.init()):(_===c.control.getTopTime()-1&&y.find(".verify_tips_main").hide(),y.find(".verify_tips_count_down").html("请留意接收手机来电，"+_+"秒后可重试…").show())},1e3)):(v?c.parent.field[v.linkFor].showMessage({message:v.message}):c.parent.field.phoneVerificationCode.showMessage({message:a.message}),e.control.init(),c.parent.field.request_form_verifyCode.getVerifyCode()),e.control.setDisable(!1),h(a)})}function w(a){j=a.success,Q.setClear(),clearInterval(B);var c=$('[data-view="phonebinding"]');c.find(".verify_tips_main").hide(),c.find(".auto_phone").removeProp("disabled"),c.find(".verify_tips_count_down").hide(),a.hasNoclose&&$("#bindPhonePop").find(".close").hide(),a.data&&(U=a.data),$("#bindPhonePop").modal("show")}function P(e,a){var c=e;(-1==c.control.totalTimeTemp||c.control.totalTimeTemp==c.control.getTopTime())&&$.lgAjax({type:"get",url:c.control._option.url,headers:{"X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},data:{challenge:a,countryCode:$('[data-view="phonechange"] .area_code').text(),phone:c.linkFor.getValue(),type:0,imageVerifyCode:R.Cache.Views[c.control._option.parentName].field.request_form_verifyCode.getValue(),businessType:"BIND_PHONE"},dataType:"json",needNoToken:!0}).done(function(a){if(L[a.state]?c.parent.field[L[a.state].linkFor].showMessage({message:L[a.state].message}):c.parent.field.phoneVerificationCode.showMessage({message:a.message}),1==a.state){var g=$('[data-view="phonechange"]'),v=g.find('[data-propertyname="phoneVerificationCode"]');g.find(".verify_tips_main").hide(),e.control.starttime(e.control,function(){g.find(".auto_phone").val("语音验证"),g.find(".verify_tips_main").show(),v.find(".first_child").removeClass("input_warning"),v.children(".input_tips").remove()})}else c.parent.field.request_form_verifyCode.getVerifyCode(),e.control.init();e.control.setDisable(!1),h(a)})}function V(e,a){var c=e;(-1==c.control.totalTimeTemp||c.control.totalTimeTemp==c.control.getTopTime())&&$.lgAjax({type:"get",url:c.control._option.url,headers:{"X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},data:{challenge:a,countryCode:$('[data-view="phonechange"] .area_code').text(),phone:c.linkFor.getValue(),type:1,imageVerifyCode:R.Cache.Views[c.control._option.parentName].field.request_form_verifyCode.getValue(),businessType:"BIND_PHONE"},dataType:"json",needNoToken:!0}).done(function(a){var g,v=L[a.state],_=c.control.getTopTime(),y=$('[data-view="phonechange"]');1===a.state?(g=y.find('[data-propertyname="phoneVerificationCode"]'),g.find(".last_child").addClass("btn_disabled").prop("disabled",!0),y.find(".auto_phone").prop("disabled",!0),clearInterval(B),B=setInterval(function(){--_<0?(clearInterval(B),g.find(".first_child").removeClass("input_warning"),g.find(".last_child").removeClass("btn_disabled").removeProp("disabled"),y.find(".auto_phone").removeProp("disabled"),y.find(".verify_tips_count_down").hide(),y.find(".verify_tips_main").show(),e.control.init()):(_===c.control.getTopTime()-1&&y.find(".verify_tips_main").hide(),y.find(".verify_tips_count_down").html("请留意接收手机来电，"+_+"秒后可重试…").show())},1e3)):(v?c.parent.field[v.linkFor].showMessage({message:v.message}):c.parent.field.phoneVerificationCode.showMessage({message:a.message}),e.control.init(),c.parent.field.request_form_verifyCode.getVerifyCode()),e.control.setDisable(!1),h(a)})}function b(){}function k(e){var a=e;v();var c=a.parent.CollectData();X&&(c.challenge=111);var g={challenge:c.challenge,countryCode:c.countryCode,imageVerifyCode:c.request_form_verifyCode,isValidate:c.isValidate,phone:c.phone,phoneVerifyCode:c.phoneVerificationCode||c.autoPhoneVerificationCode};U&&U.isParse&&(g.isParse=U.isParse),c.isValidate&&(g.countryCode=$('[data-view="phonechange"] .area_code').text(),$.lgAjax({headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}","X-Anit-Forge-Token":H||"None","X-Anit-Forge-Code":M||"0"},xhrFields:{withCredentials:!0},url:a.control._option.url,data:JSON.stringify(g),type:"put",dataType:"json",needNoToken:!0}).done(function(v){var _={1:{message:"成功",linkFor:"phoneVerificationCode",level:"info"},202:{message:"输入号码与归属地不匹配",linkFor:"phone",level:"error"},301:{message:"用户不存在",linkFor:"phone",level:"error"},303:{message:"图形验证码不正确",linkFor:"request_form_verifyCode",level:"error"},304:{message:"手机验证码不正确",linkFor:"phoneVerificationCode",level:"error"},305:{message:"手机验证码验证异常,请稍后重试",linkFor:"phoneVerificationCode",level:"error"},306:{message:"手机号已被其他用户绑定了，不能继续绑定",linkFor:"phone",level:"error"}};if(_[v.state]&&1!==v.state?a.parent.field[_[v.state].linkFor].showMessage({message:_[v.state].message}):a.parent.field.phoneVerificationCode.showMessage({message:v.message}),1===v.state){var y=(86==g.countryCode?"":"+"+g.countryCode)+c.phone;$("#changePhonePop").modal("hide"),$("#changePhoneSuccessPop .success-phone").text(y),$("#changePhoneSuccessPop").modal("show"),E&&E(y),J.setClear()}h(v)}))}function F(a){var c=a.userPhone,h=a.resumePhone;a.data&&(U=a.data),E=a.success,J.setClear(),clearInterval(B);var g=$('[data-view="phonechange"]');return g.find(".verify_tips_main").hide(),g.find(".auto_phone").removeProp("disabled"),g.find(".verify_tips_count_down").hide(),"string"==typeof c&&(c=c.replace("+","")),"string"==typeof h&&(h=h.replace("+","")),c!=h?($("#changeUserPhonePop").modal("show"),void $("#changeUserPhonePop").find(".change-phone").text(a.userPhone)):void $("#changePhonePop").modal("show")}var A=require("common/components/util/htoc");require("common/components/jquery-validate/jquery-validate");var R=(require("dep/blueimp-md5/js/md5"),require("common/widgets/lagou-ui/lagou").lg);require("common/widgets/country-code/main");var j,E,N,X,D,H,M,S=require("common/static/js/gt.sense"),B=null,I="",I="https://gate.lagou.com/v1/neirong";$(".HtoC_JS").each(function(){$(this).keyup(function(){A.HtoC($(this))})});var U={},L={1:{message:"验证码已发送，请查收短信",linkFor:"phoneVerificationCode",level:"info"},202:{message:"输入号码与归属地不匹配",linkFor:"phone",level:"error"},303:{message:"图形验证码不正确",linkFor:"request_form_verifyCode",level:"error"},304:{message:"手机验证码不正确",linkFor:"phoneVerificationCode",level:"error"},305:{message:"手机验证码验证异常，请稍后重试",linkFor:"phoneVerificationCode",level:"error"}},O=g(),Q=new R.Views.BaseView({name:"phonebinding",fields:[{name:"phone",validRules:[{mode:"require",data:"",message:"请输入手机号码",trigger:"blur"},{mode:"pattern",isUse:!0,status:!1,data:{phone:/^\d{5,11}$/},message:"输入号码与归属地不匹配"}],controlType:"Phone"},{name:"phoneVerificationCode",linkFor:"phone",totalTips:"该手机获取验证码已达上限，请明天再试",validRules:[{mode:"require",data:"",message:"请输入6位数字验证码"},{mode:"pattern",isUse:!0,status:!1,data:"/^[0-9]{6,6}$/",message:"请输入6位数字验证码"}],url:I+"/account/verifycode/phone",controlType:"PhoneVerificationCode",click:function(e){v(),N&&(X&&D?(D._c_interactive=3,D._c_onSuccess=function(a){C(e,a.challenge)},D.sense()):C(e))}},{name:"autoPhoneVerificationCode",linkFor:"phone",totalTips:"该手机获取验证码已达上限，请明天再试",validRules:[],url:I+"/account/verifycode/phone",controlType:"PhoneVerificationCode",click:function(e){v(),N&&(X&&D?(D._c_interactive=3,D._c_onSuccess=function(a){T(e,a.challenge)},D.sense()):T(e))}},{name:"request_form_verifyCode",validRules:[{mode:"require",data:"",message:"请输入验证码"},{mode:"pattern",data:"/^[a-zA-Z0-9一-龥]{4,4}$/",message:"请输入正确的验证码"}],from:"register",url:window.location.protocol+"//passport.lagou.com/vcode/create",controlType:"VerifyCode"},{name:"submit",validRules:[],controlType:"Button",url:I+"/account/users/0/phoneWithResume",click:y},{name:"concel",validRules:[],controlType:"Button",url:I+"/register/register.json",click:_}]});Q.field.request_form_verifyCode.getVerifyCode();var J=new R.Views.BaseView({name:"phonechange",fields:[{name:"phone",validRules:[{mode:"require",data:"",message:"请输入手机号码",trigger:"blur"},{mode:"pattern",isUse:!0,status:!1,data:{phone:/^\d{5,11}$/},message:"输入号码与归属地不匹配"}],controlType:"Phone"},{name:"phoneVerificationCode",linkFor:"phone",totalTips:"该手机获取验证码已达上限，请明天再试",validRules:[{mode:"require",data:"",message:"请输入6位数字验证码"},{mode:"pattern",isUse:!0,status:!1,data:"/^[0-9]{6,6}$/",message:"请输入6位数字验证码"}],url:I+"/account/verifycode/phone",controlType:"PhoneVerificationCode",click:function(e){v(),N&&(X&&D?(D._c_interactive=3,D._c_onSuccess=function(a){P(e,a.challenge)},D.sense()):P(e))}},{name:"autoPhoneVerificationCode",linkFor:"phone",totalTips:"该手机获取验证码已达上限，请明天再试",validRules:[],url:I+"/account/verifycode/phone",controlType:"PhoneVerificationCode",click:function(e){v(),N&&(X&&D?(D._c_interactive=3,D._c_onSuccess=function(a){V(e,a.challenge)},D.sense()):V(e))}},{name:"request_form_verifyCode",validRules:[{mode:"require",data:"",message:"请输入验证码"},{mode:"pattern",data:"/^[a-zA-Z0-9一-龥]{4,4}$/",message:"请输入正确的验证码"}],from:"register",url:window.location.protocol+"//passport.lagou.com/vcode/create",controlType:"VerifyCode"},{name:"submit",validRules:[],controlType:"Button",url:I+"/account/users/0/phoneWithResume",click:k},{name:"concel",validRules:[],controlType:"Button",click:b}]});$("#bindPhonePop .close").bind("click",function(){$("#bindPhonePop").modal("hide")}),$("#changePhonePop .close").bind("click",function(){$("#changePhonePop").modal("hide")}),$("#changeUserPhonePop .confirmBtn").bind("click",function(){var a=$(this);a.hasClass("disabled")||(a.addClass("disabled"),$.lgAjax({type:"post",url:GLOBAL_DOMAIN.ctx+"/resume/baseUserPhoneWithResume.json",data:U,dataType:"json"}).done(function(c){if(c.success){var h=$.trim($("#changeUserPhonePop").find(".change-phone").text());$("#changeUserPhonePop").modal("hide"),E(h)}a.removeClass("disabled")}).fail(function(){a.removeClass("disabled")}))}),$("#changeUserPhonePop .cancelBtn").bind("click",function(){$("#changeUserPhonePop").modal("hide"),$("#changePhonePop").modal("show")}),a(function(a){return N=a,"nolagou"==N?(X=!0,S({id:"66442f2f720bfc86799932d8ad2eb6c7",https:!0,onError:function(a){console.log("gt error",a)}},function(a){a._c_interactive=0,a.setInfos(function(){return{interactive:a._c_interactive}}).onSuccess(function(c){a._c_onSuccess&&a._c_onSuccess(c)}).onClose(function(){a.reset()}).onError(function(a){console.log(a),window.location.reload()}),D=a}),Q.field.request_form_verifyCode.setVisible(!1),void J.field.request_form_verifyCode.setVisible(!1)):void("lagou"==N&&(X=!1))}),module.exports={showChangePhonePop:F,showBindPhonePop:w}});
/*!mycenter/modules/myresume_new/modules/basic/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/basic/popup/main",["require","exports","module","mycenter/modules/myresume_new/common/utils","mycenter/modules/common/js/validate","mycenter/modules/common/change-phone/main"],function(require,exports,module){function a(){this.data={},this.validate,this.onSuccess=function(){},this.unSuccess=function(){},this.fail=function(){},y.call(this),T.call(this),Y.call(this),A()}var c=require("mycenter/modules/myresume_new/common/utils"),h=require("mycenter/modules/common/js/validate").LgValidate,v=require("mycenter/modules/common/change-phone/main"),b=v.showChangePhonePop,g=v.showBindPhonePop,y=function(){w.call(this),I.call(this),P.call(this),k.call(this),C.call(this),S.call(this),W.call(this),j.call(this),M.call(this),L.call(this)},w=function(){var a=new components.MaxInput({container:$("#nameInput"),lengthValidate:{maxLength:10,isCharacter:!1},onBlur:function(){}});a.validateLength(),this.nameInput=a},I=function(){var a=new components.SelectWrapper({container:$("#birthYearInput"),onchange:function(){$('input[name="birthyear"]').trigger("validate")}});this.birthYearInput=a},P=function(){var a=new components.SelectWrapper({container:$("#birthMonthInput"),onchange:function(){$('input[name="birthmonth"]').trigger("validate")}});this.birthMonthInput=a},k=function(){var a=new components.RadioSelectWrapper({container:$("#sexInput"),onchange:function(){$('input[name="sex"]').trigger("validate")}});this.sexInput=a},C=function(){var a=["sina.com","163.com","qq.com","126.com","vip.sina.com","sina.cn","hotmail.com","gmail.com","sohu.com","139.com","wo.com.cn","189.cn","21cn.com"],c=new components.MaxInput({container:$("#emailInput"),lengthValidate:{maxLength:30,isCharacter:!0},onBlur:function(){}});c.validateLength(),$('input[name="email"]').autocomplete({appendTo:$('input[name="email"]').parents(".input-area-long "),source:function(c,h){var v=c.term,b=[],g=v.indexOf("@"),y=v,w="";v.length<=0||(g>=0&&(y=v.substr(0,g),w=v.substr(g+1)),$.each(a,function(a,c){if(w.length>0){if(c.indexOf(w)>-1&&w!=c){var h=y+"@"+c;h.length<=30&&b.push(h)}}else{var h=y+"@"+c;h.length<=30&&b.push(h)}}),h(b))},minLength:1,close:function(){$("#email").trigger("input"),$('input[name="email"]').trigger("validate")},delay:200}),this.emailInput=c},S=function(){$("#bindPhone").bind("click",function(){var a=$(this);g({success:function(c){a.hide(),$("#changePhone").data("userphone",c).show(),$("#telInput").val(c),$(".basic-tel span").html(c),$(".basic-info__edit").data("phone",c),$('input[name="phone"]').trigger("validate")}})}),$("#changePhone").bind("click",function(){var a=$(this);b({success:function(c){a.data("userphone",c),$("#telInput").val(c),$(".basic-tel span").html(c),$(".basic-info__edit").data("phone",c),$('input[name="phone"]').trigger("validate")},userPhone:a.data("userphone"),resumePhone:$("#telInput").val()})})},W=function(){var a=this,c=new components.CityWrapper({container:$("#selectCity"),onchange:function(){$('input[name="livecity"]').trigger("validate")},beforeShown:function(){a.workYearInput.hide(),E.call(a)},afterHide:function(){}});this.baseInfoCityWrapper=c},j=function(){var a=this,c=(a.validate,new components.RadioSelectWrapper({container:$("#identityInput"),onchange:function(c){2==c?($(".work-year-input").show(),$(".basic-form").animate({scrollTop:$(".basic-form").get(0).scrollHeight})):$(".work-year-input").slideUp(function(){a.workYearInput.set(""),$('.work-year-input input[type="button"]').val("请选择参加工作时间").css({color:"#757575"})}),$('input[name="useridentity"]').trigger("validate")}}));this.identityInput=c},M=function(){var a=this,c=new components.CalendarWrapper({container:$("#workYearInput"),hasNone:!0,onchange:function(){$('input[name="joinworktime"]').trigger("validate")},beforeShown:function(){a.baseInfoCityWrapper.hide(),$(".basic-form").animate({scrollTop:$(".basic-form").get(0).scrollHeight}),E.call(a)},afterShown:function(){},afterHide:function(){}});if(1!=globals.userIdentity){var h=$.trim($("#joinWorkTime").val());parseInt(h)&&c.set(h,!1)}this.workYearInput=c},L=function(){var a=new h({form:".basic-form",rules:{name:{required:!0},birthyear:{required:!0},birthmonth:{required:!0},sex:{required:!0},email:{required:!0,isEmail:function(a){var c=$.trim(a);if(c.length<=0)return!0;var h=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return h.test(c)}},phone:{required:!0,maxlength:function(a){var c=$.trim(a);return c.length>20?!1:!0}},livecity:{required:!0},useridentity:{required:!0},joinworktime:{required:function(){var a=$.trim($('input[name="useridentity"]').val());return 1==a?!0:!!$('input[name="joinworktime"]').val()}}},messages:{email:{isEmail:"请输入有效的邮箱地址"},phone:{isMobile:"请输入有效的手机号码",maxlength:"目前仅支持有效大陆和海外号码"},joinworktime:{required:"必填"}},errorPlacement:function(a,c,h){var v=h.parents(".error-wrapper"),$=v.find("p.error");0==$.length?a&&v.append('<p class="error">'+a+"</p>"):$.html(a).show(),v.addClass("originWarn")},errorRemove:function(a,c,h){var v=h.parents(".error-wrapper"),$=v.find("p.error");v.removeClass("originWarn"),$.hide()}});this.validate=a},T=function(){var a=this;$("#basicPopup .mr_save").bind("click",function(){var h=$(this);if(!h.hasClass("disable")){var v=a.validate.checkAll();if(!v)return void c.scrollToError($(".basic-form"));h.addClass("disable");var b=$.trim($('#basicPopup input[name="name"]').val()),g=$.trim($('#basicPopup input[name="phone"]').val()),y=$.trim($('#basicPopup input[name="email"]').val()),w=$.trim($('#basicPopup input[name="livecity"]').val()),I=$.trim($('#basicPopup input[name="birthyear"]').val()),P=$.trim($('#basicPopup input[name="birthmonth"]').val()),k=$.trim($('#basicPopup input[name="joinworktime"]').val()),C=$.trim($('#basicPopup input[name="sex"]').val()),S=$.trim($('#basicPopup input[name="useridentity"]').val());$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/resume/basic.json",type:"post",data:{name:b,phone:g,email:y,liveCity:w,birthday:I+"."+P,joinWorkTime:k,sex:C,type:1,userIdentity:S},dataType:"json"}).done(function(c){h.removeClass("disable"),c.success?(a.onSuccess(c),$("#basicPopup").modal("hide")):a.unSuccess(c.msg||"请刷新重试")}).fail(function(){h.removeClass("disable"),a.fail()})}})},Y=function(){},_=function(){var a=this,c=a.data;a.nameInput.setValue(V(c.name)),a.birthYearInput.setValue(c.birthYear),a.birthMonthInput.setValue(c.birthMonth),a.sexInput.setValue(c.sex),$('#basicPopup input[name="phone"]').val(c.phone),a.emailInput.setValue(c.email),a.identityInput.setValue(c.userIdentity),a.baseInfoCityWrapper.set(c.liveCity,!0),a.workYearInput.set(c.joinWorkTime,!0)},V=function(a){var c={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return a.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(a,t){return c[t]})},A=function(){$("#basicPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","basicPopup"),$("#isLeaveModal").modal("show")})},E=function(){var a=this;a.birthMonthInput.hide(),a.birthYearInput.hide()};a.prototype.edit=function(a){var h=this;h.data=a.data||{},h.onSuccess=a.success,h.unSuccess=a.unSuccess,h.fail=a.fail,_.call(h),c.setScrollWrapperHeight($(".basic-form")),$("#basicPopup").modal("show");var v=h.validate.checkAll();v?$(".basic-form").scrollTop(0):c.scrollToError($(".basic-form"))},module.exports.basicEdit=new a});
/*!mycenter/modules/myresume_new/modules/right_nav/main.js*/
;define("mycenter/modules/myresume_new/modules/right_nav/main",["require","exports","module","dep/artTemplate/dist/template","common/components/toast/index","common/static/js/pdf/pdf"],function(require,exports,module){function a(a,_){var h=_?_:!1,v=this;$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/nearBy/delNearBy.json",type:"GET",data:{id:a},dataType:"json"}).done(function(a){a.success?(h&&c(h,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume","resumeUpload"),1==$(".mr_up_main").length&&($(".mr_uploaded").hide(),$(".mr_upload").show()),v.remove(),$(".mr_up_main").length<4?$(".upload_add").removeClass("dn"):$(".upload_add").addClass("dn")):B(a.msg||"请刷新重试")})}function c(a,c,_){if(2==D)return!1;D=2,$("#loadingImg").css("visibility","visible");var a=$("#"+_),h=$("#userid").val();this.AllowExt=".doc,.docx,.pdf,.ppt,.pptx,.txt,.wps",this.FileExt=a.val().substr(a.val().lastIndexOf(".")).toLowerCase();var v=a[0].files[0].size;if(""==a.val())return $("#loadingImg").css("visibility","hidden"),!1;if(0!=this.AllowExt&&-1==this.AllowExt.indexOf(this.FileExt))I.error("格式错误，只支持word、pdf、ppt、txt、wps格式文件，请重新上传"),D=1;else if(v>=10485760)I.error("文件大小需小于10M，请重新上传"),D=1;else{$.colorbox.close(),b();var g=new FormData;g.append("newResume",a[0].files[0]),g.append("userId",h),g.append("forPreview",1),M=$.lgAjax({type:"POST",url:c,contentType:!1,processData:!1,data:g,xhrFields:{withCredentials:!0},success:function(a){D=1,json=a,$("#loadingImg").css("visibility","hidden"),json.success?($.lgAjax({url:GLOBAL_DOMAIN.ctx+"/mycenter/resume/setDefaultResume.json",type:"POST",data:{type:"0"}}).done(function(){}),0==$(".mr_up_main").length&&$(".mr_upload").hide(),$(".nearbyResumes-group").append(P.compile(L)({resume:json.content,lgsctx:GLOBAL_DOMAIN.ctx})),$(".mr_up_main").length<4?$(".upload_add").removeClass("dn"):$(".mr_up_main").length>=4&&$(".upload_add").addClass("dn"),$(".mr_uploaded").show(),A(json.content.id)):(w(),D=1)},error:function(){w(),D=1,$(".btn_s").click(function(){window.location.reload()}),$("#colorbox").on("click","#cboxClose",function(){"uploadFile"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")&&window.location.reload()})}})}$("#"+_).val("")}function _(c,_){for(var h=$(".mr_up_main").length,i=0;h>i;i++)if(c===$(".mr_up_main").eq(i).data("id")){a.call($(".mr_up_main").eq(i),c,_);break}}function h(){$("#resumeUpload").click()}function v(){$(document.body).addClass("modal-open"),$(".right-nav-meng-wrap").removeClass("disNone"),$(".resume-wrap .previewLoading").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .preview").removeClass("disNone").siblings().addClass("disNone")}function g(){$(".resume-wrap .onlyPreview-fail").removeClass("disNone").siblings().addClass("disNone")}function b(){$(document.body).addClass("modal-open"),$(".right-nav-meng-wrap").removeClass("disNone"),$(".resume-wrap .loading").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload .btn").addClass("dis-btn").removeClass("reUpload")}function w(){$(".resume-wrap .upload-fail").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload .btn").removeClass("dis-btn").addClass("reUpload")}function C(){N(),$(".resume-wrap .preview-fail").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload .btn").removeClass("dis-btn").addClass("reUpload")}function y(a){$(".resume-wrap .success").removeClass("disNone").siblings().addClass("disNone"),$(".bottom-action .upload .btn").removeClass("dis-btn").addClass("reUpload"),a&&I.success("上传成功")}function N(){for(var a=$(".mr_up_main").length,i=0;a>i;i++)if(G===$(".mr_up_main").eq(i).data("id")){1==$(".mr_up_main").length&&($(".mr_uploaded").hide(),$(".mr_upload").show()),$(".mr_up_main").eq(i).remove(),$(".mr_up_main").length<4?$(".upload_add").removeClass("dn"):$(".upload_add").addClass("dn");break}}function k(){$(".right-nav-meng-wrap").addClass("disNone"),$(document.body).removeClass("modal-open"),G=null,M=null}function j(a,c){$(".preview .download").attr("href",GLOBAL_DOMAIN.ctx+"/nearBy/downloadResume?id="+a),$(".preview .download").attr("title","下载"+c)}function A(a,c){G=a;var _=c?c:!0,$=require("common/static/js/pdf/pdf"),h="https://www.lagou.com/nearBy/previewResume?id="+a;$.GlobalWorkerOptions.workerSrc="https://www.lgstatic.com/lg-static-fed/common/static/js/pdf/pdf.worker.js",O(h,$,_)}function O(a,c,_){function $(){var v=c.getDocument(a),b=document.getElementById("pdfPreview");b.innerHTML="",v.promise.then(function(a){for(var c=[],i=0;i<a.numPages;i++)c.push(i+1);for(var i=0;i<c.length;i++)a.getPage(c[i]).then(function(a){var c=1.5,$=a.getViewport({scale:c}),h=document.createElement("canvas"),v=h.getContext("2d");h.height=$.height,h.width=$.width,h.style.display="block",h.style.margin="0 auto";var g={canvasContext:v,viewport:$},w=a.render(g);b.appendChild(h),w.promise.then(function(){y(_)})})},function(a){console.error(a),G&&(h++,h>2?_?C():g():$())})}var h=0;$()}function B(a){$("#ajaxError h4").html(a||"网络出错啦"),$.colorbox({title:"出错了",href:"#ajaxError",inline:!0})}var L='<div class="mr_up_main" data-id="{{resume.id}}">\n                <i class="icon-attachment"></i>\n                <a href="{{lgsctx}}/nearBy/downloadResume?id={{resume.id}}" class="mr_up_text" title="下载${{resume.nearbyName}}">{{resume.nearbyName}}</a>\n                <div class="mr_more clearfixs">\n                    <ul class="more_action">\n                        <li class="preview">\n                            <a\n                                 data-lg-webtj-_address_id="1nvg"\n                                                              >预览</a>\n                        </li>\n                        <li class="download">\n                            <a\n                                    data-lg-webtj-_address_id="1nvh"\n                                    href="{{lgsctx}}/nearBy/downloadResume?id={{resume.id}}"\n                                    title="下载{{resume.nearbyName}}">下载\n                            </a>\n                        </li>\n                        <li class="delete" data-lg-webtj-_address_id="1nvi">删除</li>\n                    </ul>\n                </div>\n            </div>',P=require("dep/artTemplate/dist/template"),I=require("common/components/toast/index"),T={changeNav:function(){},unSuccess:function(){},fail:function(){}},E=$(".mr-myresume-right .scroll-fix").offset();$(window).scroll(function(){var a=$(window).scrollTop(),c=$(".mr-myresume-left").height()+$("#lg_header").height()+35-486;E&&E.top<=a?($(".mr-myresume-right .scroll-fix").addClass("scroll-fix__top"),a>c?$(".mr-myresume-right .scroll-fix").addClass("scroll-abs__top").css({top:c}):$(".mr-myresume-right .scroll-fix").removeClass("scroll-abs__top").css({top:0})):$(".mr-myresume-right .scroll-fix").removeClass("scroll-fix__top")}),$(".more_action li").on("mousedown",function(e){e.stopPropagation(),$(this).addClass("action_press")}),$(".more_action li").on("mouseup",function(e){e.stopPropagation(),$(this).removeClass("action_press")}),$(".mr_uploaded").on("click",".delete",function(){var a=$(this),c=a.parents(".mr_up_main").data("id");$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/nearBy/checkResumeStatus.json",type:"GET",data:{resumeId:c},dataType:"json"}).done(function(c){if(c.success)switch(c.code){case 1:$(".mr_up_main .mr_md_del_resume").remove(),$("#del_hide_resume_tip .mr_md_del_resume p").html("你确定要删除该附件吗？删除后你设置的默认投递简历也将失效"),a.parents(".mr_up_main").append($("#del_hide_resume_tip").html());break;case 2:$(".mr_up_main .mr_md_del_resume").remove(),$("#del_hide_resume_tip .mr_md_del_resume p").html("附件简历用于离线助手委托投递，删除后服务关闭确认是否删除"),a.parents(".mr_up_main").append($("#del_hide_resume_tip").html())}else B(c.msg||"请刷新重试")})}),$(".right-nav__content").on("click",".right-nav__item",function(e){e.stopPropagation(),$(".right-nav__item").removeClass("active"),$(this).addClass("active");var a=$(this).data("id"),c=$("#"+a).offset().top;$("body,html").animate({scrollTop:c},400)}),$(".right-nav__item .editor-tool").on("click",".add-btn",function(){var a=$(this).parents(".right-nav__item").data("id");$("#"+a+" .mr-template_title .add-btn").trigger("click")}),$(".right-nav__item .editor-tool").on("click",".del-btn",function(e){e.stopPropagation(),$(this).parents(".right-nav__item").append($("#del_hide_tip").html())}),$(".right-nav__item").on("click",".mr_md_del",function(e){e.stopPropagation()}),$(".right-nav__item").on("click",".mr_md_del .mr_del_cel",function(){$(this).parents(".mr_md_del").remove()}),$(".right-nav__item").on("click",".mr_md_del .mr_del_btn",function(){var a=$(this);a.text("删除中").attr("disabled",!0);var c,_=$(this).parents(".right-nav__item").data("id"),h={resumeId:globals.resumeId,type:1,resubmitToken:globals.token},v=$(this),g="false";switch(_){case"proExp":c="/projectExperience/delAllProject.json",g=globals.hasProjectExperiences;break;case"socialPage":c="/resume/deleteAccounts.json",g=globals.hasSocialAccount;break;case"portfolioPage":c="/pictures/deleteAll.json",g=globals.hasPictures;break;default:return}g?$.lgAjax({url:GLOBAL_DOMAIN.ctx+c,type:"POST",data:h,dataType:"json"}).done(function(c){globals.token=c.resubmitToken,c.success?T.changeNav(v,_,c):T.unSuccess(c.msg||"请刷新重试"),a.text("删除中").attr("disabled",!1)}).fail(function(){a.text("删除中").attr("disabled",!1),T.fail()}):(T.changeNav(v,_,0),a.text("删除中").attr("disabled",!1))}),$("body").on("click",".mr_md_del_resume .mr_del_cel",function(){$(this).parents(".mr_md_del_resume").remove()}),$("body").on("click",".mr_md_del_resume .mr_del_btn",function(){var c=$(this),_=c.parents(".mr_up_main").data("id");a.call(c.parents(".mr_up_main"),_)}),$(document).on("change","#resumeUpload",function(){G?_(G,$(this)):c($(this),GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume","resumeUpload")});var D=1,M=null,G=null;$(".reUpload").on("click",function(){$(this).attr("class").indexOf("dis-btn")>=0||h()}),$(".resume-close").on("click",function(){$(".resume-wrap .loading").attr("class").indexOf("disNone")<0?$(".upload-close").removeClass("disNone"):k()}),$(".mr_uploaded").on("click",".preview",function(){var a=$(this).parents(".mr_up_main").data("id"),c=$(this).parents(".mr_up_main").data("name");j(a,c),G=a,A(a,!1),v()}),$(".rePreview").on("click",function(){G&&(A(G,!1),v())}),$(".upload-close .confirmBtn").on("click",function(){$(".upload-close").addClass("disNone"),G?_(G):M.abort(),k()}),$(".upload-close .cancelBtn").on("click",function(){$(".upload-close").addClass("disNone")}),module.exports={del:function(a){a&&(T.changeNav=a.changeNav,T.unSuccess=a.unSuccess,T.fail=a.fail)}}});
/*!mycenter/modules/myresume_new/modules/job_objective/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/job_objective/popup/main",["require","exports","module","mycenter/modules/common/js/validate","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.gctx+"/v1/entry/expectJob/categoryCitySalary",headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},type:"post",data:JSON.stringify({id:a.expectId,positionNameType1:a.positionNameType1,positionNameType2:a.positionNameType2,positionName:a.positionName,expectSalary:a.salarys,expectCity:a.city}),dataType:"json",needNoToken:!0}).done(function(c){1===c.state?(k.success(c,a),$("#jobPopup").modal("hide")):k.unSuccess(c.message||"请刷新重试"),$("#jobPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#jobPopup .mr_save").val("保存").attr("disabled",!1),k.fail()})}function c(a){a&&($("#jobPopup .modal-title span").text("添加"),$("#jobPopup .mr_del").addClass("dn"),j(a),g.scrollInit($("#jobPopup .scroll-content"))),$("#jobPopup .mr_save").val("保存").attr("disabled",!1)}function y(a){a&&($("#jobPopup .modal-title span").text("编辑"),a.showDelBtn?$("#jobPopup .mr_del").removeClass("dn"):$("#jobPopup .mr_del").addClass("dn"),j(a),N.checkAll()),$("#jobPopup .mr_save").val("保存").attr("disabled",!1)}function v(a){a&&(k.success=a.success,k.unSuccess=a.unSuccess,k.fail=a.fail,b(a.id))}function b(a){$.lgAjax({url:GLOBAL_DOMAIN.gctx+"/v1/entry/expectJob/"+a,headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},type:"DELETE",dataType:"json",needNoToken:!0}).done(function(c){1===c.state?(k.success(c,{expectId:a},"del"),$("#jobPopup").modal("hide"),$("#confirmeModal").modal("hide")):k.unSuccess(c.message||"请刷新重试")}).fail(function(){k.fail()})}function j(a){k.success=a.success,k.unSuccess=a.unSuccess,k.fail=a.fail,N.errorRemoveAll();for(var c in a.data)switch(c){case"id":P=a.data[c];break;case"city":_.set(a.data[c]),$('#jobPopup input[name="'+c+'"]').val(a.data[c]);break;case"salarys":var y;switch(a.data[c]){case"2k以下":y="1k-2k";break;case"2k-5k":y="2k-4k";break;case"50k以上":y="50k-100k";break;default:y=a.data[c]}var v=$.trim(y.split("-")[0]),b=$.trim(y.split("-")[1]);if(""===v&&(v="15k",b="20k"),T.setList(h(parseInt(v))),$("#jobPopup input[name=minSalary]").val(v),"--"==b||parseInt(b)<=parseInt(v)){var j=parseInt(v)+1;100==parseInt(v)?($('#jobPopup input[name="maxSalary"]').val("--"),$("#maxSalary").addClass("select-wrapper__disabled")):($('#jobPopup input[name="maxSalary"]').val(j+"k"),$("#maxSalary").removeClass("select-wrapper__disabled"))}else $('#jobPopup input[name="maxSalary"]').val(b);break;default:$('#jobPopup input[name="'+c+'"]').val(a.data[c])}}var P,S=require("mycenter/modules/common/js/validate").LgValidate,g=require("mycenter/modules/myresume_new/common/utils"),k={success:function(){},unSuccess:function(){},fail:function(){}},N=new S({form:"form.jobObjectiveForm",rules:{positionName:{required:!0},positionNameType1:{required:!0},positionNameType2:{required:!0},city:{required:!0},minSalary:{required:!0},maxSalary:{required:!0}},messages:{positionName:{required:"必填"},positionNameType1:{required:"必填"},positionNameType2:{required:"必填"},city:{required:"必填"},minSalary:{required:"必填"},maxSalary:{required:"必填"}},errorPlacement:function(a,c,y){var v=y.parents(".input-area-long"),b=v.find("p.error");0==b.length?a&&v.append('<p class="error">'+a+"</p>"):b.html(a).show(),v.addClass("originWarn")},errorRemove:function(a,c,y){var v=y.parents(".input-area-long"),b=v.find("p.error");v.removeClass("originWarn"),b.remove()}}),_=(new components.ThreeLevelSelect({container:$("#job-category"),onChange:function(a){$('#job-category input[name ="positionName"]').val(a),$('#job-category input[name="positionName"]').trigger("validate"),$('#job-category input[name="positionNameType1"]').trigger("validate"),$('#job-category input[name="positionNameType2"]').trigger("validate")}}),new components.CityWrapper({container:$("#expectJobCity"),onchange:function(a){$('#jobPopup input[name="city"]').val(a),$('#jobPopup input[name="city"]').trigger("validate")}})),h=($.trim($("#proEndInput input").val()),function(a){var c="";if("100K以上"==a)return"<li>100K以上</li>";for(var y=parseInt(a),v=1>y?1:y+1,b=2*y,i=v;b>=i&&!(i>100);i++)c+="<li>"+i+"k</li>";return c}),T=(new components.SelectWrapper({container:$("#minSalary"),onchange:function(a){T.setList(h(parseInt(a)));var c=parseInt(a)+1;""==$('#jobPopup input[name="maxSalary"]').val()||"--"==$('#jobPopup input[name="maxSalary"]').val()||parseInt($('#jobPopup input[name="maxSalary"]').val())<=parseInt(a)?100==parseInt(a)?($('#jobPopup input[name="maxSalary"]').val("--"),$("#maxSalary").addClass("select-wrapper__disabled")):99==parseInt(a)?($('#jobPopup input[name="maxSalary"]').val(c+"k以上"),$("#maxSalary").removeClass("select-wrapper__disabled")):($('#jobPopup input[name="maxSalary"]').val(c+"k"),$("#maxSalary").removeClass("select-wrapper__disabled")):-1==h(parseInt(a)).indexOf($('#jobPopup input[name="minSalary"]').val())&&$('#jobPopup input[name="maxSalary"]').val(c+"k"),$('#jobPopup input[name="minSalary"]').trigger("validate")}}),new components.SelectWrapper({container:$("#maxSalary"),onchange:function(){$('#jobPopup input[name="maxSalary"]').trigger("validate")}}));$("#jobPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","jobPopup"),$("#isLeaveModal").modal("show")}),$("#jobPopup .mr_save").on("click",function(){var c={expectId:P,city:$('#jobPopup input[name="city"]').val(),positionName:$('#jobPopup input[name ="positionName"]').val(),positionNameType1:$('#jobPopup input[name="positionNameType1"]').val(),positionNameType2:$('#jobPopup input[name="positionNameType2"]').val(),salarys:"100k以上"==$('#jobPopup input[name="minSalary"]').val()?$('#jobPopup input[name="minSalary"]').val():$('#jobPopup input[name="minSalary"]').val()+"-"+$('#jobPopup input[name="maxSalary"]').val()};$("#jobPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var y=N.checkAll();y?(c.expectId=P,a(c)):$("#jobPopup .mr_save").val("保存").attr("disabled",!1)}),$("#jobPopup .mr_del").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#confirmeModal").data("closeModal","jobPopup"),$("#confirmeModal").modal("show"),w()});var w=function(){$("#confirmeModal .confirmBtn").off("click"),$("#confirmeModal .confirmBtn").on("click",function(e){e.stopPropagation(),e.preventDefault(),b(P)})};module.exports={edit:y,add:c,del:v}});
/*!mycenter/modules/myresume_new/modules/job_objective/popup_status/main.js*/
;define("mycenter/modules/myresume_new/modules/job_objective/popup_status/main",["require","exports","module","mycenter/modules/common/js/validate"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.gctx+"/v1/entry/expectJob/statusArrivalTime",headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},type:"post",data:JSON.stringify(a),dataType:"json",needNoToken:!0}).done(function(c){1===c.state?(j.success(c,a),$("#jobStatusPopup").modal("hide")):j.unSuccess(c.message||"请刷新重试"),$("#jobStatusPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#jobStatusPopup .mr_save").val("保存").attr("disabled",!1),j.fail()})}function c(a){if(a){S.errorRemoveAll();for(var c in a.data)switch(c){case"id":v=a.data[c];break;case"arrivalTime":void 0===a.data[c]?($('#jobStatusPopup input[name="arrivalTime"]').val("--"),$("#arrivalTime").addClass("select-wrapper__disabled")):($('#jobStatusPopup input[name="arrivalTime"]').val(a.data[c]),$("#arrivalTime").hasClass("select-wrapper__disabled")&&$("#arrivalTime").removeClass("select-wrapper__disabled"));break;default:$('#jobStatusPopup input[name="'+c+'"]').val(a.data[c])}S.checkAll(),j.success=a.success,j.unSuccess=a.unSuccess,j.fail=a.fail}$("#jobStatusPopup .mr_save").val("保存").attr("disabled",!1)}{var v,b=require("mycenter/modules/common/js/validate").LgValidate,j={success:function(){},unSuccess:function(){},fail:function(){}},S=new b({form:"form.jobObjectiveStatusForm",rules:{status:{required:!0},arrivalTime:{required:!0}},messages:{status:{required:"必填"},arrivalTime:{required:"必填"}},errorPlacement:function(a,c,v){var b=v.parents(".input-area-long"),$=b.find("p.error");0==$.length?a&&b.append('<p class="error">'+a+"</p>"):$.html(a).show(),b.addClass("originWarn")},errorRemove:function(a,c,v){var b=v.parents(".input-area-long"),$=b.find("p.error");b.removeClass("originWarn"),$.remove()}});new components.SelectWrapper({container:$("#status"),onchange:function(a){$('#jobStatusPopup input[name="status"]').trigger("validate"),"暂时不换工作"==a?($('#jobStatusPopup input[name="arrivalTime"]').val("--"),$("#arrivalTime").addClass("select-wrapper__disabled")):("--"==$('#jobStatusPopup input[name="arrivalTime"]').val()&&$('#jobStatusPopup input[name="arrivalTime"]').val("随时"),$("#arrivalTime").hasClass("select-wrapper__disabled")&&$("#arrivalTime").removeClass("select-wrapper__disabled"))}}),new components.SelectWrapper({container:$("#arrivalTime"),onchange:function(){$('#jobStatusPopup input[name="arrivalTime"]').trigger("validate")}})}$("#jobStatusPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","jobStatusPopup"),$("#isLeaveModal").modal("show")}),$("#jobStatusPopup .mr_save").on("click",function(){var c={expectStatus:$('#jobStatusPopup input[name="status"]').val(),expectArrivalTime:$('#jobStatusPopup input[name="arrivalTime"]').val()};$("#jobStatusPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var v=S.checkAll();v?a(c):$("#jobStatusPopup .mr_save").val("保存").attr("disabled",!1)}),module.exports={edit:c}});
/*!mycenter/modules/myresume_new/modules/personal_ability/popup/integrative_tag/main.js*/
;define("mycenter/modules/myresume_new/modules/personal_ability/popup/integrative_tag/main",["require","exports","module","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/abilityLabel/save.json",type:"post",data:a,dataType:"json"}).done(function(a){a.success?(v.success(a),$("#integrativeTagPopup").modal("hide"),$("#confirmeModal").modal("hide")):v.unSuccess(a.msg||"请刷新重试"),$("#integrativeTagPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#integrativeTagPopup .mr_save").val("保存").attr("disabled",!1),v.fail()})}function c(a){a&&(v.success=a.success,v.unSuccess=a.unSuccess,v.fail=a.fail,y.tagModalChange(a.data,window.globals.abilityLabelData))}var g=require("mycenter/modules/myresume_new/common/utils"),v={success:function(){},unSuccess:function(){},fail:function(){}};$("#integrativeTagPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","integrativeTagPopup"),$("#isLeaveModal").modal("show")});var y=new g.tagComponent({chosenTag:[],tagAllArr:[],$popElm:$("#integrativeTagPopup"),maxChosenNum:5,hasInput:!0,maxInputLength:6,onSave:"mr_save",saveFunction:function(c){$("#integrativeTagPopup .mr_save").val("保存中...").attr("disabled",!0),a({abilityLabels:c.join(",")})}});module.exports={edit:c}});
/*!common/components/wangEditor-custom/dist/js/wangEditor_v3_custom.js*/
;!function(A,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define("common/components/wangEditor-custom/dist/js/wangEditor_v3_custom",[],a):A.wangEditor=a()}(this,function(){"use strict";function A(A){var a=void 0;return a=document.createElement("div"),a.innerHTML=A,a.children}function a(A){return A&&(A instanceof HTMLCollection||A instanceof NodeList)?!0:!1}function c(A){var c=document.querySelectorAll(A);return a(c)?c:[c]}function h(g){if(g){if(g instanceof h)return g;this.selector=g;var v=g.nodeType,w=[];9===v?w=[g]:1===v?w=[g]:a(g)||g instanceof Array?w=g:"string"==typeof g&&(g=g.replace("/\n/mg","").trim(),w=0===g.indexOf("<")?A(g):c(g));var E=w.length;if(!E)return this;var i=void 0;for(i=0;E>i;i++)this[i]=w[i];this.length=E}}function g(A){return new h(A)}function v(A,a){var c=void 0,h=void 0;for(c in A)if(A.hasOwnProperty(c)&&(h=a.call(A,c,A[c]),h===!1))break}function w(A,a){var i=void 0,c=void 0,h=void 0,g=A.length||0;for(i=0;g>i&&(c=A[i],h=a.call(A,c,i),h!==!1);i++);}function E(A){return A+Math.random().toString().slice(2)}function b(A){return null==A?"":A.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function y(A){return"function"==typeof A}function B(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}function C(A,a){var c=this,h=A.editor;this.menu=A,this.opt=a;var v=g('<div class="w-e-droplist"></div>'),w=a.$title,E=void 0;w&&(E=w.html(),E=dt(h,E),w.html(E),w.addClass("w-e-dp-title"),v.append(w));var b=a.list||[],y=a.type||"list",B=a.onClick||ut,C=g('<ul class="'+("list"===y?"w-e-list":"w-e-block")+'"></ul>');v.append(C),b.forEach(function(A){var a=A.$elem,v=a.html();v=dt(h,v),a.html(v);var w=A.value,E=g('<li class="w-e-item"></li>');a&&(E.append(a),C.append(E),E.on("click",function(){B(w),c.hideTimeoutId=setTimeout(function(){c.hide()},0)}))}),v.on("mouseleave",function(){c.hideTimeoutId=setTimeout(function(){c.hide()},0)}),this.$container=v,this._rendered=!1,this._show=!1}function I(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new C(this,{width:100,$title:g("<p>设置标题</p>"),type:"list",list:[{$elem:g("<h1>H1</h1>"),value:"<h1>"},{$elem:g("<h2>H2</h2>"),value:"<h2>"},{$elem:g("<h3>H3</h3>"),value:"<h3>"},{$elem:g("<h4>H4</h4>"),value:"<h4>"},{$elem:g("<h5>H5</h5>"),value:"<h5>"},{$elem:g("<p>正文</p>"),value:"<p>"}],onClick:function(A){a._command(A)}})}function Q(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new C(this,{width:160,$title:g("<p>字号</p>"),type:"list",list:[{$elem:g('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:g('<span style="font-size: small;">small</span>'),value:"2"},{$elem:g("<span>normal</span>"),value:"3"},{$elem:g('<span style="font-size: large;">large</span>'),value:"4"},{$elem:g('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:g('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(A){a._command(A)}})}function M(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var c=A.config,h=c.fontNames||[];this.droplist=new C(this,{width:100,$title:g("<p>字体</p>"),type:"list",list:h.map(function(A){return{$elem:g('<span style="font-family: '+A+';">'+A+"</span>"),value:A}}),onClick:function(A){a._command(A)}})}function S(A,a){this.menu=A,this.opt=a}function k(A){this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function _(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function D(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function N(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function F(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function T(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function R(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new C(this,{width:120,$title:g("<p>设置列表</p>"),type:"list",list:[{$elem:g('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:g('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(A){a._command(A)}})}function U(A){this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="click",this._active=!1}function Y(A){this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-list-numbered"></i></div>'),this.type="click",this._active=!1}function P(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new C(this,{width:100,$title:g("<p>对齐方式</p>"),type:"list",list:[{$elem:g('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:g('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:g('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(A){a._command(A)}})}function H(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var c=A.config,h=c.colors||[];this._active=!1,this.droplist=new C(this,{width:120,$title:g("<p>文字颜色</p>"),type:"inline-block",list:h.map(function(A){return{$elem:g('<i style="color:'+A+';" class="w-e-icon-pencil2"></i>'),value:A}}),onClick:function(A){a._command(A)}})}function L(A){var a=this;this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var c=A.config,h=c.colors||[];this._active=!1,this.droplist=new C(this,{width:120,$title:g("<p>背景色</p>"),type:"inline-block",list:h.map(function(A){return{$elem:g('<i style="color:'+A+';" class="w-e-icon-paint-brush"></i>'),value:A}}),onClick:function(A){a._command(A)}})}function j(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function G(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function z(A){this.editor=A,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function J(A){this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function O(A){this.editor=A,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function $(A){this.editor=A;var a=E("w-e-img");this.$elem=g('<div class="w-e-menu" id="'+a+'"><i class="w-e-icon-image"></i></div>'),A.imgMenuId=a,this.type="panel",this._active=!1}function V(A){this.editor=A,this.menus={}}function K(e){var A=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,a=void 0;return a=null==A?window.clipboardData&&window.clipboardData.getData("text"):A.getData("text/plain"),b(a)}function X(e,A,a){var c=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,h=void 0,g=void 0;if(null==c?h=window.clipboardData&&window.clipboardData.getData("text"):(h=c.getData("text/plain"),g=c.getData("text/html")),!g&&h&&(g="<p>"+b(h)+"</p>"),g){var v=g.split("</html>");return 2===v.length&&(g=v[0]),g=g.replace(/<(meta|script|link).+?>/gim,""),g=g.replace(/<!--.*?-->/gm,""),g=g.replace(/<!--\[if\s+gte\s+mso\s+(9|1[0])\]>(?:(?!<!\[endif\]-->)[\s\S])*<!\[endif\]-->/gi,""),g=g.replace(/<style(([\s\S])*?)<\/style>/g,""),g=g.replace(/<o:p>(([\s\S])*?)<\/o:p>/g,""),g=g.replace(/\s?data-.+?=('|").+?('|")/gim,""),a&&(g=g.replace(/<img.+?>/gim,"")),A?(g=g.replace(/\s?(class|style|lang|align)=('|")(([\s\S])*?)('|")/gim,""),g=g.replace(/\s?(class|style|lang|align)=(([\s\S])*?)(?=>|\s)/gim,"")):g=g.replace(/\s?class=('|").*?('|")/gim,""),g}}function W(e){var A=[],a=K(e);if(a)return A;var c=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{},h=c.items;return h?(v(h,function(a,c){var h=c.type;/image/i.test(h)&&A.push(c.getAsFile())}),A):A}function Z(A){var a=[],c=A.childNodes()||[];return c.forEach(function(A){var c=void 0,h=A.nodeType;if(3===h&&(c=A.textContent,c=b(c)),1===h){c={},c.tag=A.nodeName.toLowerCase();for(var v=[],w=A.attributes||{},E=w.length||0,i=0;E>i;i++){var y=w[i];v.push({name:y.name,value:y.value})}c.attrs=v,c.children=Z(g(A))}a.push(c)}),a}function et(A){this.editor=A}function tt(A){this.editor=A}function nt(A){this.editor=A,this._currentRange=null}function it(A){this.editor=A,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=A.$textContainerElem,this.$bar=g('<div class="w-e-progress"></div>')}function ot(A){this.editor=A}function At(A,a){if(null==A)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+gt++,this.toolbarSelector=A,this.textSelector=a,this.customConfig={}}var at=function(){"function"!=typeof Object.assign&&(Object.assign=function(A){if(null==A)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(A),c=1;c<arguments.length;c++){var h=arguments[c];if(null!=h)for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(a[g]=h[g])}return a}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var A=(this.document||this.ownerDocument).querySelectorAll(s),i=A.length;--i>=0&&A.item(i)!==this;);return i>-1})},ct=[];h.prototype={constructor:h,forEach:function(A){var i=void 0;for(i=0;i<this.length;i++){var a=this[i],c=A.call(a,a,i);if(c===!1)break}return this},clone:function(A){var a=[];return this.forEach(function(c){a.push(c.cloneNode(!!A))}),g(a)},get:function(A){var a=this.length;return A>=a&&(A%=a),g(this[A])},first:function(){return this.get(0)},last:function(){var A=this.length;return this.get(A-1)},on:function(A,a,c){c||(c=a,a=null);var h=[];return h=A.split(/\s+/),this.forEach(function(A){h.forEach(function(h){return h?(ct.push({elem:A,type:h,fn:c}),a?void A.addEventListener(h,function(e){var A=e.target;A.matches(a)&&c.call(A,e)}):void A.addEventListener(h,c)):void 0})})},off:function(A,a){return this.forEach(function(c){c.removeEventListener(A,a)})},attr:function(A,a){return null==a?this[0].getAttribute(A):this.forEach(function(c){c.setAttribute(A,a)})},addClass:function(A){return A?this.forEach(function(a){var c=void 0;a.className?(c=a.className.split(/\s/),c=c.filter(function(A){return!!A.trim()}),c.indexOf(A)<0&&c.push(A),a.className=c.join(" ")):a.className=A}):this},removeClass:function(A){return A?this.forEach(function(a){var c=void 0;a.className&&(c=a.className.split(/\s/),c=c.filter(function(a){return a=a.trim(),a&&a!==A?!0:!1}),a.className=c.join(" "))}):this},css:function(A,a){var c=A+":"+a+";";return this.forEach(function(a){var h=(a.getAttribute("style")||"").trim(),g=void 0,v=[];h?(g=h.split(";"),g.forEach(function(A){var a=A.split(":").map(function(i){return i.trim()});2===a.length&&v.push(a[0]+":"+a[1])}),v=v.map(function(a){return 0===a.indexOf(A)?c:a}),v.indexOf(c)<0&&v.push(c),a.setAttribute("style",v.join("; "))):a.setAttribute("style",c)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var A=this[0];return A?g(A.children):null},childNodes:function(){var A=this[0];return A?g(A.childNodes):null},append:function(A){return this.forEach(function(a){A.forEach(function(A){a.appendChild(A)})})},remove:function(){return this.forEach(function(A){if(A.remove)A.remove();else{var a=A.parentElement;a&&a.removeChild(A)}})},isContain:function(A){var a=this[0],c=A[0];return a.contains(c)},getSizeData:function(){var A=this[0];return A.getBoundingClientRect()},getNodeName:function(){var A=this[0];return A.nodeName},find:function(A){var a=this[0];return g(a.querySelectorAll(A))},text:function(A){if(A)return this.forEach(function(a){a.innerHTML=A});var a=this[0];return a.innerHTML.replace(/<.*?>/g,function(){return""})},html:function(A){var a=this[0];return null==A?a.innerHTML:(a.innerHTML=A,this)},val:function(){var A=this[0];return A.value.trim()},focus:function(){return this.forEach(function(A){A.focus()})},parent:function(){var A=this[0];return g(A.parentElement)},parentUntil:function(A,a){var c=document.querySelectorAll(A),h=c.length;if(!h)return null;var v=a||this[0];if("BODY"===v.nodeName)return null;var w=v.parentElement,i=void 0;for(i=0;h>i;i++)if(w===c[i])return g(w);return this.parentUntil(A,w)},equal:function(A){return 1===A.nodeType?this[0]===A:this[0]===A[0]},insertBefore:function(A){var a=g(A),c=a[0];return c?this.forEach(function(A){var a=c.parentNode;a.insertBefore(A,c)}):this},insertAfter:function(A){var a=g(A),c=a[0];return c?this.forEach(function(A){var a=c.parentNode;a.lastChild===c?a.appendChild(A):a.insertBefore(A,c.nextSibling)}):this}},g.offAll=function(){ct.forEach(function(A){var a=A.elem,c=A.type,h=A.fn;a.removeEventListener(c,h)})};var st={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo","unorderlist","orderlist"],fontNames:["宋体","微软雅黑","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[污]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"新浪",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[神马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[浮云]"}]},{title:"emoji",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(){return!0},linkImgCheck:function(){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(A){return A},showLinkImg:!0,linkImgCallback:function(){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(){},success:function(){},fail:function(){},error:function(){},timeout:function(){}},qiniu:!1},lt={_ua:navigator.userAgent,isWebkit:function(){var A=/webkit/i;return A.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};B.prototype={constructor:B,onClick:function(){var A=this.editor,a=A.selection.isSelectionEmpty();a&&A.selection.createEmptyRange(),A.cmd.do("bold"),a&&(A.selection.collapseRange(),A.selection.restoreSelection())},tryChangeActive:function(){var A=this.editor,a=this.$elem;A.cmd.queryCommandState("bold")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}};var dt=function(A,a){var c=A.config.langArgs||[],h=a;return c.forEach(function(A){var a=A.reg,c=A.val;a.test(h)&&(h=h.replace(a,function(){return c}))}),h},ut=function(){};C.prototype={constructor:C,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var A=this.menu,a=A.$elem,c=this.$container;if(!this._show){if(this._rendered)c.show();else{var h=a.getSizeData().height||0,g=this.opt.width||100;c.css("margin-top",h+"px").css("width",g+"px"),a.append(c),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var A=this.$container;this._show&&(A.hide(),this._show=!1)}},I.prototype={constructor:I,_command:function(A){var a=this.editor,c=a.selection.getSelectionContainerElem();a.$textElem.equal(c)||a.cmd.do("formatBlock",A)},tryChangeActive:function(){var A=this.editor,a=this.$elem,c=/^h/i,h=A.cmd.queryCommandValue("formatBlock");c.test(h)?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},Q.prototype={constructor:Q,_command:function(A){var a=this.editor;a.cmd.do("fontSize",A)}},M.prototype={constructor:M,_command:function(A){var a=this.editor;a.cmd.do("fontName",A)}};var ht=function(){},pt=[];S.prototype={constructor:S,show:function(){var A=this,a=this.menu;if(!(pt.indexOf(a)>=0)){var c=a.editor,h=g("body"),v=c.$textContainerElem,w=this.opt,E=g('<div class="w-e-panel-container"></div>'),b=w.width||300;E.css("width",b+"px").css("margin-left",(0-b)/2+"px");var y=g('<i class="w-e-icon-close w-e-panel-close"></i>');E.append(y),y.on("click",function(){A.hide()});var B=g('<ul class="w-e-panel-tab-title"></ul>'),C=g('<div class="w-e-panel-tab-content"></div>');E.append(B).append(C);var I=w.height;I&&C.css("height",I+"px").css("overflow-y","auto");var Q=w.tabs||[],M=[],S=[];Q.forEach(function(A,a){if(A){var h=A.title||"",v=A.tpl||"";h=dt(c,h),v=dt(c,v);var w=g('<li class="w-e-item">'+h+"</li>");B.append(w);var E=g(v);C.append(E),w._index=a,M.push(w),S.push(E),0===a?(w._active=!0,w.addClass("w-e-active")):E.hide(),w.on("click",function(){w._active||(M.forEach(function(A){A._active=!1,A.removeClass("w-e-active")}),S.forEach(function(A){A.hide()}),w._active=!0,w.addClass("w-e-active"),E.show())})}}),E.on("click",function(e){e.stopPropagation()}),h.on("click",function(){A.hide()}),v.append(E),Q.forEach(function(a,c){if(a){var h=a.events||[];h.forEach(function(a){var h=a.selector,g=a.type,v=a.fn||ht,w=S[c];w.find(h).on(g,function(e){e.stopPropagation();var a=v(e);a&&A.hide()})})}});var k=E.find("input[type=text],textarea");k.length&&k.get(0).focus(),this.$container=E,this._hideOtherPanels(),pt.push(a)}},hide:function(){var A=this.menu,a=this.$container;a&&a.remove(),pt=pt.filter(function(a){return a===A?!1:!0})},_hideOtherPanels:function(){pt.length&&pt.forEach(function(A){var a=A.panel||{};a.hide&&a.hide()})}},k.prototype={constructor:k,onClick:function(){var A=this.editor,a=void 0;if(this._active){if(a=A.selection.getSelectionContainerElem(),!a)return;A.selection.createRangeByElem(a),A.selection.restoreSelection(),this._createPanel(a.text(),a.attr("href"))}else A.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(A.selection.getSelectionText(),"")},_createPanel:function(A,a){var c=this,h=E("input-link"),v=E("input-text"),w=E("btn-ok"),b=E("btn-del"),y=this._active?"inline-block":"none",B=new S(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+v+'" type="text" class="block" value="'+A+'" placeholder="链接文字"/></td>\n                            <input id="'+h+'" type="text" class="block" value="'+a+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+w+'" class="right">插入</button>\n                                <button id="'+b+'" class="gray right" style="display:'+y+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+w,type:"click",fn:function(){var A=g("#"+h),a=g("#"+v),w=A.val(),E=a.val();return c._insertLink(E,w),!0}},{selector:"#"+b,type:"click",fn:function(){return c._delLink(),!0}}]}]});B.show(),this.panel=B},_delLink:function(){if(this._active){var A=this.editor,a=A.selection.getSelectionContainerElem();if(a){var c=A.selection.getSelectionText();A.cmd.do("insertHTML","<span>"+c+"</span>")}}},_insertLink:function(A,a){var c=this.editor,h=c.config,g=h.linkCheck,v=!0;g&&"function"==typeof g&&(v=g(A,a)),v===!0?c.cmd.do("insertHTML",'<a href="'+a+'" target="_blank">'+A+"</a>"):alert(v)},tryChangeActive:function(){var A=this.editor,a=this.$elem,c=A.selection.getSelectionContainerElem();c&&("A"===c.getNodeName()?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active")))}},_.prototype={constructor:_,onClick:function(){var A=this.editor,a=A.selection.isSelectionEmpty();a&&A.selection.createEmptyRange(),A.cmd.do("italic"),a&&(A.selection.collapseRange(),A.selection.restoreSelection())},tryChangeActive:function(){var A=this.editor,a=this.$elem;A.cmd.queryCommandState("italic")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},D.prototype={constructor:D,onClick:function(){var A=this.editor;A.cmd.do("redo")}},N.prototype={constructor:N,onClick:function(){var A=this.editor,a=A.selection.isSelectionEmpty();a&&A.selection.createEmptyRange(),A.cmd.do("strikeThrough"),a&&(A.selection.collapseRange(),A.selection.restoreSelection())},tryChangeActive:function(){var A=this.editor,a=this.$elem;A.cmd.queryCommandState("strikeThrough")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},F.prototype={constructor:F,onClick:function(){var A=this.editor,a=A.selection.isSelectionEmpty();a&&A.selection.createEmptyRange(),A.cmd.do("underline"),a&&(A.selection.collapseRange(),A.selection.restoreSelection())},tryChangeActive:function(){var A=this.editor,a=this.$elem;A.cmd.queryCommandState("underline")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},T.prototype={constructor:T,onClick:function(){var A=this.editor;A.cmd.do("undo")}},R.prototype={constructor:R,_command:function(A){var a=this.editor,c=a.$textElem;if(a.selection.restoreSelection(),!a.cmd.queryCommandState(A)){a.cmd.do(A);var h=a.selection.getSelectionContainerElem();if("LI"===h.getNodeName()&&(h=h.parent()),/^ol|ul$/i.test(h.getNodeName())!==!1&&!h.equal(c)){var g=h.parent();g.equal(c)||(h.insertAfter(g),g.remove())}}},tryChangeActive:function(){var A=this.editor,a=this.$elem;A.cmd.queryCommandState("insertUnOrderedList")||A.cmd.queryCommandState("insertOrderedList")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},U.prototype={constructor:U,onClick:function(){R.prototype._command.call(this,"insertUnorderedList")}},Y.prototype={constructor:Y,onClick:function(){R.prototype._command.call(this,"insertOrderedList")}},P.prototype={constructor:P,_command:function(A){var a=this.editor;a.cmd.do(A)}},H.prototype={constructor:H,_command:function(A){var a=this.editor;a.cmd.do("foreColor",A)}},L.prototype={constructor:L,_command:function(A){var a=this.editor;a.cmd.do("backColor",A)}},j.prototype={constructor:j,onClick:function(){var A=this.editor,a=A.selection.getSelectionContainerElem(),c=a.getNodeName();if(!lt.isIE())return void("BLOCKQUOTE"===c?A.cmd.do("formatBlock","<P>"):A.cmd.do("formatBlock","<BLOCKQUOTE>"));var h=void 0,v=void 0;return"P"===c?(h=a.text(),v=g("<blockquote>"+h+"</blockquote>"),v.insertAfter(a),void a.remove()):void("BLOCKQUOTE"===c&&(h=a.text(),v=g("<p>"+h+"</p>"),v.insertAfter(a),a.remove()))},tryChangeActive:function(){var A=this.editor,a=this.$elem,c=/^BLOCKQUOTE$/i,h=A.cmd.queryCommandValue("formatBlock");c.test(h)?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},G.prototype={constructor:G,onClick:function(){var A=this.editor,a=A.selection.getSelectionStartElem(),c=A.selection.getSelectionEndElem(),h=A.selection.isSelectionEmpty(),v=A.selection.getSelectionText(),w=void 0;return a.equal(c)?h?void(this._active?this._createPanel(a.html()):this._createPanel()):(w=g("<code>"+v+"</code>"),A.cmd.do("insertElem",w),A.selection.createRangeByElem(w,!1),void A.selection.restoreSelection()):void A.selection.restoreSelection()},_createPanel:function(A){var a=this;A=A||"";var c=A?"edit":"new",h=E("texxt"),v=E("btn"),w=new S(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'+h+'" style="height:145px;;">'+A+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+v+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+v,type:"click",fn:function(){var A=g("#"+h),v=A.val()||A.html();return v=b(v),"new"===c?a._insertCode(v):a._updateCode(v),!0}}]}]});w.show(),this.panel=w},_insertCode:function(A){var a=this.editor;a.cmd.do("insertHTML","<pre><code>"+A+"</code></pre><p><br></p>")},_updateCode:function(A){var a=this.editor,c=a.selection.getSelectionContainerElem();c&&(c.html(A),a.selection.restoreSelection())},tryChangeActive:function(){var A=this.editor,a=this.$elem,c=A.selection.getSelectionContainerElem();if(c){var h=c.parent();"CODE"===c.getNodeName()&&"PRE"===h.getNodeName()?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}}},z.prototype={constructor:z,onClick:function(){this._createPanel()},_createPanel:function(){var A=this,a=this.editor,c=a.config,h=c.emotions||[],v=[];h.forEach(function(a){var c=a.type,h=a.content||[],w="";"emoji"===c&&h.forEach(function(A){A&&(w+='<span class="w-e-item">'+A+"</span>")}),"image"===c&&h.forEach(function(A){var a=A.src,c=A.alt;a&&(w+='<span class="w-e-item"><img src="'+a+'" alt="'+c+'" data-w-e="1"/></span>')}),v.push({title:a.title,tpl:'<div class="w-e-emoticon-container">'+w+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(e){var a=e.target,c=g(a),h=c.getNodeName(),v=void 0;return v="IMG"===h?c.parent().html():"<span>"+c.html()+"</span>",A._insert(v),!0}}]})});var w=new S(this,{width:300,height:200,tabs:v});w.show(),this.panel=w},_insert:function(A){var a=this.editor;a.cmd.do("insertHTML",A)}},J.prototype={constructor:J,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var A=this,a=E("btn"),c=E("row"),h=E("col"),v=new S(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+c+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+h+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+a+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+a,type:"click",fn:function(){var a=parseInt(g("#"+c).val()),v=parseInt(g("#"+h).val());return a&&v&&a>0&&v>0&&A._insert(a,v),!0}}]}]});v.show(),this.panel=v},_insert:function(A,a){var r=void 0,c=void 0,h='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(r=0;A>r;r++){if(h+="<tr>",0===r)for(c=0;a>c;c++)h+="<th>&nbsp;</th>";else for(c=0;a>c;c++)h+="<td>&nbsp;</td>";h+="</tr>"}h+="</table><p><br></p>";var g=this.editor;g.cmd.do("insertHTML",h),g.cmd.do("enableObjectResizing",!1),g.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var A=this,a=E("add-row"),c=E("add-col"),h=E("del-row"),g=E("del-col"),v=E("del-table"),w=new S(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+a+'" class="left">增加行</button>\n                            <button id="'+h+'" class="red left">删除行</button>\n                            <button id="'+c+'" class="left">增加列</button>\n                            <button id="'+g+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+v+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+a,type:"click",fn:function(){return A._addRow(),!0}},{selector:"#"+c,type:"click",fn:function(){return A._addCol(),!0}},{selector:"#"+h,type:"click",fn:function(){return A._delRow(),!0}},{selector:"#"+g,type:"click",fn:function(){return A._delCol(),!0}},{selector:"#"+v,type:"click",fn:function(){return A._delTable(),!0}}]}]});w.show()},_getLocationData:function(){var A={},a=this.editor,c=a.selection.getSelectionContainerElem();if(c){var h=c.getNodeName();if("TD"===h||"TH"===h){var g=c.parent(),v=g.children(),w=v.length;v.forEach(function(a,h){return a===c[0]?(A.td={index:h,elem:a,length:w},!1):void 0});var E=g.parent(),b=E.children(),y=b.length;return b.forEach(function(a,c){return a===g[0]?(A.tr={index:c,elem:a,length:y},!1):void 0}),A}}},_addRow:function(){var A=this._getLocationData();if(A){var a=A.tr,c=g(a.elem),h=A.td,v=h.length,w=document.createElement("tr"),E="",i=void 0;for(i=0;v>i;i++)E+="<td>&nbsp;</td>";w.innerHTML=E,g(w).insertAfter(c)}},_addCol:function(){var A=this._getLocationData();if(A){var a=A.tr,c=A.td,h=c.index,v=g(a.elem),w=v.parent(),E=w.children();E.forEach(function(A){var a=g(A),c=a.children(),v=c.get(h),w=v.getNodeName().toLowerCase(),E=document.createElement(w);g(E).insertAfter(v)})}},_delRow:function(){var A=this._getLocationData();if(A){var a=A.tr,c=g(a.elem);c.remove()}},_delCol:function(){var A=this._getLocationData();if(A){var a=A.tr,c=A.td,h=c.index,v=g(a.elem),w=v.parent(),E=w.children();E.forEach(function(A){var a=g(A),c=a.children(),v=c.get(h);v.remove()})}},_delTable:function(){var A=this.editor,a=A.selection.getSelectionContainerElem();if(a){var c=a.parentUntil("table");c&&c.remove()}},tryChangeActive:function(){var A=this.editor,a=this.$elem,c=A.selection.getSelectionContainerElem();if(c){var h=c.getNodeName();"TD"===h||"TH"===h?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}}},O.prototype={constructor:O,onClick:function(){this._createPanel()},_createPanel:function(){var A=this,a=E("text-val"),c=E("btn"),h=new S(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+a+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+c+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+c,type:"click",fn:function(){var c=g("#"+a),h=c.val().trim();return h&&A._insert(h),!0}}]}]});h.show(),this.panel=h},_insert:function(A){var a=this.editor;a.cmd.do("insertHTML",A+"<p><br></p>")}},$.prototype={constructor:$,onClick:function(){var A=this.editor,a=A.config;a.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var A=this.editor,a=E("width-30"),c=E("width-50"),h=E("width-100"),g=E("del-btn"),v=[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+a+'" class="left">30%</button>\n                        <button id="'+c+'" class="left">50%</button>\n                        <button id="'+h+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+g+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+a,type:"click",fn:function(){var a=A._selectedImg;
return a&&a.css("max-width","30%"),!0}},{selector:"#"+c,type:"click",fn:function(){var a=A._selectedImg;return a&&a.css("max-width","50%"),!0}},{selector:"#"+h,type:"click",fn:function(){var a=A._selectedImg;return a&&a.css("max-width","100%"),!0}},{selector:"#"+g,type:"click",fn:function(){var a=A._selectedImg;return a&&a.remove(),!0}}]}],w=new S(this,{width:300,tabs:v});w.show(),this.panel=w},_createInsertPanel:function(){var A=this.editor,a=A.uploadImg,c=A.config,h=E("up-trigger"),v=E("up-file"),w=E("link-url"),b=E("link-btn"),y=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+h+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+v+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+h,type:"click",fn:function(){var A=g("#"+v),a=A[0];return a?void a.click():!0}},{selector:"#"+v,type:"change",fn:function(){var A=g("#"+v),c=A[0];if(!c)return!0;var h=c.files;return h.length&&a.uploadImg(h),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+w+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+b+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+b,type:"click",fn:function(){var A=g("#"+w),c=A.val().trim();return c&&a.insertLinkImg(c),!0}}]}],B=[];(c.uploadImgShowBase64||c.uploadImgServer||c.customUploadImg)&&window.FileReader&&B.push(y[0]),c.showLinkImg&&B.push(y[1]);var C=new S(this,{width:300,tabs:B});C.show(),this.panel=C},tryChangeActive:function(){var A=this.editor,a=this.$elem;A._selectedImg?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}};var ft={};ft.bold=B,ft.head=I,ft.fontSize=Q,ft.fontName=M,ft.link=k,ft.italic=_,ft.redo=D,ft.strikeThrough=N,ft.underline=F,ft.undo=T,ft.list=R,ft.justify=P,ft.foreColor=H,ft.backColor=L,ft.quote=j,ft.code=G,ft.emoticon=z,ft.table=J,ft.video=O,ft.image=$,ft.unorderlist=U,ft.orderlist=Y,V.prototype={constructor:V,init:function(){var A=this,a=this.editor,c=a.config||{},h=c.menus||[];h.forEach(function(c){var h=ft[c];h&&"function"==typeof h&&(A.menus[c]=new h(a))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var A=this.editor,a=A.$toolbarElem,c=this.menus,h=A.config,g=h.zIndex+1;v(c,function(A,c){var h=c.$elem;h&&(h.css("z-index",g),a.append(h))})},_bindEvent:function(){var A=this.menus,a=this.editor;v(A,function(A,c){var h=c.type;if(h){{var g=c.$elem,v=c.droplist;c.panel}"click"===h&&c.onClick&&g.on("click",function(e){null!=a.selection.getRange()&&c.onClick(e)}),"droplist"===h&&v&&g.on("mouseenter",function(){null!=a.selection.getRange()&&(v.showTimeoutId=setTimeout(function(){v.show()},200))}).on("mouseleave",function(){v.hideTimeoutId=setTimeout(function(){v.hide()},0)}),"panel"===h&&c.onClick&&g.on("click",function(e){e.stopPropagation(),null!=a.selection.getRange()&&c.onClick(e)})}})},changeActive:function(){var A=this.menus;v(A,function(A,a){a.tryChangeActive&&setTimeout(function(){a.tryChangeActive()},100)})}},et.prototype={constructor:et,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function bt(A){var a=this.editor,c=a.$textElem,bt=void 0;return null==A?(bt=c.html(),bt=bt.replace(/\u200b/gm,"").replace(/\s*(\r\n|\n|\r)\s*/gm,"")):(c.html(A),void a.initSelection())},getJSON:function(){var A=this.editor,a=A.$textElem;return Z(a)},text:function yt(A){var a=this.editor,c=a.$textElem,yt=void 0;return null==A?(yt=c.text(),yt=yt.replace(/\u200b/gm,"").replace(/\s*(\r\n|\n|\r)\s*/gi,"")):(c.text("<p>"+A+"</p>"),void a.initSelection())},append:function(A){var a=this.editor,c=a.$textElem;c.append(g(A)),a.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){function A(){a.selection.saveRange(),a.menus.changeActive()}var a=this.editor,c=a.$textElem;c.on("keyup",A),c.on("mousedown",function(){c.on("mouseleave",A)}),c.on("mouseup",function(){A(),c.off("mouseleave",A)})},_enterKeyHandle:function(){function A(A){var a=g("<p><br></p>");a.insertBefore(A),h.selection.createRangeByElem(a,!0),h.selection.restoreSelection(),A.remove()}function a(){var a=h.selection.getSelectionContainerElem(),c=a.parent();if("<code><br></code>"===c.html())return void A(a);if(c.equal(v)){var g=a.getNodeName();"P"!==g&&(a.text()||A(a))}}function c(e){var A=h.selection.getSelectionContainerElem();if(A){var a=A.parent(),c=A.getNodeName(),v=a.getNodeName();if("CODE"===c&&"PRE"===v&&h.cmd.queryCommandSupported("insertHTML")){if(h._willBreakCode===!0){var w=g("<p><br></p>");return w.insertAfter(a),h.selection.createRangeByElem(w,!0),h.selection.restoreSelection(),h._willBreakCode=!1,void e.preventDefault()}var E=h.selection.getRange().startOffset;h.cmd.do("insertHTML","\n"),h.selection.saveRange(),h.selection.getRange().startOffset===E&&h.cmd.do("insertHTML","\n");var b=A.html().length;h.selection.getRange().startOffset+1===b&&(h._willBreakCode=!0),e.preventDefault()}}}var h=this.editor,v=h.$textElem;v.on("keyup",function(e){13===e.keyCode&&a(e)}),v.on("keydown",function(e){return 13!==e.keyCode?void(h._willBreakCode=!1):void c(e)})},_clearHandle:function(){var A=this.editor,a=A.$textElem;a.on("keydown",function(e){if(8===e.keyCode){var A=a.html().toLowerCase().trim();return"<p><br></p>"===A?void e.preventDefault():void 0}}),a.on("keyup",function(e){if(8===e.keyCode){var c=void 0,h=a.html().toLowerCase().trim();h&&"<br>"!==h||(c=g("<p><br/></p>"),a.html(""),a.append(c),A.selection.createRangeByElem(c,!1,!0),A.selection.restoreSelection())}})},_pasteHandle:function(){function A(){var A=Date.now(),a=!1;return A-b>=100&&(a=!0),b=A,a}function a(){b=0}var c=this.editor,h=c.config,g=h.pasteFilterStyle,v=h.pasteTextHandle,w=h.pasteIgnoreImg,E=c.$textElem,b=0;E.on("paste",function(e){if(!lt.isIE()&&(e.preventDefault(),A())){var h=X(e,g,w),E=K(e);E=E.replace(/\n/gm,"<br>");var b=c.selection.getSelectionContainerElem();if(b){var B=b.getNodeName();if("CODE"===B||"PRE"===B)return v&&y(v)&&(E=""+(v(E)||"")),void c.cmd.do("insertHTML","<p>"+E+"</p>");if(!h)return void a();try{v&&y(v)&&(h=""+(v(h)||"")),c.cmd.do("insertHTML",h)}catch(ex){v&&y(v)&&(E=""+(v(E)||"")),c.cmd.do("insertHTML","<p>"+E+"</p>")}}}}),E.on("paste",function(e){if(!lt.isIE()&&(e.preventDefault(),A())){var a=W(e);if(a&&a.length){var h=c.selection.getSelectionContainerElem();if(h){var g=h.getNodeName();if("CODE"!==g&&"PRE"!==g){var v=c.uploadImg;v.uploadImg(a)}}}}})},_tabHandle:function(){var A=this.editor,a=A.$textElem;a.on("keydown",function(e){if(9===e.keyCode&&A.cmd.queryCommandSupported("insertHTML")){var a=A.selection.getSelectionContainerElem();if(a){var c=a.parent(),h=a.getNodeName(),g=c.getNodeName();"CODE"===h&&"PRE"===g?A.cmd.do("insertHTML","    "):A.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var A=this.editor,a=A.$textElem;a.on("click","img",function(){var a=this,c=g(a);"1"!==c.attr("data-w-e")&&(A._selectedImg=c,A.selection.createRangeByElem(c),A.selection.restoreSelection())}),a.on("click  keyup",function(e){e.target.matches("img")||(A._selectedImg=null)})},_dragHandle:function(){var A=this.editor,a=g(document);a.on("dragleave drop dragenter dragover",function(e){e.preventDefault()});var c=A.$textElem;c.on("drop",function(e){e.preventDefault();var a=e.dataTransfer&&e.dataTransfer.files;if(a&&a.length){var c=A.uploadImg;c.uploadImg(a)}})}},tt.prototype={constructor:tt,"do":function(A,a){var c=this.editor;if(c._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),c._useStyleWithCSS=!0),c.selection.getRange()){c.selection.restoreSelection();var h="_"+A;this[h]?this[h](a):this._execCommand(A,a),c.menus.changeActive(),c.selection.saveRange(),c.selection.restoreSelection(),c.change&&c.change()}},_insertHTML:function(A){var a=this.editor,c=a.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",A):c.insertNode?(c.deleteContents(),c.insertNode(g(A)[0])):c.pasteHTML&&c.pasteHTML(A)},_insertElem:function(A){var a=this.editor,c=a.selection.getRange();c.insertNode&&(c.deleteContents(),c.insertNode(A[0]))},_execCommand:function(A,a){document.execCommand(A,!1,a)},queryCommandValue:function(A){return document.queryCommandValue(A)},queryCommandState:function(A){return document.queryCommandState(A)},queryCommandSupported:function(A){return document.queryCommandSupported(A)}},nt.prototype={constructor:nt,getRange:function(){return this._currentRange},saveRange:function(A){if(A)return void(this._currentRange=A);var a=window.getSelection();if(0!==a.rangeCount){var c=a.getRangeAt(0),h=this.getSelectionContainerElem(c);if(h&&"false"!==h.attr("contenteditable")&&!h.parentUntil("[contenteditable=false]")){var g=this.editor,v=g.$textElem;v.isContain(h)&&(this._currentRange=c)}}},collapseRange:function(A){null==A&&(A=!1);var a=this._currentRange;a&&a.collapse(A)},getSelectionText:function(){var A=this._currentRange;return A?this._currentRange.toString():""},getSelectionContainerElem:function(A){A=A||this._currentRange;var a=void 0;return A?(a=A.commonAncestorContainer,g(1===a.nodeType?a:a.parentNode)):void 0},getSelectionStartElem:function(A){A=A||this._currentRange;var a=void 0;return A?(a=A.startContainer,g(1===a.nodeType?a:a.parentNode)):void 0},getSelectionEndElem:function(A){A=A||this._currentRange;var a=void 0;return A?(a=A.endContainer,g(1===a.nodeType?a:a.parentNode)):void 0},isSelectionEmpty:function(){var A=this._currentRange;return A&&A.startContainer&&A.startContainer===A.endContainer&&A.startOffset===A.endOffset?!0:!1},restoreSelection:function(){var A=window.getSelection();A.removeAllRanges(),A.addRange(this._currentRange)},createEmptyRange:function(){var A=this.editor,a=this.getRange(),c=void 0;if(a&&this.isSelectionEmpty())try{lt.isWebkit()?(A.cmd.do("insertHTML","&#8203;"),a.setEnd(a.endContainer,a.endOffset+1),this.saveRange(a)):(c=g("<strong>&#8203;</strong>"),A.cmd.do("insertElem",c),this.createRangeByElem(c,!0))}catch(ex){}},createRangeByElem:function(A,a,c){if(A.length){var h=A[0],g=document.createRange();c?g.selectNodeContents(h):g.selectNode(h),"boolean"==typeof a&&g.collapse(a),this.saveRange(g)}}},it.prototype={constructor:it,show:function(A){var a=this;if(!this._isShow){this._isShow=!0;var c=this.$bar;if(this._isRender)this._isRender=!0;else{var h=this.$textContainer;h.append(c)}Date.now()-this._time>100&&1>=A&&(c.css("width",100*A+"%"),this._time=Date.now());var g=this._timeoutId;g&&clearTimeout(g),g=setTimeout(function(){a._hide()},500)}},_hide:function(){var A=this.$bar;A.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};ot.prototype={constructor:ot,_alert:function(A,a){var c=this.editor,h=c.config.debug,g=c.config.customAlert;if(h)throw new Error("wangEditor: "+(a||A));g&&"function"==typeof g?g(A):alert(A)},insertLinkImg:function(A){var a=this;if(A){var c=this.editor,h=c.config,g=h.linkImgCheck,v=void 0;if(g&&"function"==typeof g&&(v=g(A),"string"==typeof v))return void alert(v);c.cmd.do("insertHTML",'<img src="'+A+'" style="max-width:100%;"/>');var w=document.createElement("img");w.onload=function(){var a=h.linkImgCallback;a&&"function"==typeof a&&a(A),w=null},w.onerror=function(){w=null,a._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'+A+'"，下载该链接失败')},w.onabort=function(){w=null},w.src=A}},uploadImg:function(A){var a=this;if(A&&A.length){var c=this.editor,h=c.config,g=h.uploadImgServer,E=h.uploadImgShowBase64,b=h.uploadImgMaxSize,y=b/1024/1024,B=h.uploadImgMaxLength||1e4,C=h.uploadFileName||"",I=h.uploadImgParams||{},Q=h.uploadImgParamsWithUrl,M=h.uploadImgHeaders||{},S=h.uploadImgHooks||{},k=h.uploadImgTimeout||3e3,_=h.withCredentials;null==_&&(_=!1);var D=h.customUploadImg;if(D||g||E){var N=[],F=[];if(w(A,function(A){var a=A.name,c=A.size;return a&&c?/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(a)===!1?void F.push("【"+a+"】不是图片"):c>b?void F.push("【"+a+"】大于 "+y+"M"):void N.push(A):void 0}),F.length)return void this._alert("图片验证未通过: \n"+F.join("\n"));if(N.length>B)return void this._alert("一次最多上传"+B+"张图片");if(D&&"function"==typeof D)return void D(N,this.insertLinkImg.bind(this));var T=new FormData;if(w(N,function(A){var a=C||A.name;T.append(a,A)}),g&&"string"==typeof g){var R=g.split("#");g=R[0];var U=R[1]||"";v(I,function(A,a){Q&&(g+=g.indexOf("?")>0?"&":"?",g=g+A+"="+a),T.append(A,a)}),U&&(g+="#"+U);var Y=new XMLHttpRequest;if(Y.open("POST",g),Y.timeout=k,Y.ontimeout=function(){S.timeout&&"function"==typeof S.timeout&&S.timeout(Y,c),a._alert("上传图片超时")},Y.upload&&(Y.upload.onprogress=function(e){var A=void 0,a=new it(c);e.lengthComputable&&(A=e.loaded/e.total,a.show(A))}),Y.onreadystatechange=function(){var A=void 0;if(4===Y.readyState){if(Y.status<200||Y.status>=300)return S.error&&"function"==typeof S.error&&S.error(Y,c),void a._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+Y.status);if(A=Y.responseText,"object"!==("undefined"==typeof A?"undefined":mt(A)))try{A=JSON.parse(A)}catch(ex){return S.fail&&"function"==typeof S.fail&&S.fail(Y,c,A),void a._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+A)}if(S.customInsert||"0"==A.errno){if(S.customInsert&&"function"==typeof S.customInsert)S.customInsert(a.insertLinkImg.bind(a),A,c);else{var h=A.data||[];h.forEach(function(A){a.insertLinkImg(A)})}S.success&&"function"==typeof S.success&&S.success(Y,c,A)}else S.fail&&"function"==typeof S.fail&&S.fail(Y,c,A),a._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+A.errno)}},S.before&&"function"==typeof S.before){var P=S.before(Y,c,N);if(P&&"object"===("undefined"==typeof P?"undefined":mt(P))&&P.prevent)return void this._alert(P.msg)}return v(M,function(A,a){Y.setRequestHeader(A,a)}),Y.withCredentials=_,void Y.send(T)}E&&w(A,function(A){var c=a,h=new FileReader;h.readAsDataURL(A),h.onload=function(){c.insertLinkImg(this.result)}})}}}};var gt=1;At.prototype={constructor:At,_initConfig:function(){var A={};this.config=Object.assign(A,st,this.customConfig);var a=this.config.lang||{},c=[];v(a,function(A,a){c.push({reg:new RegExp(A,"img"),val:a})}),this.config.langArgs=c},_initDom:function(){var A=this,a=this.toolbarSelector,c=g(a),h=this.textSelector,v=this.config,w=v.zIndex,b=void 0,y=void 0,B=void 0,C=void 0;null==h?(b=g("<div></div>"),y=g("<div></div>"),C=c.children(),c.append(b).append(y),b.css("background-color","#f1f1f1").css("border","1px solid #ccc"),y.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(b=c,y=g(h),C=y.childNodes()),B=g("<div></div>"),B.attr("contenteditable","true").css("width","100%").css("height","100%"),B.append(C&&C.length?C:g("<p><br></p>")),y.append(B),b.addClass("w-e-toolbar"),y.addClass("w-e-text-container"),y.css("z-index",w),B.addClass("w-e-text");var I=E("toolbar-elem");b.attr("id",I);var Q=E("text-elem");B.attr("id",Q),this.$toolbarElem=b,this.$textContainerElem=y,this.$textElem=B,this.toolbarElemId=I,this.textElemId=Q;var M=!0;y.on("compositionstart",function(){M=!1}),y.on("compositionend",function(){M=!0}),y.on("click keyup",function(){M&&A.change&&A.change()}),b.on("click",function(){this.change&&this.change()}),(v.onfocus||v.onblur)&&(this.isFocus=!1,g(document).on("click",function(e){var a=B.isContain(g(e.target)),c=b.isContain(g(e.target)),h=b[0]==e.target?!0:!1;if(a)A.isFocus||A.onfocus&&A.onfocus(),A.isFocus=!0;else{if(c&&!h)return;A.isFocus&&A.onblur&&A.onblur(),A.isFocus=!1}}))},_initCommand:function(){this.cmd=new tt(this)},_initSelectionAPI:function(){this.selection=new nt(this)},_initUploadImg:function(){this.uploadImg=new ot(this)},_initMenus:function(){this.menus=new V(this),this.menus.init()},_initText:function(){this.txt=new et(this),this.txt.init()},initSelection:function(A){var a=this.$textElem,c=a.children();if(!c.length)return a.append(g("<p><br></p>")),void this.initSelection();var h=c.last();if(A){var v=h.html().toLowerCase(),w=h.getNodeName();if("<br>"!==v&&"<br/>"!==v||"P"!==w)return a.append(g("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(h,!1,!0)},_bindEvent:function(){var A=0,a=this.txt.html(),c=this.config,h=c.onchangeTimeout;h=parseInt(h,10),(!h||0>=h)&&(h=200);var g=c.onchange;g&&"function"==typeof g&&(this.change=function(){var c=this.txt.html();(c.length!==a.length||c!==a)&&(A&&clearTimeout(A),A=setTimeout(function(){g(c),a=c},h))});var v=c.onblur;v&&"function"==typeof v&&(this.onblur=function(){var A=this.txt.html();v(A)});var w=c.onfocus;w&&"function"==typeof w&&(this.onfocus=function(){w()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){g.offAll()}};try{}catch(ex){throw new Error("请在浏览器环境下运行")}at();var vt='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',wt=document.createElement("style");
wt.type="text/css",wt.innerHTML=vt,document.getElementsByTagName("HEAD").item(0).appendChild(wt);var Et=window.wangEditor||At;return Et});
/*!mycenter/modules/common/editor/main.js*/
;define("mycenter/modules/common/editor/main",["require","exports","module","common/components/wangEditor-custom/dist/js/wangEditor_v3_custom","dep/jquery-colorbox/jquery.colorbox"],function(require,exports,module){function c(c){var a=$(c),h=$.trim(a.html()),g=/<[^>]+>/g;0!=h.length&&(g.test(h)&&h.indexOf("<p>")>-1||a.html("<p>"+h+"</p>"))}function a(c){$.colorbox({title:"提示",html:'<div class="tipsContent" style="width: 400px;min-height: 26px;padding: 18px;font-size: 16px;color: #333;line-height: 24px;text-align: center;"><p>'+c+"</p></div>",overlayClose:!1})}var h=require("common/components/wangEditor-custom/dist/js/wangEditor_v3_custom");require("dep/jquery-colorbox/jquery.colorbox"),h.prototype.placeholder={init:function(){var c=this,a=$(c.$textContainerElem[0]),h=$(c.$textElem[0]),g=c.$textContainerElem.attr("placeholder")||"";g&&(c.$placeholder=$('<div class="wangEditor-plugin-placeholder">'+g+"</div>"),!c.txt.text().trim()&&c.txt.html().indexOf("<ul>")<0&&c.txt.html().indexOf("<ol>")<0?c.$placeholder.show():c.$placeholder.hide(),a.prepend(c.$placeholder),a.bind("click",function(){h.focus()}),h.bind("blur",function(){return c.txt.html().indexOf("<ul>")>=0?void c.$placeholder.hide():c.txt.html().indexOf("<ol>")>=0?void c.$placeholder.hide():c.txt.text().trim()?void c.$placeholder.hide():void c.$placeholder.show()}),h.bind("keydown",function(){c.$placeholder.hide()}),h.bind("focus",function(){c.$placeholder.hide()}))}},module.exports.getAnEditor=function(e,g){var v=null;return e?($(e).wrap('<div class="editor_reset"></div>'),c(e),v=new h(g,e),v.customConfig.menus=["unorderlist","orderlist"],v.customConfig.pasteIgnoreImg=!0,v.customConfig.zIndex=100,v.customConfig.pasteTextHandle=function(c){var a=c.replace(/<[^>]+>/g,"");return a=a.replace(/\s+/g," ")},v):(a("初始化编辑器失败"),v)}});
/*!mycenter/modules/myresume_new/modules/personal_ability/popup/self_describe/main.js*/
;define("mycenter/modules/myresume_new/modules/personal_ability/popup/self_describe/main",["require","exports","module","mycenter/modules/common/editor/main","mycenter/modules/common/js/validate","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function a(){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/resume/intro.json",type:"POST",data:{resumeId:globals.resumeId,myRemark:k.txt.html()},dataType:"json"}).done(function(a){$("#selfDescribePopup .mr_save").val("保存").attr("disabled",!1),a.success?(y.success(a),$("#selfDescribePopup").modal("hide")):y.unSuccess(a.msg||"请刷新重试")}).fail(function(){$("#selfDescribePopup .mr_save").val("保存").attr("disabled",!1),y.fail()})}function c(a){if(D.errorRemoveAll(),a){a.data.myRemark&&-1==a.data.myRemark.indexOf("<p>")&&(a.data.myRemark="<p>"+a.data.myRemark+"</p>");var c=a.data.myRemark;c=c.replace(/<br>/g,"<br />"),k.txt.html(c),P.call(k),D.checkAll(),h.blur(),y.success=a.success,y.unSuccess=a.unSuccess,y.fail=a.fail}}var v=require("mycenter/modules/common/editor/main").getAnEditor,b=require("mycenter/modules/common/js/validate").LgValidate,g=require("mycenter/modules/myresume_new/common/utils"),y={success:function(){},unSuccess:function(){},fail:function(){}},D=new b({form:"form.selfDescribeForm",rules:{myRemark:{required:function(){var a=$.trim(k.txt.text()),c=g.getStrLen(a);return!(0==c)},maxLength:function(){var a=$.trim(k.txt.text()),c=g.getStrLen(a);return!(c>300)}}},messages:{myRemark:{required:"必填",maxLength:"请输入150字以内的个人优势"}},errorPlacement:function(a,c,v){"myRemark"==c&&(v=$('div[name="myRemark"]'));var b=v.parents(".input-area-long"),g=b.find("p.error");0==g.length?a&&b.append('<p class="error">'+a+"</p>"):g.html(a).show(),b.addClass("originWarn")},errorRemove:function(a,c,v){"myRemark"==c&&(v=$('div[name="myRemark"]'));var b=v.parents(".input-area-long"),g=b.find("p.error");b.removeClass("originWarn"),g.remove()}});$("#selfDescribePopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","selfDescribePopup"),$("#isLeaveModal").modal("show")});var k=v("#selfDescribePopup .edit-wang_content","#selfDescribePopup .edit-wang_toolbar");k.customConfig.onchange=function(){P.call(k)},k.create(),k.placeholder.init.call(k);var h=$(k.$textElem);h.bind("blur",function(){P.call(k),D.valid("myRemark")});var P=function(){var a=$.trim(this.txt.text()),c=Math.ceil(g.getStrLen(a)/2);$("#selfDescribePopup .edit-wang_tips span").html(c),c>150?$("#selfDescribePopup .edit-wang_tips").addClass("orange"):$("#selfDescribePopup .edit-wang_tips").removeClass("orange")},_=0;$(".selfDescribeForm").on("click",".change-title",function(){$(".selfDescribeForm .example-content").addClass("dn"),_>=9?_=0:_++,$(".selfDescribeForm .example-content").eq(_).removeClass("dn")}),$("#selfDescribePopup .mr_save").on("click",function(e){e.stopPropagation(),e.preventDefault(),$("#selfDescribePopup .mr_save").val("保存中...").attr("disabled",!0);var c=D.checkAll();c?a():$("#selfDescribePopup .mr_save").val("保存").attr("disabled",!1)}),module.exports={edit:c}});
/*!mycenter/modules/myresume_new/modules/project_experience/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/project_experience/popup/main",["require","exports","module","mycenter/modules/common/editor/main","mycenter/modules/common/js/validate","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/projectExperience/save.json",type:"post",data:a,dataType:"json"}).done(function(a){a.success?(_.success(a),$("#proPopup").modal("hide"),$("#confirmeModal").modal("hide")):_.unSuccess(a.msg||"请刷新重试"),$("#proPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#proPopup .mr_save").val("保存").attr("disabled",!1),_.fail()})}function c(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/projectExperience/delProject.json",type:"post",data:a,dataType:"json"}).done(function(a){a.success?(_.success(a),$("#proPopup").modal("hide"),$("#confirmeModal").modal("hide")):_.unSuccess(a.msg||"请刷新重试")}).fail(function(){_.fail()})}function h(a){a&&($("#proPopup .modal-title span").text("添加"),$("#proPopup .mr_del").addClass("dn"),v(a),P.scrollInit($("#proPopup .scroll-content"))),$("#proPopup .mr_save").val("保存").attr("disabled",!1)}function g(a){if(a){$("#proPopup .modal-title span").text("编辑"),$("#proPopup .mr_del").removeClass("dn"),v(a);var c=R.checkAll();c?P.scrollInit($("#proPopup .scroll-content")):P.scrollToError($("#proPopup .scroll-content"))}$("#proPopup .mr_save").val("保存").attr("disabled",!1)}function k(a){a&&(_.success=a.success,_.unSuccess=a.unSuccess,_.fail=a.fail,c({id:a.projectid}))}function v(a){j="",R.errorRemoveAll(),_.success=a.success,_.unSuccess=a.unSuccess,_.fail=a.fail;for(var c in a.data)switch(c){case"projectid":j=a.data[c];break;case"projectRemark":a.data[c]&&-1==a.data[c].indexOf("<p>")&&(a.data[c]="<p>"+a.data[c]+"</p>"),D.txt.html(a.data[c]),P.checkContentLength.call(D,"projectRemark");break;case"dutyRemark":a.data[c]&&-1==a.data[c].indexOf("<p>")&&(a.data[c]="<p>"+a.data[c]+"</p>"),N.txt.html(a.data[c]),P.checkContentLength.call(N,"dutyRemark");break;case"startDate":""==a.data[c]?S.reset():S.set(a.data[c]),C.setLeftBoundary(a.data[c]);break;case"endDate":""==a.data[c]?C.reset():C.set(a.data[c]);break;case"companyName":$('#proPopup input[name="'+c+'"]').val(""==a.data[c]?"不关联公司":a.data[c]);break;case"workExperienceId":$('#proPopup input[name="companyName"]').data("workexperienceid",a.data[c]);default:$('#proPopup input[name="'+c+'"]').val(a.data[c])}var h='<li data-workexperienceid="">不关联公司</li>';$(".work-exp_list").each(function(){h+="<li data-workexperienceid="+$(this).data("workid")+">"+$(this).find(".exp-list_title span:eq(0)").html()+"</li>"}),$("#companyName .select-wrapper__list").html(h),P.setScrollWrapperHeight($(".proExpForm.scroll-content")),$("#proPopup").modal("show")}var y=require("mycenter/modules/common/editor/main").getAnEditor,w=require("mycenter/modules/common/js/validate").LgValidate,P=require("mycenter/modules/myresume_new/common/utils"),_={success:function(){},unSuccess:function(){},fail:function(){}},j="",R=new w({form:"form.proExpForm",rules:{projectName:{required:!0,maxLength:function(a){return!(P.getStrLen(a)>50)}},startDate:{required:!0},endDate:{required:!0},dutyRemark:{required:function(){var a=$.trim(N.txt.text()),c=P.getStrLen(a);return!(0==c)},maxLength:function(){var a=$.trim(N.txt.text()),c=P.getStrLen(a);return!(c>3e3)}},projectRemark:{required:function(){var a=$.trim(D.txt.text()),c=P.getStrLen(a);return!(0==c)},maxLength:function(){var a=$.trim(D.txt.text()),c=P.getStrLen(a);return!(c>3e3)}},projectUrl:{maxLength:function(a){return!(P.getStrLen(a)>60)},checkUrl:function(a){var c=P.isValidUrl(a);return""==a&&(c=!0),c}}},messages:{projectName:{required:"必填",maxLength:"请输入100字符以内的项目名称"},startDate:{required:"必填"},endDate:{required:"必填"},dutyRemark:{required:"必填",maxLength:"请输入1500字以内的你的成就"},projectRemark:{required:"必填",maxLength:"请输入1500字以内的项目描述"},projectUrl:{maxLength:"链接太长，目前只支持120字符以内哦",checkUrl:"请输入有效的项目链接"}},errorPlacement:function(a,c,h){"projectRemark"==c&&(h=$('div[name="projectRemark"]')),"dutyRemark"==c&&(h=$('div[name="dutyRemark"]'));var g=h.parents(".input-area-long"),k=g.find("p.error");0==k.length?a&&g.append('<p class="error">'+a+"</p>"):k.html(a).show(),g.addClass("originWarn")},errorRemove:function(a,c,h){"projectRemark"==c&&(h=$('div[name="projectRemark"]')),"dutyRemark"==c&&(h=$('div[name="dutyRemark"]'));var g=h.parents(".input-area-long"),k=g.find("p.error");g.removeClass("originWarn"),k.remove()}}),L=(new components.SelectWrapper({container:$("#companyName"),onchange:function(a,c,h){$('#proPopup input[name="companyName"]').data("workexperienceid",h.data("workexperienceid")),$('#proPopup input[name="companyName"]').trigger("validate")}}),new P.ScrollPosition({container:$("#proStartInput"),positionContain:".mr_calendar_ym",errValue:46})),S=new components.CalendarWrapper({container:$("#proStartInput"),onchange:function(a){C.setLeftBoundary(a),$('#proPopup input[name="startDate"]').trigger("validate")},beforeShown:function(a){var c=a.parents(".mr_time_area").width();a.find(".mr_calendar_ym ").css("width",c+"px"),L.show(),C.hide()},afterHide:function(){L.hide()}}),b=new P.ScrollPosition({container:$("#proEndInput"),positionContain:".mr_calendar_ym",errValue:46}),C=new components.CalendarWrapper({container:$("#proEndInput"),onchange:function(a){S.setRightBoundary(a),$('#proPopup input[name="endDate"]').trigger("validate")},beforeShown:function(a){var c=a.width(),$=a.parents(".mr_time_area").width(),h=$-c;a.find(".mr_calendar_ym ").css({width:$+"px",left:-h+"px"}),b.show(),S.hide()},afterHide:function(){b.hide()},has2Today:!0}),D=y("#projectRemark .edit-wang_content","#projectRemark .edit-wang_toolbar");D.customConfig.onchange=function(){P.checkContentLength.call(D,"projectRemark")},D.customConfig.pasteTextHandle=function(a){return $("#projectRemark .edit-wang_content").animate({scrollTop:$("#projectRemark .edit-wang_content").get(0).scrollHeight}),a},D.create(),D.placeholder.init.call(D);var E=$(D.$textElem);E.bind("blur",function(){P.checkContentLength.call(D,"projectRemark"),R.valid("projectRemark")});var N=y("#dutyRemark .edit-wang_content","#dutyRemark .edit-wang_toolbar");N.customConfig.onchange=function(){P.checkContentLength.call(N,"dutyRemark")},N.customConfig.pasteTextHandle=function(a){return $("#dutyRemark .edit-wang_content").animate({scrollTop:$("#dutyRemark .edit-wang_content").get(0).scrollHeight}),a},N.create(),N.placeholder.init.call(N);var M=$(N.$textElem);M.bind("blur",function(){P.checkContentLength.call(N,"dutyRemark"),R.valid("dutyRemark")}),$("#proPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","proPopup"),$("#isLeaveModal").modal("show")}),$("#proPopup .mr_save").on("click",function(){var c=P.addUrlHttp($('#proPopup input[name="projectUrl"]').val()),h={projectName:$('#proPopup input[name="projectName"]').val(),workExperienceId:$('#proPopup input[name="companyName"]').data("workexperienceid"),startDate:$('#proPopup input[name="startDate"]').val(),endDate:$('#proPopup input[name="endDate"]').val(),projectUrl:c,dutyRemark:$.trim(N.txt.html()),projectRemark:$.trim(D.txt.html())};$("#proPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var g=R.checkAll();g?(j&&(h.projectid=j),a(h)):(P.scrollToError($("#proPopup .scroll-content")),$("#proPopup .mr_save").val("保存").attr("disabled",!1))}),$("#proPopup .mr_del").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#confirmeModal").data("closeModal","proPopup"),$("#confirmeModal").modal("show"),A()});var A=function(){$("#confirmeModal .confirmBtn").off("click"),$("#confirmeModal .confirmBtn").on("click",function(e){e.stopPropagation(),e.preventDefault(),c({id:j})})};module.exports={edit:g,add:h,del:k}});
/*!mycenter/modules/myresume_new/modules/edu_experience/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/edu_experience/popup/main",["require","exports","module","mycenter/modules/myresume_new/common/utils","mycenter/modules/common/js/validate"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/educationExperience/delEdu.json",type:"post",data:a,dataType:"json"}).done(function(a){a.success?(b.success(a),$("#eduPopup").modal("hide"),$("#confirmeModal").modal("hide")):b.unSuccess(a.msg||"请刷新重试"),$("#eduPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#eduPopup .mr_save").val("保存").attr("disabled",!1),b.fail()})}function c(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/educationExperience/save.json",type:"post",data:a,dataType:"json"}).done(function(a){a.success?(b.success(a,_),$("#eduPopup").modal("hide")):b.unSuccess(a.msg||"请刷新重试"),$("#eduPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#eduPopup .mr_save").val("保存").attr("disabled",!1),b.fail()})}function v(a){a&&($("#eduPopup .modal-title span").text("添加"),$("#eduPopup .mr_del").addClass("dn"),P(a)),$("#eduPopup .mr_save").val("保存").attr("disabled",!1)}function h(a){a&&($("#eduPopup .modal-title span").text("编辑"),a.showDelBtn?$("#eduPopup .mr_del").removeClass("dn"):$("#eduPopup .mr_del").addClass("dn"),P(a),w.checkAll()),$("#eduPopup .mr_save").val("保存").attr("disabled",!1)}function g(c){c&&(a({id:c.id}),b.success=c.success,b.unSuccess=c.unSuccess,b.fail=c.fail)}function P(a){b.success=a.success,b.unSuccess=a.unSuccess,b.fail=a.fail,w.errorRemoveAll(),_="";for(var c in a.data)switch(c){case"id":_=a.data[c];break;case"startDate":""==a.data[c]?j.reset():j.set(a.data[c]),L.setLeftBoundary(a.data[c]);break;case"endDate":""==a.data[c]?L.reset():L.set(a.data[c]);break;case"isUnifiedEntrance":var v=$('#eduPopup input[name="'+c+'"]');"本科"===a.data.education?$("#bachelorDegree").removeClass("dn"):$("#bachelorDegree").addClass("dn"),v.val(""===a.data[c]?1:a.data[c]),0===v.val()?v.parents(".check-box").removeClass("check-box_checked"):v.parents(".check-box").addClass("check-box_checked");break;default:$('#eduPopup input[name="'+c+'"]').val(a.data[c])}}var _,y=require("mycenter/modules/myresume_new/common/utils"),C=require("mycenter/modules/common/js/validate").LgValidate,b={success:function(){},unSuccess:function(){},fail:function(){}},w=new C({form:"form.eduExpForm",rules:{schoolName:{required:!0},professional:{required:!0},education:{required:!0},startDate:{required:!0,isComplete:function(a){return 2===a.slice().split(".").length}},endDate:{required:!0,isComplete:function(a){return 2===a.slice().split(".").length||"至今"===a}}},messages:{startDate:{isComplete:"请选择年月"},endDate:{isComplete:"请选择年月"}},errorPlacement:function(a,c,v){var $=v.parents(".input-area-long"),h=$.find("p.error");0==h.length?a&&$.append('<p class="error">'+a+"</p>"):h.html(a).show(),$.addClass("originWarn")},errorRemove:function(a,c,v){var $=v.parents(".input-area-long"),h=$.find("p.error");$.removeClass("originWarn"),h.hide()}}),k=function(){$(".autoCollege").autocomplete({appendTo:$('input[name="schoolName"]').parents(".input-area-long "),source:function(a,c){new Array;$.lgAjax({type:"POST",async:!1,url:GLOBAL_DOMAIN.ctx+"/college/queryByKeyword.json",data:{keyword:a.term,limit:10}}).done(function(a){var v=[];a.success&&$.each(a.content,function(a,c){v.push(c.name)}),c(v)})},close:function(){$('input[name="schoolName"]').trigger("validate")},minLength:1,delay:200}),$(".eduExpForm").delegate(".autoCollege","blur",function(){""==$(".autoCollege").val()?$(".autoCollege").parent().addClass("originWarn"):$(".autoCollege").parent().removeClass("originWarn")})},D=function(){$(".autoMajor").autocomplete({appendTo:$('input[name="professional"]').parents(".input-area-long "),source:function(a,c){new Array;$.lgAjax({type:"POST",async:!1,url:GLOBAL_DOMAIN.ctx+"/discipline/queryByKeyword.json",data:{keyword:a.term,limit:10}}).done(function(a){var v=[];a.success&&$.each(a.content,function(a,c){v.push(c.name)}),c(v)})},close:function(){$('input[name="professional"]').trigger("validate")},minLength:1,delay:200}),$(".eduExpForm").delegate(".autoMajor","blur",function(){""==$(".autoMajor").val()?$(".autoMajor").parent().addClass("originWarn"):$(".autoMajor").parent().removeClass("originWarn")})},A=function(){new components.SelectWrapper({container:$("#degreeInput"),onchange:function(a){$('input[name="education"]').trigger("validate"),"本科"===a?$("#bachelorDegree").removeClass("dn"):$("#bachelorDegree").addClass("dn")}})},M=new y.ScrollPosition({container:$("#eduStartInput"),positionContain:".mr_calendar_ym",errValue:46}),j=new components.CalendarWrapper({container:$("#eduStartInput"),onchange:function(a){L.setLeftBoundary(a),$('#eduPopup input[name="startDate"]').trigger("validate")},beforeShown:function(a){var c=a.parents(".mr_time_area").width();a.find(".mr_calendar_ym ").css("width",c+"px"),M.show();var v=a.find('input[name="startDate"]').val();(""===v||-1===v.indexOf("."))&&j.setRightBoundary(globals.eduYearsEnd.split(",")[0]+".12"),L.hide()},afterHide:function(){M.hide()}}),S=new y.ScrollPosition({container:$("#eduEndInput"),positionContain:".mr_calendar_ym",errValue:46}),L=new components.CalendarWrapper({container:$("#eduEndInput"),onchange:function(a){console.log(a),j.setRightBoundary(a),$('#eduPopup input[name="endDate"]').trigger("validate")},beforeShown:function(a){var c=a.width(),v=a.parents(".mr_time_area").width(),$=v-c;a.find(".mr_calendar_ym ").css({width:v+"px",left:-$+"px"}),S.show();var h=a.find('input[name="endDate"]').val();(""===h||-1===h.indexOf("."))&&L.setRightBoundary(globals.eduYearsEnd.split(",")[0]+".12"),L.hide()},afterHide:function(){S.hide()}});k(),D(),A(),$("#eduPopup .check-box").on("click",function(){var a=$(this),c=a.find("input");a.hasClass("check-box_checked")?(a.removeClass("check-box_checked"),c.val(0)):(a.addClass("check-box_checked"),c.val(1))}),$("#eduPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","eduPopup"),$("#isLeaveModal").modal("show")}),$("#eduPopup .mr_del").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#confirmeModal").data("closeModal","eduPopup"),$("#confirmeModal").modal("show"),B()});var B=function(){$("#confirmeModal .confirmBtn").off("click"),$("#confirmeModal .confirmBtn").on("click",function(e){e.stopPropagation(),e.preventDefault(),a({id:_})})};$("#eduPopup .mr_save").on("click",function(){var a=$('#eduPopup input[name="education"]').val(),v={schoolName:$('#eduPopup input[name="schoolName"]').val(),professional:$('#eduPopup input[name="professional"]').val(),education:a,endDate:$('#eduPopup input[name="endDate"]').val(),startDate:$('#eduPopup input[name="startDate"]').val(),isUnifiedEntrance:"本科"==a?$.trim($('#eduPopup input[name="isUnifiedEntrance"]').val()):""};$("#eduPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var h=w.checkAll();h?(_&&(v.id=_),c(v)):$("#eduPopup .mr_save").val("保存").attr("disabled",!1)}),module.exports={eduEdit:h,eduAdd:v,eduDel:g}});
/*!mycenter/modules/myresume_new/modules/social_page/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/social_page/popup/main",["require","exports","module","mycenter/modules/myresume_new/common/utils","mycenter/modules/common/js/validate"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/resume/saveSocialAccount.json",type:"POST",data:{socialAccountJson:JSON.stringify(a)},dataType:"json"}).done(function(a){a.success?(y.success(a),$("#socialPopup").modal("hide"),$("#confirmeModal").modal("hide")):y.unSuccess(a.msg||"请刷新重试"),$("#socialPopup").find(".mr_save").val("保 存").attr("disabled",!1)})}function c(c){h.errorRemoveAll(),c&&(v=c.data,"add"==c.status?(g=null,$("#socialPopup .modal-title span").text("添加"),$("#socialPopup .mr_del").addClass("dn"),$("#socialPopup .social-page__input").val("")):"edit"==c.status?(g=parseInt(c.editData.index)-1,$("#socialPopup .modal-title span").text("编辑"),$("#socialPopup .mr_del").removeClass("dn"),$("#socialPopup .social-page__input").val(c.editData.url)):"delSigle"==c.status&&(g=parseInt(c.editData.index)-1,"number"==typeof g&&(v.splice(g,1),a(v))),$("#socialPopup .mr_save").val("保存").attr("disabled",!1),y.success=c.success,y.unSuccess=c.unSuccess,y.fail=c.fail)}var v,g,_=require("mycenter/modules/myresume_new/common/utils"),P=require("mycenter/modules/common/js/validate").LgValidate,y={success:function(){},unSuccess:function(){},fail:function(){}},h=new P({form:"form.accountUrlForm",rules:{accountUrl:{required:!0,maxLength:function(){var a=$.trim($("#socialPopup .social-page__input").val());return!(_.getStrLen(a)>1024)},isValid:function(){var a=$.trim($("#socialPopup .social-page__input").val());return _.isValidUrl(a)},isRepeat:function(){var a=_.addUrlHttp($.trim($("#socialPopup .social-page__input").val())),c=!0;if(0!=v.length&&null==g)for(var i=0;i<v.length;i++)a===v[i].accountUrl&&(c=!1);return c}}},messages:{accountUrl:{required:"必填",maxLength:"不能超过1024字符",isValid:"请输入合法链接",isRepeat:"请不要重复提交"}},errorPlacement:function(a,c,v){var $=v.parents(".input-area-long"),g=$.find("p.error");0==g.length?a&&$.append('<p class="error">'+a+"</p>"):g.html(a).show(),$.addClass("originWarn")},errorRemove:function(a,c,v){var $=v.parents(".input-area-long"),g=$.find("p.error");$.removeClass("originWarn"),g.remove()}});$("#socialPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","socialPopup"),$("#isLeaveModal").modal("show")}),$("#socialPopup .mr_del").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#confirmeModal").data("closeModal","socialPopup"),$("#confirmeModal").modal("show"),U()}),$("#socialPopup").delegate(".social-page__input","blur",function(){$('#socialPopup input[name="accountUrl"]').trigger("validate")}),$("#socialPopup .mr_save").on("click",function(){$("#socialPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var c=$("#socialPopup .social-page__input").val(),P=h.checkAll();P?("number"==typeof g?v[g].accountUrl=_.addUrlHttp(c):v.push({accountUrl:_.addUrlHttp(c)}),a(v)):$("#socialPopup .mr_save").val("保存").attr("disabled",!1)});var U=function(){$("#confirmeModal .confirmBtn").off("click"),$("#confirmeModal .confirmBtn").on("click",function(e){e.stopPropagation(),e.preventDefault(),"number"==typeof g&&(v.splice(g,1),a(v))})};module.exports={initialState:c}});
/*!mycenter/modules/myresume_new/modules/work_experience/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/work_experience/popup/main",["require","exports","module","mycenter/modules/common/editor/main","mycenter/modules/common/js/validate","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function a(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/workExperience/save.json",type:"post",data:a,dataType:"json"}).done(function(c){c.success?(""==L?_.success(c):_.success(c,L,"edit",a.companyName),$("#workPopup").modal("hide"),$("#confirmeModal").modal("hide")):_.unSuccess(c.msg||"请刷新重试"),$("#workPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){$("#workPopup .mr_save").val("保存").attr("disabled",!1),_.fail()})}function c(a){$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/workExperience/delExp.json",type:"post",data:a,dataType:"json"}).done(function(c){c.success?(_.success(c,a.id,"del"),$("#workPopup").modal("hide"),$("#confirmeModal").modal("hide")):_.unSuccess(c.msg||"请刷新重试"),$("#workPopup .mr_save").val("保存").attr("disabled",!1)}).fail(function(){_.fail()})}function k(a){a&&($("#workPopup .modal-title span").text("添加"),$("#workPopup .mr_del").addClass("dn"),h(a),C.scrollInit($("#workPopup .scroll-content"))),$("#workPopup .mr_save").val("保存").attr("disabled",!1)}function g(a){if(a){$("#workPopup .modal-title span").text("编辑"),"work"==window.globals.identity&&($(".work-exp_list").length>1?$("#workPopup .mr_del").removeClass("dn"):$("#workPopup .mr_del").addClass("dn")),h(a);var c=A.checkAll();c?C.scrollInit($("#workPopup .scroll-content")):C.scrollToError($("#workPopup .scroll-content"))}$("#workPopup .mr_save").val("保存").attr("disabled",!1)}function w(a){_.success=a.success,_.unSuccess=a.unSuccess,_.fail=a.fail,c({id:a.workId})}function h(a){L="",A.errorRemoveAll(),_.success=a.success,_.unSuccess=a.unSuccess,_.fail=a.fail,T=""!=a.data.positionType1&&""!=a.data.positionType2?a.data.positionType1+"-"+a.data.positionType2:"";for(var c in a.data)switch(c){case"id":L=a.data[c];break;case"isItVisible":1==a.data[c]||""==a.data[c]?$("#workPopup .check-box").addClass("check-box_checked"):$("#workPopup .check-box").removeClass("check-box_checked"),$('#workPopup input[name="'+c+'"]').val(a.data[c]);break;case"companyIndustry":y(a.data[c]);break;case"skillLabels":v(a.data[c]);break;case"startDate":""==a.data[c]?N.reset():N.set(a.data[c]),D.setLeftBoundary(a.data[c]);break;case"endDate":""==a.data[c]?D.reset():D.set(a.data[c]);break;case"workContent":a.data[c]&&-1==a.data[c].indexOf("<p>")&&(a.data[c]="<p>"+a.data[c]+"</p>"),E.txt.html(a.data[c]),C.checkContentLength.call(E,"workContent");break;default:$('#workPopup input[name="'+c+'"]').val(a.data[c])}C.setScrollWrapperHeight($(".workExpForm.scroll-content")),$("#workPopup").modal("show")}function y(a){if(0==a.length)$(".company-industry .empty-tags").removeClass("dn"),$(".company-industry .edit-tag-btn").addClass("dn"),$(".company-industry .tag-area").html("");else{$(".company-industry .empty-tags").addClass("dn"),$(".company-industry .edit-tag-btn").removeClass("dn");for(var c="",i=0;i<a.length;i++)c+='<span class="tag">'+a[i]+"</span>";c+='<span class="edit-tag-btn chose-tag_btn">修改</span>',$(".company-industry .tag-area").html(c)}}function v(a){if(0==a.length)$(".skill-labels .empty-tags").removeClass("dn"),$(".skill-labels .edit-tag-btn").addClass("dn"),$(".skill-labels .tag-area").html("");else{$(".skill-labels .empty-tags").addClass("dn"),$(".skill-labels .edit-tag-btn").removeClass("dn");for(var c="",i=0;i<a.length;i++)c+='<span class="tag">'+a[i]+"</span>";c+='<span class="edit-tag-btn chose-tag_btn">修改</span>',$(".skill-labels .tag-area").html(c)}}var b=require("mycenter/modules/common/editor/main").getAnEditor,P=require("mycenter/modules/common/js/validate").LgValidate,C=require("mycenter/modules/myresume_new/common/utils"),_={success:function(){},unSuccess:function(){},fail:function(){}},L="",T="",A=new P({form:"form.workExpForm",rules:{companyName:{required:!0},industryLabel:{required:function(){return 0==!$(".company-industry .tag-area .tag").length}},positionType:{required:!0},positionName:{required:!0},startDate:{required:!0},endDate:{required:!0},workContent:{required:function(){var a=$.trim(E.txt.text()),c=C.getStrLen(a);return!(0==c)},maxLength:function(){var a=$.trim(E.txt.text()),c=C.getStrLen(a);return!(c>3e3)}},skillLabel:{required:function(){return 0==!$(".skill-labels .tag-area .tag").length}}},messages:{companyName:{required:"请输入有效的公司名称"},industryLabel:{required:"必填"},positionType:{required:"必填"},positionName:{required:"必填"},startDate:{required:"必填"},endDate:{required:"必填"},workContent:{required:"必填",maxLength:"请输入1500字以内的工作内容"},skillLabel:{required:"必填"}},errorPlacement:function(a,c,k){"workContent"==c&&(k=$('div[name="workContent"]')),"industryLabel"==c&&(k=$("#workPopup .company-industry .tag-area")),"skillLabel"==c&&(k=$("#workPopup .skill-labels .tag-area"));var g=k.parents(".input-area-long"),w=g.find("p.error");0==w.length?a&&g.append('<p class="error">'+a+"</p>"):w.html(a).show(),g.addClass("originWarn")},errorRemove:function(a,c,k){"workContent"==c&&(k=$('div[name="workContent"]')),"industryLabel"==c&&(k=$("#workPopup .company-industry .tag-area")),"skillLabel"==c&&(k=$("#workPopup .skill-labels .tag-area"));var g=k.parents(".input-area-long"),w=g.find("p.error");g.removeClass("originWarn"),w.remove()}});$("#workPopup .close").on("click",function(){$("#isLeaveModal").data("closeModal","workPopup"),$("#isLeaveModal").modal("show")}),$('#workPopup input[name="companyName"]').autocomplete({appendTo:$('.workExpForm input[name="companyName"]').parents(".input-area-long"),source:function(a,c){var k=new Array;$.lgAjax({type:"POST",async:!1,url:GLOBAL_DOMAIN.sctx+"/suggestion",dataType:"jsonp",jsonp:"suggestCompanyback",data:{input:a.term,type:2,num:10}}).done(function(a){if(null!=a&&void 0!=a)for(var $ in a){var g=a[$];if(null!=g&&void 0!=g&&g.length>0)for(var i in g)k.push(g[i].cont)}c(k)})},close:function(){$('#workPopup input[name="companyName"]').trigger("validate")},open:function(){},minLength:1,delay:200}),$("#workPopup .check-box").on("click",function(){var a=$(this),c=a.find("input");a.hasClass("check-box_checked")?(a.removeClass("check-box_checked"),c.val(2)):(a.addClass("check-box_checked"),c.val(1))});new C.PositionThreeSelect({btnContainer:$("#work-category"),modalContainer:$("#positionPopup"),onChange:function(a){T=$('#work-category input[name="positionType1"]').val()+"-"+$('#work-category input[name="positionType2"]').val(),$('#workPopup input[name ="positionName"]').val(a.thirdSelect.attr("title")),$('#work-category input[name="positionType"]').trigger("validate"),$('#work-category input[name="positionType1"]').trigger("validate"),$('#work-category input[name="positionType2"]').trigger("validate")}});$('#workPopup input[name="positionName"]').autocomplete({appendTo:$('.workExpForm input[name="positionName"]').parents(".input-area-long"),source:function(a,c){new Array;$.lgAjax({type:"POST",async:!1,url:GLOBAL_DOMAIN.ctx+"/positionLabel/positions.json",data:{keyword:a.term,limit:10}}).done(function(a){var k=[];a.success&&(k=a.content),c(k)})},close:function(){$('#workPopup [name="positionName"]').trigger("validate")},minLength:1,delay:200});var S=new C.ScrollPosition({container:$("#workStartInput"),positionContain:".mr_calendar_ym",errValue:46}),N=new components.CalendarWrapper({container:$("#workStartInput"),onchange:function(a){D.setLeftBoundary(a),$('#workPopup input[name="startDate"]').trigger("validate")},beforeShown:function(a){var c=a.parents(".mr_time_area").width();a.find(".mr_calendar_ym ").css("width",c+"px"),S.show(),D.hide()},afterHide:function(){S.hide()}}),I=new C.ScrollPosition({container:$("#workEndInput"),positionContain:".mr_calendar_ym",errValue:46}),D=new components.CalendarWrapper({container:$("#workEndInput"),onchange:function(a){N.setRightBoundary(a),$('#workPopup input[name="endDate"]').trigger("validate")},beforeShown:function(a){var c=a.width(),k=a.parents(".mr_time_area").width(),$=k-c;a.find(".mr_calendar_ym ").css({width:k+"px",left:-$+"px"}),I.show(),N.hide()},afterHide:function(){I.hide()},has2Today:!0}),M=new C.tagComponent({chosenTag:[],tagAllArr:[],$popElm:$("#companyIndustryPopup"),maxChosenNum:1,onSave:"mr_save",saveFunction:function(a){y(a),A.valid("industryLabel"),$("#companyIndustryPopup").modal("hide")}});$(".company-industry").on("click",".chose-tag_btn",function(){var a=[];$(this).hasClass("edit-tag-btn")&&$(".company-industry .tag-area .tag").each(function(){a.push($.trim($(this).html()))}),M.tagModalChange(a,window.globals.companyIndustryData)});var j=new C.tagComponent({tagChosenArr:[],tagAllArr:[],$popElm:$("#skillLabelsPopup"),maxChosenNum:3,hasInput:!0,maxInputLength:8,onSave:"mr_save",saveFunction:function(a){v(a),A.valid("skillLabel"),$("#skillLabelsPopup").modal("hide")}});$(".skill-labels").on("click",".chose-tag_btn",function(){if(""==$('#workPopup input[name="positionType"]').val()){var a=$('#workPopup input[name="positionType"]').parents(".input-area-long"),c=a.find("p.error");0==c.length?a.append('<p class="error">请在选择技能标签前先 填写职位类型</p>'):c.html("请在选择技能标签前先 填写职位类型").show(),a.addClass("originWarn")}else{var k=[];$(this).hasClass("edit-tag-btn")&&$(".skill-labels .tag-area .tag").each(function(){k.push($.trim($(this).html()))}),j.tagModalChange(k,window.globals.skillLabelData[T])}});var E=b("#workPopup .edit-wang_content","#workPopup .edit-wang_toolbar");E.customConfig.onchange=function(){C.checkContentLength.call(E,"workContent")},E.customConfig.pasteTextHandle=function(a){return $("#workContent .edit-wang_content").animate({scrollTop:$("#workContent .edit-wang_content").get(0).scrollHeight}),a},E.create(),E.placeholder.init.call(E);var O=$(E.$textElem);O.bind("blur",function(){C.checkContentLength.call(E,"workContent"),A.valid("workContent")});var B=0;$("#workPopup ").on("click",".change-title",function(){$("#workPopup .example-content").addClass("dn"),B>=9?B=0:B++,$("#workPopup .example-content").eq(B).removeClass("dn")}),$("#workPopup .mr_save").on("click",function(){var c=[],k=[];$(".company-industry .tag-area .tag").each(function(){c.push($(this).html())}),$(".skill-labels .tag-area .tag").each(function(){k.push($.trim($(this).html()))});var g={requestSource:2,companyName:$('#workPopup input[name="companyName"]').val(),isItVisible:$('#workPopup input[name="isItVisible"]').val(),companyIndustry:c.join(","),department:$.trim($('#workPopup input[name="department"]').val()),positionType:$.trim($('#workPopup input[name="positionType"]').val()),positionType1:$.trim($('#workPopup input[name="positionType1"]').val()),positionType2:$.trim($('#workPopup input[name="positionType2"]').val()),positionName:$.trim($('#workPopup input[name="positionName"]').val()),startDate:$.trim($('#workPopup input[name="startDate"]').val()),endDate:$.trim($('#workPopup input[name="endDate"]').val()),skillLabels:k.join(","),workContent:$.trim(E.txt.html())};$("#workPopup").find(".mr_save").val("保存中...").attr("disabled",!0);var w=A.checkAll();w?(L&&(g.id=L),a(g)):(C.scrollToError($("#workPopup .scroll-content")),$("#workPopup .mr_save").val("保存").attr("disabled",!1))}),$("#workPopup .mr_del").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#confirmeModal").data("closeModal","workPopup"),$("#confirmeModal").modal("show"),F()});var F=function(){$("#confirmeModal .confirmBtn").off("click"),$("#confirmeModal .confirmBtn").on("click",function(e){e.stopPropagation(),e.preventDefault(),c({id:L})})};module.exports={edit:g,add:k,del:w}});
/*!mycenter/modules/myresume_new/modules/portfolio/popup/main.js*/
;define("mycenter/modules/myresume_new/modules/portfolio/popup/main",["require","exports","module","mycenter/modules/myresume_new/common/utils"],function(require,exports,module){function c(c){c&&(A.success=c.success,A.fail=c.fail)}function a(c){A.success=c.success,A.fail=c.fail,c&&$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/pictures/delete.json",type:"POST",data:{id:Number(c.id)},dataType:"json"}).done(function(c){c.success?A.success(c):A.fail(c.msg||"请刷新重试")}).fail(function(){A.fail()})}var y=require("mycenter/modules/myresume_new/common/utils"),A={success:function(){},fail:function(){}};$(document).on("change","#portfolioUpload",function(){y.imageUpload(this,GLOBAL_DOMAIN.ctx+"/pictures/upload.json",A.success,A.fail)}),module.exports={add:c,del:a}});
/*!mycenter/modules/myresume_new/main.js*/
;define("mycenter/modules/myresume_new/main",["require","exports","module","mycenter/modules/myresume_new/common/modal","mycenter/modules/common/js/common","mycenter/modules/common/js/components","mycenter/modules/common/js/libs/jquery.lib","dep/artTemplate/dist/template","common/components/jquery-ajaxfileupload/ajaxfileupload","mycenter/modules/common/js/jquery.cropzoom","mycenter/modules/common/js/jquery-migrate-1.1.1","mycenter/modules/common/js/jquery-ui-1.8.custom.min","mycenter/modules/myresume_new/common/galpop/jquery.galpop","mycenter/modules/myresume_new/modules/body-ad/main","mycenter/modules/myresume_new/modules/basic/popup/main","mycenter/modules/myresume_new/modules/right_nav/main","mycenter/modules/myresume_new/modules/job_objective/popup/main","mycenter/modules/myresume_new/modules/job_objective/popup_status/main","mycenter/modules/myresume_new/modules/personal_ability/popup/integrative_tag/main","mycenter/modules/myresume_new/modules/personal_ability/popup/self_describe/main","mycenter/modules/myresume_new/modules/project_experience/popup/main","mycenter/modules/myresume_new/modules/edu_experience/popup/main","mycenter/modules/myresume_new/modules/social_page/popup/main","mycenter/modules/myresume_new/modules/work_experience/popup/main","mycenter/modules/myresume_new/modules/portfolio/popup/main","mycenter/modules/myresume_new/common/utils"],function(require){function a(){var a=this;this.isLeave=!0,this.editState=function(){this.isLeave=!1},this.unEditState=function(){this.isLeave=!0},this.score=parseInt(globals.initRatio),this.oMdScore={expectJobsScore:globals.expectJobsScore,projectExpScore:globals.projectExperienceScore,workShowScore:globals.workShowScore,myRemarkScore:globals.myRemarkScore,socailPageScore:globals.socailPageScore,eduExpScore:"10"},this.hasWorkExpModule=!1,this.hasEduExpModule=!1,this.hasProjectExpModule=!1,this.hasSocialExpModule=!1,this.rightNavModule={init:function(){v.del({changeNav:function(c,_,g){c.parents(".mr_md_del").siblings(".editor-tool").children(".del-btn").addClass("dn"),c.parents(".mr_md_del").remove();var h=parseInt(g.content.infoCompleteStatus.score);switch(a.changeScoreTab(h),a.updateResumeTime(g.content.refreshTime),_){case"proExp":a.hasProjectExperiences=!1,$(".pro-exp_group").html("");break;case"socialPage":a.hasSocialAccount=!1,$(".social-page_group").html("");break;case"portfolioPage":a.hasPictures=!1,$(".portfolio-group").html("");break;default:return}},unSuccess:a.ajaxError,fail:a.ajaxError})}},this.jobObjectiveModule={getInfo:function(a){return{id:a.data("id"),positionName:a.find(".expect-job-position").attr("title"),positionNameType1:a.find(".expect-job-position").attr("positiontypefirst"),positionNameType2:a.find(".expect-job-position").attr("positiontypesecond"),city:a.find(".expect-job-city").attr("title"),salarys:a.find(".expect-job-salarys").attr("title")}},getStatusInfo:function(){return{status:$(".job-objective__info span:first").attr("title"),arrivalTime:$(".job-objective__info span:last").attr("title")}},add:function(){var c=this;a.editState(),j.add({data:{id:"",positionName:"",positionNameType1:"",positionNameType2:"",city:"",salarys:""},success:c.jobObjectiveSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#jobPopup").modal("show")},edit:function(c){var _=this;a.editState(),j.edit({data:_.getInfo(c),showDelBtn:$(".expect-job__list .job-expect").length>1,success:_.jobObjectiveSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#jobPopup").modal("show")},"delete":function(c){j.del({id:$.trim(c.data("id")),success:a.jobObjectiveModule.jobObjectiveSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},jobObjectiveSuccess:function(c,_,b){a.jobObjectiveModule.updateSuccess({content:{score:c.content.resumeScore,refreshTime:c.content.refreshTime}}),""!=_.expectId?"del"===b?$(".expect-job__list .job-objective__name[data-id = "+_.expectId+"]").remove():$(".expect-job__list .job-objective__name[data-id = "+_.expectId+"]").replaceWith(h.compile(k)(_)):(_.expectId=c.content.id,$(".expect-job__list").append(h.compile(k)(_))),$(".job-objective__name").length>=3?$(".job-objective .add-btn").addClass("dn"):$(".job-objective .add-btn").removeClass("dn"),1==$(".job-objective__name").length?$(".job-expect .del-btn").addClass("dn"):$(".job-expect .del-btn").removeClass("dn"),"del"!=b&&g("job-objective")},editStatus:function(c){var _=this;a.editState(),y.edit({data:_.getStatusInfo(c),success:_.jobObjectiveStatusSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#jobStatusPopup").modal("show")},jobObjectiveStatusSuccess:function(c,_){a.jobObjectiveModule.updateSuccess({content:{score:c.content.resumeScore,refreshTime:c.content.refreshTime}}),$(".objective-list__status").replaceWith(h.compile(w)({arrivalTime:_.expectArrivalTime,status:_.expectStatus,id:c.content.id})),g("job-objective")},updateSuccess:function(c){a.unEditState(),a.score=c.content.score,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime)}};var _=function(a,c){return 1==a?"student":2==a&&"暂无工作经历"==c?"student":"work"};this.basicModule={$editBtn:$(".basic-info__edit"),getInfo:function(){var a=this.$editBtn,c=$.trim(a.data("name")),_=$.trim(a.data("birthyear")),g=$.trim(a.data("birthmonth")),h=$.trim(a.data("sex")),b=$.trim(a.data("livecity")),v=$.trim(a.data("phone")),j=$.trim(a.data("email")),y=$.trim(a.data("useridentity")),k=$.trim(a.data("joinworktime")),w={phone:v,name:c,birthYear:_,birthMonth:g,sex:h,email:j,userIdentity:y,joinWorkTime:k,liveCity:b};return w},edit:function(){var c=this;b.edit({data:c.getInfo(),success:function(_){a.score=_.content.infoCompleteStatus.score,a.changeScoreTab(a.score),a.updateResumeTime(_.content.refreshTime),c.update(_),g("basic")},unSuccess:a.ajaxError,fail:a.ajaxError})},update:function(c){var g=this,h=c.content.resume,b=this.$editBtn;a.updateResumeTime(c.content.refreshTime);var v=_(h.userIdentity,h.joinWorkTime);return v!=window.globals.identity?void window.location.reload():(b.data("name",h.name),b.data("birthyear",h.birthYear),b.data("birthmonth",h.birthMonth),b.data("sex",h.sex),b.data("livecity",h.liveCity),b.data("phone",h.phone),b.data("email",h.email),b.data("useridentity",h.userIdentity),b.data("joinworktime",h.joinWorkTime),$(".basic-name").html(h.name),"男"==h.sex?$(".icon-sex").removeClass("icon-sex__female").addClass("icon-sex__male"):$(".icon-sex").removeClass("icon-sex__male").addClass("icon-sex__female"),g.updateBasic(c),$(".basic-tel span").html(h.phone).parents(".basic-tel").show(),void $(".basic-email span").html(h.email).parents(".basic-email").show())},updateBasic:function(a){var c=a.content.resume||{},_=a.content.latestWorkExperience||{},g=a.content.latestEducationExperience||{};"work"==window.globals.identity&&(_.companyName&&_.positionName&&($(".basic-company").html(_.companyName),$(".basic-job").html(_.positionName),$(".basic-company").parent().show()),c.workYear&&$(".basic-exp").html(c.workYear+"工作经验").show(),c.highestEducation&&$(".basic-edu").html(" / "+c.highestEducation).show(),c.ageNum&&$(".basic-age").html(" / "+c.ageNum+"岁").show()),"student"==window.globals.identity&&(g.schoolName&&$(".basic-school").html(g.schoolName+" / ").show(),g.education&&$(".basic-edu").html(g.education+" / ").show(),1==g.whetherFresh&&g.whetherFresh?$(".basic-end-year").html("应届毕业生 / ").show():$(".basic-end-year").html(g.endDate+"年毕业 / ").show(),c.ageNum&&$(".basic-age").html(c.ageNum+"岁").show())}},this.perAbilityModule={editSelfDescribe:function(){var c=this;a.editState(),E.edit({data:{myRemark:void 0==$("#perAbility .per-self_des").html()?"":$("#perAbility .per-self_des").html()},success:function(a){g("self_remark"),$(".per-self_content .per-self_des").html(a.content.resume.myRemark),c.changeResume(a)},unSuccess:a.ajaxError,fail:a.ajaxError}),R.setScrollWrapperHeight($(".selfDescribeForm")),$("#selfDescribePopup").modal("show")},editIntegrativeTag:function(c){var _=this,h=[];c.find(".tagboard-tag").each(function(){h.push($.trim($(this).html()))}),a.editState(),S.edit({data:h,success:function(a){g("personal_ability");var c="";if(a.content.abilityLabels){for(var i=0;i<a.content.abilityLabels.length;i++)c+='<span class="tagboard-tag">'+a.content.abilityLabels[i]+"</span>";$(".integrative-tag .integrative-tag_content").html(c),_.changeResume(a)}},unSuccess:a.ajaxError,fail:a.ajaxError}),$("#integrativeTagPopup").modal("show")},changeResume:function(c){a.unEditState(),a.score=c.content.resume.resumeScore,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime)}},this.workExpModule={getInfo:function(a){var c=[];return a.find(".tagboard .tagboard-tag").each(function(){c.push($(this).html())}),{id:$.trim(a.data("workid")),companyName:$.trim(a.find(".exp-list_title span:eq(0)").text()),isItVisible:$.trim(a.data("visible")),workContent:$.trim(a.find(".exp-list_content").html()),companyIndustry:""==a.data("companyindustry")?[]:a.data("companyindustry").split(","),department:$.trim(a.find(".exp-list_title span:eq(1)").text()),positionType:$.trim(a.data("positiontype")),positionType1:$.trim(a.data("positiontype1")),positionType2:$.trim(a.data("positiontype2")),positionName:$.trim(a.find(".exp-list_right p").text()),startDate:$.trim(a.data("startdate")),endDate:$.trim(a.data("enddate")),skillLabels:c}},edit:function(c){var _=this;a.editState(),N.edit({data:_.getInfo(c),success:_.workSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},add:function(){var _=this;a.editState(),c("proExp"),N.add({data:{companyName:"",isItVisible:1,companyIndustry:"",department:"",workContent:"",positionType:"",positionType1:"",positionType2:"",positionName:"",startDate:"",endDate:"",skillLabels:""},success:_.workSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},"delete":function(c){var _=this;N.del({workId:$.trim(c.data("workid")),success:_.workSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},workSuccess:function(c,_,b,v){a.changeBasic(c),a.unEditState(),a.score=c.content.resume.resumeScore,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime),_&&b&&$(".pro-exp_list").each(function(){$(this).find(".exp-project_company").data("workexperienceid")==_&&("del"==b?$(this).find(".exp-project_company").remove():"edit"==b&&$(this).find(".exp-project_company").data("companyname",""!=v?v:"").find("span").html(""!=v?v:""))}),"del"!=b&&g("work_experience",_),$(".work-exp_group").html(h.compile(L)({list:c.content.workExperiences,identity:window.globals.identity,lgsctx:GLOBAL_DOMAIN.lgsctx})),a.workExpModule.lightHightContent(c),0==c.content.workExperiences.length?$(".mr_works_i").siblings(".editor-tool").children(".del-btn").addClass("dn"):$(".mr_works_i").siblings(".editor-tool").children(".del-btn").removeClass("dn")},lightHightContent:function(a){$(".work-exp_group").find(".work-exp_list .exp-list_content").each(function(i){$that=$(this);var c=a?a.content.workExperiences[i].workContent:$that.html();if(a){var _=a.content.workExperiences[i].skillLabels;c=myresumeCommon.utils.lightHighthtml({targetString:c,keywordList:_,className:"active-color"})}else{var _=[];$that.siblings(".tagboard").find(".tagboard-tag").each(function(){_.push($(this).text())}),c=myresumeCommon.utils.lightHighthtml({targetString:c,keywordList:_,className:"active-color"})}$that.siblings(".exp-list_content_highlight").html(c)})}},this.projectExpModule={getInfo:function(a){return{projectid:$.trim(a.data("projectid")),projectName:$.trim(a.find(".exp-project_name").text()),startDate:$.trim(a.data("startdate")),endDate:$.trim(a.data("enddate")),projectRemark:$.trim(a.find(".exp-project_des").html()),projectUrl:$.trim(a.find(".exp-project_url a").text()),dutyRemark:$.trim(a.find(".exp-list_content").html()),companyName:$.trim(a.find(".exp-project_company").data("companyname")),workExperienceId:$.trim(a.find(".exp-project_company").data("workexperienceid"))}},edit:function(c){var _=this;a.editState(),I.edit({data:_.getInfo(c),success:_.projectSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},add:function(){var _=this;a.editState(),c("proExp"),I.add({data:{projectid:"",projectName:"",startDate:"",endDate:"",projectRemark:"",projectUrl:"",dutyRemark:"",companyName:"",workExperienceId:""},success:_.projectSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},"delete":function(c){var _=this;I.del({projectid:$.trim(c.data("projectid")),success:_.projectSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},projectSuccess:function(c){a.unEditState(),a.score=c.content.infoCompleteStatus.score,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime),$(".pro-exp_group").html(h.compile(T)({list:c.content.projectExperiences})),0==c.content.projectExperiences.length?$(".mr_project_i").siblings(".editor-tool").children(".del-btn").addClass("dn"):$(".mr_project_i").siblings(".editor-tool").children(".del-btn").removeClass("dn")}},this.eduExpModule={getInfo:function(a){return{schoolName:$.trim(a.data("schoolname")),professional:$.trim(a.data("professional")),education:$.trim(a.data("education")),endDate:$.trim(a.data("enddate")),startDate:$.trim(a.data("startdate")),isUnifiedEntrance:$.trim(a.data("isunifiedentrance")),id:$.trim(a.data("id"))}},add:function(){a.editState(),c("eduExp");var _=this;M.eduAdd({data:{schoolName:"",professional:"",education:"",endDate:"",startDate:"",isUnifiedEntrance:1},success:_.eduSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#eduPopup").modal("show")},edit:function(c){a.editState();var _=this;M.eduEdit({data:_.getInfo(c),showDelBtn:$(".edu-exp_group .edu-exp_list").length>1,success:_.eduSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#eduPopup").modal("show")},"delete":function(c){var _=this;M.eduDel({id:c.data("id"),success:_.eduSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},eduSuccess:function(c,_){a.changeBasic(c),a.unEditState(),a.score=c.content.infoCompleteStatus.score,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime),$(".edu-exp_group").html(h.compile(P)({list:c.content.educationExperiences,lgsctx:GLOBAL_DOMAIN.lgsctx})),g("edu_experience",_)}},this.SocialExpModule={getInfo:function(a){var c=[];return a.find(".social-page_content p").each(function(){c.push({accountUrl:$(this).text()})}),c},add:function(){a.editState();var _=this,g=_.getInfo($("#socialPage"));c("socialPage"),C.initialState({status:"add",editData:null,data:g,success:_.socialSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#socialPopup").modal("show")},edit:function(c){a.editState();var _=this,g=_.getInfo($("#socialPage")),h={index:c.data("index"),url:c.find("p").text()};C.initialState({status:"edit",editData:h,data:g,success:_.socialSuccess,unSuccess:a.ajaxError,fail:a.ajaxError}),$("#socialPopup").modal("show")},"delete":function(c){var _=this,g=_.getInfo($("#socialPage")),h={index:c.data("index"),url:c.find("p").text()};C.initialState({status:"delSigle",editData:h,data:g,success:_.socialSuccess,unSuccess:a.ajaxError,fail:a.ajaxError})},socialSuccess:function(c){a.unEditState(),a.score=c.content.infoCompleteStatus.score,a.changeScoreTab(a.score),a.updateResumeTime(c.content.refreshTime),$(".social-page_group").html(h.compile(D)({list:c.content.accountCoreInfos})),0==c.content.accountCoreInfos.length?$(".mr_social_account_i").siblings(".editor-tool").children(".del-btn").addClass("dn"):$(".mr_social_account_i").siblings(".editor-tool").children(".del-btn").removeClass("dn")}},this.portfolioModule={add:function(){var c=this;O.add({success:c.success,fail:function(c){$("#uploadPortfolio").modal("hide"),a.ajaxError(c?c.msg:"")}}),$("#uploadPortfolio").modal("show")},"delete":function(c){var _=this;O.del({id:c.data("id"),success:_.success,fail:function(c){$("#uploadPortfolio").modal("hide"),a.ajaxError(c?c.msg:"")}})},success:function(a){$(".portfolio-group").html(h.compile(A)({list:a.content.pictures})),0==a.content.pictures.length?$(".mr_portfolio_account_i").siblings(".editor-tool").children(".del-btn").addClass("dn"):($(".mr_portfolio_account_i").siblings(".editor-tool").children(".del-btn").removeClass("dn"),$(".portfolio-group .galpop-multiple").galpop({maxWidth:"800",maxHeight:"auto",loop:!1})),$("#uploadPortfolio").modal("hide")}},this.changeBasic=function(a){var c=this;c.basicModule.updateBasic(a)},this.ajaxError=function(a){$("#ajaxError h4").html(a||"网络出错啦"),$.colorbox({title:"出错了",href:"#ajaxError",inline:!0})},this.updateScore=function(a,c){var _=a/100*250,g=c/100*250;$(".mr_solid").animate({width:_}),$(".mr_dashed").animate({width:g}),$(".mr_top .mr_bfb").text(a+"分")},this.changeScoreTab=function(a){B.updateScore(a,a),$(".mr-score").text(a+"分")},this.updateResumeTime=function(a){$(".upResumeTime").text(a)}}function c(a){var c=0,_=0;switch(a){case"workExp":_=parseInt(B.oMdScore.workShowScore);break;case"proExp":_=parseInt(B.oMdScore.projectExpScore);break;case"eduExp":_=parseInt(B.oMdScore.eduExpScore);break;case"socialPage":_=parseInt(B.oMdScore.socailPageScore);break;default:return}c=B.score+_,c>=100&&(c=100),c<B.score&&(c=B.score),B.updateScore(B.score,c)}function _(a,c){var _=H[parseInt(a)];switch(_){case"avator":$(".basic-photo").trigger("click");break;case"basic":$(".basic-info__edit").trigger("click");break;case"self_remark":$(".per-self_content .edit-btn").trigger("click");break;case"personal_ability":$(".integrative-tag .edit-btn").trigger("click");break;case"edu_experience":if(!c)return void $("#eduExp .mr-template_title .add-btn").trigger("click");$('.edu-exp_list[data-id="'+c+'"]').find(".edit-btn").trigger("click");break;case"work_experience":if(!c)return void $("#workExp .mr-template_title .add-btn").trigger("click");$('.work-exp_list[data-workid="'+c+'"]').find(".edit-btn").trigger("click");break;case"job-objective":$(".job-objective .edit-btn").trigger("click")}}function g(a,c){var _=F[a];switch(a){case"avator":case"basic":case"personal_ability":case"self_remark":case"job-objective":$('.todo-list__btn[data-module="'+_+'"]').parents("li").remove();break;case"edu_experience":case"work_experience":var g=$('.todo-list__btn[data-module="'+_+'"][data-id="'+c+'"]');g.length>0?g.parents("li").remove():$('.todo-list__btn[data-module="'+_+'"][data-type="add"]').parents("li").remove()}0==$(".todo-list li:visible").length&&$(".todo-list").hide()}require("mycenter/modules/myresume_new/common/modal"),require("mycenter/modules/common/js/common"),require("mycenter/modules/common/js/components"),require("mycenter/modules/common/js/libs/jquery.lib");var h=require("dep/artTemplate/dist/template");require("common/components/jquery-ajaxfileupload/ajaxfileupload"),require("mycenter/modules/common/js/jquery.cropzoom"),require("mycenter/modules/common/js/jquery-migrate-1.1.1"),require("mycenter/modules/common/js/jquery-ui-1.8.custom.min"),require("mycenter/modules/myresume_new/common/galpop/jquery.galpop"),require("mycenter/modules/myresume_new/modules/body-ad/main");var b=require("mycenter/modules/myresume_new/modules/basic/popup/main").basicEdit,v=require("mycenter/modules/myresume_new/modules/right_nav/main"),j=require("mycenter/modules/myresume_new/modules/job_objective/popup/main"),y=require("mycenter/modules/myresume_new/modules/job_objective/popup_status/main"),k='<div class="job-objective__name job-expect" data-id="{{expectId}}">\n    <p class="job-objective__des">\n    <span class="expect-job-position" title="{{positionName}}" positiontypefirst="{{positionNameType1}}" positiontypesecond="{{positionNameType2}}">{{positionName}}</span>\n    <span class="expect-job-city" title="{{city}}">/ {{city}}</span>\n    <span class="expect-job-salarys" title="{{salarys}}">/ {{salarys}}</span>\n    </p>\n    <div class="editor-tool">\n            <em class="edit-btn" data-lg-tj-id="1jit" data-lg-tj-no="0066" data-lg-tj-cid="idnull">编辑</em>\n            <em class="del-btn" data-lg-tj-id="1jit" data-lg-tj-no="0067" data-lg-tj-cid="idnull">删除</em>\n    </div>\n</div>',w=' <ul class="job-objective__list objective-list__status" data-id="{{id}}">\n    <li class="job-objective__info {{if status && status == \'\'}} dn  {{/if}}">\n        <i class="expectJob-icon"></i>\n        {{if status && status != ""}}\n        <span title="{{status}}">{{status}}</span>\n        {{else}}\n        <span></span>\n        {{/if}}\n        {{if arrivalTime && arrivalTime != "" && status != "暂时不换工作" && arrivalTime != "--"}}\n        / <span title="{{arrivalTime}}">{{arrivalTime}}可入职</span>\n        {{else if (arrivalTime == ""&& status != "暂时不换工作")||(arrivalTime== "--"&& status == "")}}\n        <span title=""></span>\n        {{else}}\n        <span></span>\n        {{/if}}\n    </li> \n</ul>',S=require("mycenter/modules/myresume_new/modules/personal_ability/popup/integrative_tag/main"),E=require("mycenter/modules/myresume_new/modules/personal_ability/popup/self_describe/main"),I=require("mycenter/modules/myresume_new/modules/project_experience/popup/main"),T='{{each list as value i}}\n<li class="pro-exp_list" data-startdate="{{value.startDate}}" data-enddate="{{value.endDate}}" data-id="{{value.resumeId}}" data-projectid="{{value.id}}">\n    <div class="editor-tool">\n            <em class="edit-btn" data-lg-tj-id="1jit" data-lg-tj-no="0007" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_editor active-color"></i>\n                    编辑\n            </em>\n            <em class="del-btn" data-lg-tj-id="1jit" data-lg-tj-no="0008" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_delete active-color"></i>\n                    删除\n            </em>\n    </div>\n   \n     <p class="exp-list_title exp-project_url ">\n     <span class="exp-project_name">{{value.projectName}}</span>\n     {{if value.companyName}}\n     <span class="exp-project_company" data-workexperienceid="{{value.workExperienceId}}" data-companyname="{{value.companyName}}">（<span>{{value.companyName}}</span>）</span>\n     {{/if}}\n     </p>\n    <p  class="exp-list_time">{{value.startDate}}-{{value.endDate}}</p>\n    <div  class="exp-project_des">{{value.projectRemark}}</div>\n    <div class="exp-list_content">\n        {{value.dutyRemark}}\n    </div>\n    {{if value.projectUrl}}\n    <p class="exp-project_url">项目链接: <a href="{{value.projectUrl}}" target="_blank" data-lg-tj-id="1jit" data-lg-tj-no="0009" data-lg-tj-cid="idnull"> {{value.projectUrl}}</a></p>\n    {{/if}}\n</li>\n{{/each}}',M=require("mycenter/modules/myresume_new/modules/edu_experience/popup/main"),P='{{each list as value i}}\n<li class="edu-exp_list" data-schoolname="{{value.schoolName}}" data-startdate="{{value.startDate}}" data-enddate="{{value.endDate}}" data-education="{{value.education}}" data-professional="{{value.professional}}" data-isUnifiedEntrance= "{{value.isUnifiedEntrance}}" data-id="{{value.id}}">\n    <div class="editor-tool">\n            <em class="edit-btn" data-lg-tj-id="1jit" data-lg-tj-no="0011" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_editor active-color"></i>\n                    编辑\n            </em>\n            {{if list.length > 1}}\n            <em class="del-btn" data-lg-tj-id="1jit" data-lg-tj-no="0012" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_delete active-color"></i>\n                    删除\n            </em>\n            {{/if}}\n    </div>\n    <p  class="exp-list_time">{{value.startDate}}-{{value.endDate}}</p>\n    <div class="exp-list_top">\n        {{if value.schoolBadge}}\n            <img src="{{lgsctx}}/{{value.schoolBadge}}" alt="学校Logo">\n        {{else}}\n            <img src="//www.lgstatic.com/lg-www-fed/mycenter/modules/common/img/defalutLogo_4b74a9a.png" alt="学校Logo"/>\n        {{/if}}\n        <div class="exp-list_right">\n            <strong>{{value.schoolName}}</strong>\n            <p>{{value.education}}{{if value.education == "本科" && value.isUnifiedEntrance == 1}} . 统招 {{/if}}/ {{value.professional}}</p>\n        </div>\n    </div>\n</li>\n{{/each}}',C=require("mycenter/modules/myresume_new/modules/social_page/popup/main"),D='{{each list as value i}}\n<li class="social-page_list" data-index="{{i+1}}">\n    <div class="editor-tool">\n            <em class="edit-btn" data-lg-tj-id="1jit" data-lg-tj-no="0014" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_editor active-color"></i>\n                    编辑\n            </em>\n            <em class="del-btn" data-lg-tj-id="1jit" data-lg-tj-no="0015" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_delete active-color"></i>\n                    删除\n            </em>\n    </div>\n    <a class="social-page_content" href="{{value.accountUrl}}" target="_blank">\n        <img src="{{value.iconPath}}" alt="">\n        <p>{{value.accountUrl}}</p>\n    </a>\n</li>\n{{/each}}',N=require("mycenter/modules/myresume_new/modules/work_experience/popup/main"),L='{{each list as value i}}\n<li class="work-exp_list" data-startdate="{{value.startDate}}" data-enddate="{{value.endDate}}" data-id="{{value.resumeId}}" data-workid="{{value.id}}" data-visible="{{value.isItVisible}}"data-positiontype="{{value.positionType}}" data-positiontype1="{{value.positionType1}}" data-positiontype2="{{value.positionType2}}" data-companyindustry="{{value.companyIndustry}}">\n    <div class="editor-tool">\n            <em class="edit-btn" data-lg-tj-id="1jit" data-lg-tj-no="0004" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_editor active-color"></i>\n                    编辑\n            </em>\n            {{if list.length > 1}}\n            <em class="del-btn" data-lg-tj-id="1jit" data-lg-tj-no="0005" data-lg-tj-cid="idnull">\n                    <i class="icon-icon_resume_delete active-color"></i>\n                    删除\n            </em>\n            {{/if}}\n    </div>\n    <p  class="exp-list_time">{{value.startDate}}-{{value.endDate}}</p>\n    <div class="exp-list_top">\n        {{if value.companyLogo && value.companyLogo!= "" && value.companyLogo!= " "}}\n        <img src="{{lgsctx}}/{{value.companyLogo}}" alt="公司Logo">\n        {{else}}\n        <img src="//www.lgstatic.com/lg-www-fed/mycenter/modules/common/img/defalutLogo_4b74a9a.png" alt="公司Logo"/>\n        {{/if}}\n        <div class="exp-list_right">\n                <strong class="exp-list_title">\n                <span>{{value.companyName}}</span>\n                {{if value.department}}\n                 ／ <span>{{value.department}}</span>\n                 {{/if}}\n                </strong>\n            <p>{{value.positionName}}</p>\n        </div>\n    </div>\n    <div class="tagboard">\n            {{each value.skillLabels as skillLabel }}\n            <span class="tagboard-tag"> {{skillLabel}}</span>\n            {{/each}}\n        </div>\n    <div class="exp-list_content dn">\n            {{value.workContent}}\n    </div>\n    <div class="exp-list_content_highlight">\n    </div>\n</li>\n{{/each}}',O=require("mycenter/modules/myresume_new/modules/portfolio/popup/main"),A='{{each list as value i}}\n<li class="portfolio-list" data-id="{{value.id}}">\n    <i class="portfolio-del" data-lg-tj-id="1jit" data-lg-tj-no="0066" data-lg-tj-cid="idnull"></i>\n    <a class="portfolio-content galpop-multiple" data-galpop-group="multiple" href="{{value.url}}" style="background:url({{value.thumbnailUrl}}) no-repeat center;background-size: cover;">\n    </a>\n</li>\n{{/each}}',R=require("mycenter/modules/myresume_new/common/utils"),B=new a;if(B.rightNavModule.init(),B.workExpModule.lightHightContent(),B.updateScore(B.score,B.score),0!=Number(globals.resumeTaskListIndex)&&null==localStorage.getItem("firstEnterFlag")){var U=$(".mr-myresume-left .todo-list").offset().top;$(".modal-guide .modal-dialog").css("margin",U+"px auto 0px"),$("#guideModal").modal("show"),localStorage.setItem("firstEnterFlag",!0)}$(".modal").on("hidden.bs.modal",function(){$(".modal.in").length>0&&$("body").addClass("modal-open")}),$("#isLeaveModal .confirmBtn").on("click",function(){var a=$("#isLeaveModal").data("closeModal");$("#isLeaveModal").modal("hide"),a&&$("#"+a).modal("hide"),B.updateScore(B.score,B.score),B.unEditState()}),window.onbeforeunload=function(){return B.isLeave?void 0:"内容还未保存，确认离开该页面吗？ "},$("body").on("click",".mr_md_del .mr_del_cel",function(){$(this).parents(".mr_md_del").remove()}),$(document).bind("click",function(){$(".mr-template .mr_md_del,.right-nav__item .mr_md_del,.job-objective__name .mr_md_del,.nearbyResumes-group .mr_md_del_resume").remove()}),$(".job-objective").on("click",".add-btn",function(){B.jobObjectiveModule.add()}),$(".job-objective").on("click",".job-expect .edit-btn",function(){B.jobObjectiveModule.edit($(this).parents(".job-objective__name"))}),$(".job-objective").on("click",".job-expect .del-btn",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".job-objective__name").append($("#del_hide_tip_sigle").html())}),$(".job-objective").on("click",".job-objective__name .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.jobObjectiveModule.delete($(this).parents(".job-objective__name"))}),$(".job-expect__statue").on("click",".edit-btn",function(){B.jobObjectiveModule.editStatus($(this).parents(".job-objective"))}),$("#perAbility").on("click",".integrative-tag .edit-btn",function(){B.perAbilityModule.editIntegrativeTag($(this).parents(".integrative-tag"))}),$("#perAbility").on("click",".per-self_content .edit-btn",function(){B.perAbilityModule.editSelfDescribe($(this).parents(".per-self_content"))}),$("#workExp .mr-template_title").on("click",".add-btn",function(){B.workExpModule.add()}),$("#workExp").on("click",".work-exp_list .edit-btn",function(){B.workExpModule.edit($(this).parents(".work-exp_list"))}),$("#workExp").on("click",".work-exp_list .del-btn",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".work-exp_list").append($("#del_hide_tip_sigle").html())}),$(".work-exp_group").on("click",".work-exp_list .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.workExpModule.delete($(this).parents(".work-exp_list"))}),$("#proExp .mr-template_title").on("click",".add-btn",function(){B.projectExpModule.add()}),$("#proExp").on("click",".pro-exp_list .edit-btn",function(){B.projectExpModule.edit($(this).parents(".pro-exp_list"))}),$("#proExp").on("click",".pro-exp_list .del-btn",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".pro-exp_list").append($("#del_hide_tip_sigle").html())}),$(".pro-exp_group").on("click",".pro-exp_list .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.projectExpModule.delete($(this).parents(".pro-exp_list"))}),$("#eduExp .mr-template_title").on("click",".add-btn",function(){B.eduExpModule.add()}),$("#eduExp").on("click",".edu-exp_list .edit-btn",function(){B.eduExpModule.edit($(this).parents(".edu-exp_list"))}),$("#eduExp").on("click",".edu-exp_list .del-btn",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".edu-exp_list").append($("#del_hide_tip_sigle").html())}),$(".edu-exp_group").on("click",".edu-exp_list .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.eduExpModule.delete($(this).parents(".edu-exp_list"))}),$("#socialPage .mr-template_title").on("click",".add-btn",function(){B.SocialExpModule.add()}),$("#socialPage").on("click",".social-page_list .edit-btn",function(){B.SocialExpModule.edit($(this).parents(".social-page_list"))}),$("#socialPage").on("click",".social-page_list .del-btn",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".social-page_list").append($("#del_hide_tip_sigle").html())}),$(".social-page_group").on("click",".social-page_list .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.SocialExpModule.delete($(this).parents(".social-page_list"))
}),$(".mr_bottom_l").bind("click",function(e){e.stopPropagation();var a=$(".mr_down_tip");a.is(":hidden")?a.removeClass("dn"):a.addClass("dn")}),$(".mr_down_tip li").bind("click",function(e){e.stopPropagation(),$(".mr_down_tip").addClass("dn")}),$(".mr_down_tip li").hover(function(){$(".mr_down_tip li.active").removeClass("active"),$(this).addClass("active")},function(){$(".mr_down_tip li.active").removeClass("active"),$(this).removeClass("active")}),$(document).click(function(){var a=$(".mr_down_tip");a.is(":hidden")||a.addClass("dn")}),$(".basic-info .edit-btn").bind("click",function(){B.basicModule.edit()});var W=!1;$(".basic-photo").bind("click",function(){var a=$(document).height(),c=$.trim($(".basic-info__edit").data("sex"));$(".upload-pop__default-area").show(),"男"==c&&$(".upload-pop__female").hide(),"女"==c&&$(".upload-pop__male").hide(),$(".upload-pop").fadeIn(),$(".upload-pop__bg").height(a).fadeIn()}),$(".upload-pop__bg").bind("click",function(){$(".upload-pop").fadeOut(),$(".upload-pop__bg").fadeOut()}),$(".upload-pop__close").bind("click",function(){$(".upload-pop__bg").trigger("click")}),$(".upload-pop__default").bind("click",function(e){e.stopPropagation();var a=$(this),c=a.find("img").attr("src").replace(GLOBAL_DOMAIN.lgsctx,"");W||(W=!0,$.lgAjax({url:GLOBAL_DOMAIN.ctx+"/resume/saveHeadPic.json",type:"GET",data:{headPicPath:c}}).done(function(a){if(W=!1,a.success){var c=$(".user-avatar");c.attr("src",GLOBAL_DOMAIN.lgsctx+"/"+a.content.headPicPath),c.show(),null!=a.resubmitToken&&""!=a.resubmitToken&&(globals.token=a.resubmitToken),$(".upload-pop__bg").trigger("click");var rt=a.content.infoCompleteStatus.score;B.updateScore(rt),g("avator")}}).fail(function(){W=!1}))});var G=function(){var a,c=$("#uploadImages"),_=c.find("#cropzoom_container"),h=c.find("#crop"),b=c.find("#restore");h.bind("click",function(){a.send(GLOBAL_DOMAIN.ctx+"/resume/cutPic.json","POST",{resubmitToken:globals.token},function(c){if(!c.content)return void console.log("上传图片失败");$("#up_txpic").val("");var _=$(".user-avatar");_.attr("src",GLOBAL_DOMAIN.ctx+"/"+c.content.uploadPath+"?cc="+Math.random()),a.showImage&&a.showImage.attr("src",GLOBAL_DOMAIN.ctx+"/"+c.content.uploadPath+"?cc="+Math.random()),$.colorbox.close(),a.showImage=null,null!=c.resubmitToken&&""!=c.resubmitToken&&(globals.token=c.resubmitToken);var rt=c.content.infoCompleteStatus.score;B.updateScore(rt),$(".upload-pop__bg").trigger("click"),a.restore(),g("avator")})}),b.bind("click",function(){a.restore(),$(".shadow").hide(),$(".mr_headfile").hover(function(){$(".shadow").show()},function(){$(".shadow").hide()}),$.colorbox.close(),$("#up_txpic").val("")});var v=function(g){$("#up_txpic").val("");var h=$(".mr_headimg"),b=GLOBAL_DOMAIN.ctx+"/"+g.uploadPath;$.colorbox({inline:!0,href:c,title:"选择裁剪区域"}),myresumeCommon.config.cutImage.image.source=b,myresumeCommon.config.cutImage.image.width=g.srcImageW,myresumeCommon.config.cutImage.image.height=g.srcImageH,myresumeCommon.config.cutImage.selector.w=myresumeCommon.config.userPhotoSelector.width,myresumeCommon.config.cutImage.selector.h=myresumeCommon.config.userPhotoSelector.height,a=_.cropzoom(myresumeCommon.config.cutImage),a.showImage=null,a.showImage=h},j=function(){$("#up_txpic").val("")};return{upSucc:v,upFail:j}}();window.uploadPhoto=G,$("#colorbox").on("click","#cboxClose",function(){$("#up_txpic").val(""),"uploadImages"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")});var H={1:"avator",2:"basic",3:"self_remark",4:"personal_ability",5:"work_experience",6:"edu_experience",7:"job-objective"},F={avator:1,basic:2,self_remark:3,personal_ability:4,work_experience:5,edu_experience:6,"job-objective":7};$(".todo-list__btn").bind("click",function(){var a=$(this),module=$.trim(a.data("module")),c=$.trim(a.data("id"));_(module,c)}),$("#portfolioPage .mr-template_title").on("click",".add-btn",function(){B.portfolioModule.add()}),$(".portfolio-group .galpop-multiple").galpop({maxWidth:"800",maxHeight:"auto",loop:!1}),$("#portfolioPage").on("click",".portfolio-list .portfolio-del",function(e){e.preventDefault(),e.stopPropagation(),$(document).trigger("click"),$(this).parents(".portfolio-list").append($("#del_hide_tip_sigle").html())}),$(".portfolio-group").on("click",".portfolio-list .mr_md_del .mr_del_btn",function(e){e.preventDefault(),e.stopPropagation(),$(this).text("删除中").attr("disabled",!0),B.portfolioModule.delete($(this).parents(".portfolio-list"))})});
/*!mycenter/page/myresume/main.js*/
;define("mycenter/page/myresume/main",["require","exports","module","mycenter/modules/myresume_new/main","common/widgets/plat/poster"],function(require){require("mycenter/modules/myresume_new/main"),require("common/widgets/plat/poster")});